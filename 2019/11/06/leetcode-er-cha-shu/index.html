
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="LeetCode,äºŒå‰æ ‘," />
  

  
    <meta name="description" content="å¤§æ‚²æ— æ³ªï¼Œå¤§æ‚Ÿæ— è¨€ï¼Œå¤§ç¬‘æ— å£°ã€‚" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/img/cat.ico">
  
  <title>LeetCodeäºŒå‰æ ‘ [ iM1Gw0 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
    <span class="title" style="text-transform:none">iM1Gw0</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">é¦–é¡µ</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="post" class="pure-menu-link">æ–‡ç« </a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">åˆ†ç±»</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">å½’æ¡£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">æ ‡ç­¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/music" style="color:#202020;" class="pure-menu-link">éŸ³ä¹</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="ç®—æ³•" class="pure-menu-link">ç®—æ³•</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/" style="color:#202020;" class="pure-menu-link">æ•°ç»„</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/02/27/leetcode-lian-biao/" style="color:#202020;" class="pure-menu-link">é“¾è¡¨</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/01/leetcode-zhan-dui-lie/" style="color:#202020;" class="pure-menu-link">æ ˆ&amp;é˜Ÿåˆ—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/15/leetcode-cha-zhao/" style="color:#202020;" class="pure-menu-link">æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/" style="color:#202020;" class="pure-menu-link">æ»‘åŠ¨çª—å£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/" style="color:#202020;" class="pure-menu-link">åŠ¨æ€è§„åˆ’</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/12/06/leetcode-er-fen-cha-zhao/" style="color:#202020;" class="pure-menu-link">äºŒåˆ†æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/06/leetcode-er-cha-shu/" style="color:#202020;" class="pure-menu-link">äºŒå‰æ ‘</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/29/leetcode-bei-bao-wen-ti/" style="color:#202020;" class="pure-menu-link">èƒŒåŒ…é—®é¢˜</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/10/leetcode-hui-su/" style="color:#202020;" class="pure-menu-link">å›æº¯</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/01/21/leetcode-tan-xin/" style="color:#202020;" class="pure-menu-link">è´ªå¿ƒ</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/07/03/leetcode-wei-yun-suan/" style="color:#202020;" class="pure-menu-link">ä½è¿ç®—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/08/28/leetcode-dan-diao-zhan/" style="color:#202020;" class="pure-menu-link">å•è°ƒæ ˆ</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/project" class="pure-menu-link">Github</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/search" class="pure-menu-link">æœç´¢</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">å…³äº</a></li>
            
          
      
  </ul>
   
</nav>

  </div>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        LeetCodeäºŒå‰æ ‘
      </h1>
      <span>
        
        <time class="time" datetime="2019-11-05T16:00:00.000Z">
        2019-11-06
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">äºŒå‰æ ‘</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> ç‚¹å‡»
    </span>
      <span class="slash">/</span>
      <span class="read">é˜…è¯»è€—æ—¶ 254 åˆ†é’Ÿ</span>
    </header>

    <div class="post-content">
      <h2 id="LeetCode-äºŒå‰æ ‘"><a href="#LeetCode-äºŒå‰æ ‘" class="headerlink" title="LeetCode äºŒå‰æ ‘"></a><em>LeetCode äºŒå‰æ ‘</em></h2><blockquote>
<p>å–„ç”¨<strong>ctrl+f</strong></p>
</blockquote>
<h2 id="144-äºŒå‰æ ‘çš„å‰åºéå†"><a href="#144-äºŒå‰æ ‘çš„å‰åºéå†" class="headerlink" title="144. äºŒå‰æ ‘çš„å‰åºéå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-preorder-traversal/" target="_blank" rel="noopener">144. äºŒå‰æ ‘çš„å‰åºéå†</a></h2><p>Given a binary tree, return the <em>preorder</em> traversal of its nodesâ€™ values.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">   <span class="number">1</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">2</span></span><br><span class="line">    /</span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">Output: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<p><strong>Follow up:</strong> Recursive solution is trivial, could you do it iteratively?</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        res.add(root.val);</span><br><span class="line">        preorderTraversal(root.left);</span><br><span class="line">        preorderTraversal(root.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ•™ç§‘ä¹¦ä¸Šçš„å†™æ³•ï¼Œç»å…¸çš„å‰åºéå†éé€’å½’å®ç°æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode top=stack.pop();</span><br><span class="line">        res.add(top.val);</span><br><span class="line">        <span class="comment">//æ³¨æ„é¡ºåº</span></span><br><span class="line">        <span class="keyword">if</span> (top.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(top.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (top.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(top.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>éé€’å½’ï¼Œæ¨¡æ‹Ÿé€’å½’æ ˆçš„æ–¹å¼ï¼Œè®°å½•èŠ‚ç‚¹ä»¥åŠæ˜¯å¦éœ€è¦ç»§ç»­å¯»æ‰¾å­èŠ‚ç‚¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;Command&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="keyword">new</span> Command(<span class="keyword">true</span>,root));</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        Command command=stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (!command.isGo) &#123;</span><br><span class="line">            res.add(command.node.val);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            TreeNode node=command.node;</span><br><span class="line">            <span class="comment">//é€†åºè¿›æ ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> Command(<span class="keyword">true</span>,node.right));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> Command(<span class="keyword">true</span>,node.left));</span><br><span class="line">            &#125;    </span><br><span class="line">            stack.push(<span class="keyword">new</span> Command(<span class="keyword">false</span>,node));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Command</span></span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>  isGo; <span class="comment">//æ˜¯å¦ç»§ç»­å¯»æ‰¾å­èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode node; <span class="comment">//å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Command</span><span class="params">(<span class="keyword">boolean</span> isGo,TreeNode node)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.isGo=isGo;</span><br><span class="line">        <span class="keyword">this</span>.node=node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>boboè€å¸ˆçš„ä¸€ç§æ€è·¯ï¼Œå¯ä»¥è¯´æ˜¯ç›¸å½“å¦™äº†ğŸ‘ï¼Œä¸€ä¸‹å°±è§£å†³äº†ä¸‰ç§éå†çš„éé€’å½’å®ç°ï¼Œå¦å¤–ä¸¤ç§åªéœ€è¦è°ƒæ•´ä¸€ä¸‹è¿›æ ˆçš„é¡ºåºå°±å¯ä»¥äº†ï¼</p>
<p><strong>è§£æ³•å››</strong></p>
<p>æ‰¾åˆ°ä¸€ä¸ªæ¿å­ï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸‰ç§éå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç»å…¸çš„éé€’å½’å®ç°æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal4</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span>||!stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            res.add(cur.val);</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ²¡æœ‰å·¦å­æ ‘äº†</span></span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        <span class="comment">//åˆ‡æ¢ä¸ºå³å­æ ‘</span></span><br><span class="line">        cur=cur.right;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³äº <code>while(cur!=null||!stack.isEmpty())</code>ï¼Œå…¶å®æ ˆä¸­å­˜çš„åªæ˜¯æŸä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„æ‰€æœ‰å·¦å­æ ‘ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ ˆä¸ºç©ºä¸ä»£è¡¨å·²ç»éå†å®Œæ‰€æœ‰èŠ‚ç‚¹äº†ï¼Œåªèƒ½ä»£è¡¨å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘éƒ½éå†å®Œäº†ï¼Œè¿˜æœ‰å³å­æ ‘è¿˜æ²¡éå†ï¼Œåªæœ‰å½“å³å­æ ‘ä¹Ÿä¸ºç©ºä¹Ÿå°±æ˜¯<code>cur==null</code> çš„æ—¶å€™æ‰æ˜¯éå†å®Œäº†ï¼Œå…·ä½“çœ‹ä¸€ä¸‹ä¸‹é¢è¿™é¢—æ ‘å°±æ˜ç™½äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">      <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">4</span>    <span class="number">6</span> </span><br><span class="line">  /      \</span><br><span class="line"><span class="number">3</span>       <span class="number">8</span></span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="589-Nå‰æ ‘çš„å‰åºéå†"><a href="#589-Nå‰æ ‘çš„å‰åºéå†" class="headerlink" title="589. Nå‰æ ‘çš„å‰åºéå†"></a><a href="https://leetcode-cn.com/problems/n-ary-tree-preorder-traversal/" target="_blank" rel="noopener">589. Nå‰æ ‘çš„å‰åºéå†</a></h2><p>ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<em>å‰åºéå†</em>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ª <code>3å‰æ ‘</code> :</p>
<p><img src="https://s2.ax1x.com/2019/11/20/MWwEt0.png" alt="MWwEt0.png"></p>
<p>è¿”å›å…¶å‰åºéå†: <code>[1,3,5,6,2,4]</code>ã€‚</p>
<p><strong>è¯´æ˜:</strong> é€’å½’æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿­ä»£æ³•å®Œæˆæ­¤é¢˜å—?</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’æ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€’å½’çš„æ–¹å¼</span></span><br><span class="line">List&lt;Integer&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorder</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Node&gt; children=root.children;</span><br><span class="line">    res.add(root.val);</span><br><span class="line">    <span class="keyword">for</span> (Node node:children) &#123;</span><br><span class="line">        preorder(node);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿­ä»£çš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorder</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Node&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        Node node=stack.pop();</span><br><span class="line">        res.add(node.val);</span><br><span class="line">        List&lt;Node&gt; children=node.children;</span><br><span class="line">        <span class="comment">//é€†åºæ·»åŠ </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=children.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">            stack.add(children.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ°è¿™é‡Œæˆ‘æ˜¯çœŸçš„å¯¹éå†çš„é‚£ä¸ªæ¿å­æ— æ„Ÿäº†ï¼Œè¿™é‡Œæˆ‘å¼€å§‹æƒ³ç”¨æ¿å­å†™ï¼Œç»“æœå‘ç°å¹¶ä¸å¥½å†™ï¼Œæ— ä»ä¸‹æ‰‹ï¼ˆå¯èƒ½æ˜¯æˆ‘å¤ªèœï¼‰ï¼Œæ‰€ä»¥é‡‡ç”¨äº†ç»å…¸çš„å‰åºéå†æ–¹å¼ï¼Œæœç„¶ç»å…¸å°±æ˜¯ç»å…¸ï¼Œé€šç”¨æ€§å¾ˆå¼ºï¼Œè€Œä¸”ç›¸å½“å¥½ç†è§£ï¼Œæ‰€ä»¥ä»¥åé‡åˆ°éå†çš„é¢˜ç›®ï¼Œå°½é‡è¿˜æ˜¯è‡ªå·±å†™ï¼Œåˆ«å¥—æ¿å­ï¼ˆå¯¹ååºçš„æ¿å­ä¹Ÿä¸€ç›´ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œæ‰€ä»¥ä¹Ÿä¸€ç›´æ²¡è®°ä½ï¼Œå¥—æ¿å­è¿˜æ˜¯è¦å»ºç«‹åœ¨ç†è§£çš„åŸºç¡€ä¸Šå•Šï¼Œä¸ç„¶æ°¸è¿œä¸ä¼šåšï¼ï¼‰</p>
<h2 id="94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#94-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="94. äºŒå‰æ ‘çš„ä¸­åºéå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/" target="_blank" rel="noopener">94. äºŒå‰æ ‘çš„ä¸­åºéå†</a></h2><p>Given a binary tree, return the <em>inorder</em> traversal of its nodesâ€™ values.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">   <span class="number">1</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">2</span></span><br><span class="line">    /</span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">Output: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p><strong>Follow up:</strong> Recursive solution is trivial, could you do it iteratively?</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’çš„æ–¹å¼å’Œæ¨¡æ‹Ÿæ ˆçš„æ–¹å¼å°±ä¸è®°å½•äº†ï¼Œé‡ç‚¹çœ‹ä¸€ä¸‹è¿™ä¸ªæ¿å­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç»å…¸çš„éé€’å½’å®ç°æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal3</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span>||!stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ²¡æœ‰å·¦å­æ ‘äº†</span></span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        <span class="comment">//å°†å½“å‰èŠ‚ç‚¹æ·»åŠ åˆ°resä¸­</span></span><br><span class="line">        res.add(cur.val);</span><br><span class="line">        <span class="comment">//åˆ‡æ¢ä¸ºå³å­æ ‘</span></span><br><span class="line">        cur=cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="145-äºŒå‰æ ‘çš„ååºéå†"><a href="#145-äºŒå‰æ ‘çš„ååºéå†" class="headerlink" title="145. äºŒå‰æ ‘çš„ååºéå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-postorder-traversal/" target="_blank" rel="noopener">145. äºŒå‰æ ‘çš„ååºéå†</a></h2><p>Given a binary tree, return the <em>postorder</em> traversal of its nodesâ€™ values.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">   <span class="number">1</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">2</span></span><br><span class="line">    /</span><br><span class="line">   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">Output: [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p><strong>Follow up:</strong> Recursive solution is trivial, could you do it iteratively?</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜æ˜¯ä¸ªhardé¢˜ï¼Œæ²¡é‚£ä¹ˆå®¹æ˜“ï¼ˆä¸è¿‡æ ¹æ®boboè€å¸ˆçš„æ–¹å¼æ¥åšç¡®å®ç®€å•ğŸ˜‚ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversal3</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root,lastNode=<span class="keyword">null</span>; <span class="comment">//lastNodeä¸ºä¸Šä¸€æ¬¡è®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span>||!stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span> (cur!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ²¡æœ‰å·¦å­æ ‘äº†,æŠŠåä¸€ä¸ªå·¦èŠ‚ç‚¹æ‹¿å‡ºæ¥</span></span><br><span class="line">        cur=stack.peek();</span><br><span class="line">        <span class="comment">//å¦‚æœæ²¡æœ‰å³èŠ‚ç‚¹,æˆ–è€…å³èŠ‚ç‚¹è®¿é—®è¿‡äº†</span></span><br><span class="line">        <span class="keyword">if</span> (cur.right==<span class="keyword">null</span>||cur.right==lastNode) &#123;</span><br><span class="line">            <span class="comment">//æ·»åŠ èŠ‚ç‚¹</span></span><br><span class="line">            res.add(cur.val);</span><br><span class="line">            <span class="comment">//è®°å½•å½“å‰èŠ‚ç‚¹ä¸ºlastNode</span></span><br><span class="line">            lastNode=cur;</span><br><span class="line">            <span class="comment">//å°†ä»–popå‡ºå»</span></span><br><span class="line">            stack.pop();</span><br><span class="line">            <span class="comment">//èŠ‚ç‚¹å·²ç»å¼¹å‡º</span></span><br><span class="line">            <span class="comment">//æŒ‡å‘null,ä¸ç„¶å°±æ­»å¾ªç¯äº†</span></span><br><span class="line">            cur=<span class="keyword">null</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//å³èŠ‚ç‚¹ä¸ä¸ºç©º,å¹¶ä¸”æ²¡è®¿é—®è¿‡</span></span><br><span class="line">            <span class="comment">//åˆ‡æ¢ä¸ºå³å­æ ‘,é‡å¤ä¸Šé¢çš„æ­¥éª¤</span></span><br><span class="line">            cur=cur.right;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§é¢˜ä¸€å®šè¦è®°ä½ â€œæ‹›å¼â€ï¼Œä¹±å†™åªä¼šè¶Šå†™è¶Šä¹±</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ç§è§£æ³•ä¼¼ä¹æ›´åŠ å®¹æ˜“ç†è§£ï¼ï¼ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversals</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    TreeNode lastNode=<span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode cur=stack.peek();</span><br><span class="line">        <span class="keyword">if</span> ((cur.left==<span class="keyword">null</span> &amp;&amp; cur.right ==<span class="keyword">null</span>) || (lastNode!=<span class="keyword">null</span> &amp;&amp;( cur.left==lastNode || cur.right==lastNode))) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            res.add(cur.val);</span><br><span class="line">            lastNode=cur;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (cur.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="590-Nå‰æ ‘çš„ååºéå†"><a href="#590-Nå‰æ ‘çš„ååºéå†" class="headerlink" title="590. Nå‰æ ‘çš„ååºéå†"></a><a href="https://leetcode-cn.com/problems/n-ary-tree-postorder-traversal/" target="_blank" rel="noopener">590. Nå‰æ ‘çš„ååºéå†</a></h2><p>ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<em>ååºéå†</em>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ª <code>3å‰æ ‘</code> :</p>
<p><img src="https://i.loli.net/2019/12/01/KAQP9UNfV5bau7J.png" alt="NTree"></p>
<p>è¿”å›å…¶ååºéå†: <code>[5,6,3,2,4,1]</code>.</p>
<p><strong>è¯´æ˜:</strong> é€’å½’æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿­ä»£æ³•å®Œæˆæ­¤é¢˜å—?</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’çš„è§£æ³•ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorder</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    List&lt;Node&gt; children=root.children;</span><br><span class="line">    <span class="keyword">for</span> (Node node:children) &#123;</span><br><span class="line">        dfs(node);</span><br><span class="line">    &#125;</span><br><span class="line">    res.add(root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>é”äº†ï¼è¿™æ‰æ˜¯æ ‘éå†çš„æ¿å­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorder</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Node&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    Node lastNode=<span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        Node node=stack.peek();</span><br><span class="line">        List&lt;Node&gt; children=node.children;</span><br><span class="line">        <span class="keyword">if</span> (children.isEmpty() || (lastNode!=<span class="keyword">null</span> &amp;&amp; lastNode == children.get(children.size()-<span class="number">1</span>))) &#123;</span><br><span class="line">            res.add(node.val);</span><br><span class="line">            stack.pop();</span><br><span class="line">            lastNode=node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=children.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">                stack.push(children.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é¢˜å¼€å§‹å› ä¸ºä¸€ä¸ªç©ºçš„caseæŠŠæˆ‘ææ™•äº†ï¼Œæäº†åŠå¤©æ‰å‘ç°</p>
<h2 id="102-äºŒå‰æ ‘çš„å±‚æ¬¡éå†"><a href="#102-äºŒå‰æ ‘çš„å±‚æ¬¡éå†" class="headerlink" title="102. äºŒå‰æ ‘çš„å±‚æ¬¡éå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/" target="_blank" rel="noopener">102. äºŒå‰æ ‘çš„å±‚æ¬¡éå†</a></h2><p>Given a binary tree, return the <em>level order</em> traversal of its nodesâ€™ values. (ie, from left to right, level by level).</p>
<p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>return its level order traversal as:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="number">3</span>],</span><br><span class="line">  [<span class="number">9</span>,<span class="number">20</span>],</span><br><span class="line">  [<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼Œåˆ©ç”¨é˜Ÿåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>)<span class="keyword">return</span> res;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//countä»£è¡¨çš„å…¶å®å°±æ˜¯æ¯ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        List&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//å–å‡ºå½“å‰èŠ‚ç‚¹,å¹¶å°†å…¶å·¦å³å­èŠ‚ç‚¹å…¥é˜Ÿåˆ—</span></span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            list.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’DFSï¼Œè¿™ç§å…¶å®è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå¯ä»¥çœ‹ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    helper(res, root, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; res, TreeNode root, <span class="keyword">int</span> depth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//éœ€è¦å¢åŠ ä¸€å±‚</span></span><br><span class="line">    <span class="keyword">if</span> (res.size() == depth) res.add(<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">    res.get(depth).add(root.val);</span><br><span class="line">    helper(res, root.left, depth + <span class="number">1</span>);</span><br><span class="line">    helper(res, root.right, depth + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="429-Nå‰æ ‘çš„å±‚åºéå†"><a href="#429-Nå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="429. Nå‰æ ‘çš„å±‚åºéå†"></a><a href="https://leetcode-cn.com/problems/n-ary-tree-level-order-traversal/" target="_blank" rel="noopener">429. Nå‰æ ‘çš„å±‚åºéå†</a></h2><p>ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„<em>å±‚åºéå†</em>ã€‚ (å³ä»å·¦åˆ°å³ï¼Œé€å±‚éå†)ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ª <code>3å‰æ ‘</code> :</p>
<p><img src="https://i.loli.net/2019/12/01/He8KVlms1jynbvr.png" alt="NTee"></p>
<p>è¿”å›å…¶å±‚åºéå†:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">     [<span class="number">1</span>],</span><br><span class="line">     [<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>],</span><br><span class="line">     [<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ol>
<li>æ ‘çš„æ·±åº¦ä¸ä¼šè¶…è¿‡ <code>1000</code>ã€‚</li>
<li>æ ‘çš„èŠ‚ç‚¹æ€»æ•°ä¸ä¼šè¶…è¿‡ <code>5000</code>ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrder(Node root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Node&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        List&lt;Integer&gt; temp=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            Node node=queue.poll();</span><br><span class="line">            temp.add(node.val);</span><br><span class="line">            <span class="keyword">for</span> (Node child:node.children) &#123;</span><br><span class="line">                queue.add(child);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!temp.isEmpty()) &#123;</span><br><span class="line">            res.add(temp);   </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="107-äºŒå‰æ ‘çš„å±‚æ¬¡éå†-II"><a href="#107-äºŒå‰æ ‘çš„å±‚æ¬¡éå†-II" class="headerlink" title="107. äºŒå‰æ ‘çš„å±‚æ¬¡éå† II"></a><a href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal-ii/" target="_blank" rel="noopener">107. äºŒå‰æ ‘çš„å±‚æ¬¡éå† II</a></h2><p>Given a binary tree, return the <em>bottom-up level order</em> traversal of its nodesâ€™ values. (ie, from left to right, level by level from leaf to root).</p>
<p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>



<p>return its bottom-up level order traversal as:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="number">15</span>,<span class="number">7</span>],</span><br><span class="line">  [<span class="number">9</span>,<span class="number">20</span>],</span><br><span class="line">  [<span class="number">3</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; levelOrderBottom(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> res;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        List&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode top=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (top.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(top.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (top.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(top.right);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(top.val);</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä»å¤´æ·»åŠ </span></span><br><span class="line">        res.add(<span class="number">0</span>,list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦æ˜¯å¤ä¹ ä¸‹å±‚æ¬¡éå†ï¼Œç›¸æ¯”ä¸Šé¢å°±å¤šäº† <code>res.add(0,list)</code> ä»å¤´éƒ¨æ·»åŠ </p>
<h2 id="103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†"><a href="#103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†" class="headerlink" title="103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†"></a><a href="https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/" target="_blank" rel="noopener">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†</a></h2><p>Given a binary tree, return the <em>zigzag level order</em> traversal of its nodesâ€™ values. (ie, from left to right, then right to left for the next level and alternate between).</p>
<p>For example:<br>Given binary tree <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>return its zigzag level order traversal as:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="number">3</span>],</span><br><span class="line">  [<span class="number">20</span>,<span class="number">9</span>],</span><br><span class="line">  [<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; zigzagLevelOrder(TreeNode root) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)<span class="keyword">return</span> res;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">boolean</span> reverse=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        LinkedList&lt;Integer&gt; list=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (reverse) &#123;</span><br><span class="line">                <span class="comment">//ä»å¤´æ·»åŠ ï¼Œç›¸å½“äºé€†åºäº†</span></span><br><span class="line">                list.addFirst(node.val);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                list.add(node.val);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse=!reverse;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œä¸Šé¢ä¸€é¢˜ä¸€æ ·ï¼Œè€æƒ³ç€æ€ä¹ˆå»æŒ‰ç…§é¢˜ç›®çš„è¦æ±‚å»éå†èŠ‚ç‚¹ï¼Œå“ï¼Œå¤ªè ¢äº†ï¼Œçµæ´»ä¸€ç‚¹å•Š</p>
<h2 id="199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="199. äºŒå‰æ ‘çš„å³è§†å›¾"></a><a href="https://leetcode-cn.com/problems/binary-tree-right-side-view/" target="_blank" rel="noopener">199. äºŒå‰æ ‘çš„å³è§†å›¾</a></h2><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">5</span>,<span class="keyword">null</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>            &lt;---</span><br><span class="line"> /   \</span><br><span class="line"><span class="number">2</span>     <span class="number">3</span>         &lt;---</span><br><span class="line"> \     \</span><br><span class="line">  <span class="number">5</span>     <span class="number">4</span>       &lt;---</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿˜æ˜¯å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸€ä¸Šåˆåšäº†ä¸‰é“ä¸€æ ·çš„é¢˜ï¼Œè¿™é¢˜å¸å–äº†ä¸Šé¢çš„æ•™è®­æ²¡æœ‰å»æƒ³æ€ä¹ˆéå†äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">rightSideView</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    LinkedList&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å–æ¯ä¸€å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (count==<span class="number">1</span>) &#123;</span><br><span class="line">                res.add(node.val);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åªè®°å½•æ¯ä¸€å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åå¾—åˆ°çš„å°±æ˜¯å³è§†å›¾</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>dfsï¼Œå…¶å®å°±æ˜¯ä¸€ç›´å‘å³èµ°ï¼Œèµ°ä¸åŠ¨å°±å‘å·¦èµ°ï¼Œè¿™æ ·éå†çš„è½¨è¿¹å°±æ˜¯æ²¿ç€äºŒå‰æ ‘çš„å³è¾¹ç¼˜å‘ä¸‹çš„ï¼Œæˆ‘ä»¬åªéœ€è¦è®°å½•å±‚æ•°ï¼Œç„¶åå½“å±‚æ•°å’Œresæ•°é‡ç›¸ç­‰çš„æ—¶å€™è®°å½•ç»“æœå°±è¡Œäº†ï¼ˆçœ‹è§å¤´æ¡é¢è¯•è¦æ±‚å†™logNç©ºé—´çš„ï¼Œåº”è¯¥å°±æ˜¯è¿™ç§è§£æ³•äº†ï¼Œä½†æ˜¯ä¸‹é¢çš„è§£æ³•ç©ºé—´å¤æ‚åº¦åº”è¯¥è¿˜æ˜¯O(N)çš„ï¼Œæœ€åæƒ…å†µä¸‹å½¢æˆä¸€é“¾è¡¨å°±æˆNäº†ï¼Œä¸è¿‡ç›¸æ¯”ä¸Šé¢å±‚æ¬¡éå†æ°¸è¿œæ˜¯Nçš„åšæ³•è¿˜æ˜¯è¦å¥½ä¸€ç‚¹ï¼‰</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rightSideView</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode, depth <span class="keyword">int</span>)</span></span></span><br><span class="line">    <span class="keyword">var</span> res = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>)</span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode, depth <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> depth &gt; <span class="built_in">len</span>(res) &#123;</span><br><span class="line">            res = <span class="built_in">append</span>(res, root.Val)</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.Right, depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root.Left, depth+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"><a href="#637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼" class="headerlink" title="637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"></a><a href="https://leetcode-cn.com/problems/average-of-levels-in-binary-tree/" target="_blank" rel="noopener">637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</a></h2><p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘, è¿”å›ä¸€ä¸ªç”±æ¯å±‚èŠ‚ç‚¹å¹³å‡å€¼ç»„æˆçš„æ•°ç»„.</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">    <span class="number">3</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">9</span>  <span class="number">20</span></span><br><span class="line">    /  \</span><br><span class="line">   <span class="number">15</span>   <span class="number">7</span></span><br><span class="line">è¾“å‡º: [<span class="number">3</span>, <span class="number">14.5</span>, <span class="number">11</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">ç¬¬<span class="number">0</span>å±‚çš„å¹³å‡å€¼æ˜¯ <span class="number">3</span>,  ç¬¬<span class="number">1</span>å±‚æ˜¯ <span class="number">14.5</span>, ç¬¬<span class="number">2</span>å±‚æ˜¯ <span class="number">11</span>. å› æ­¤è¿”å› [<span class="number">3</span>, <span class="number">14.5</span>, <span class="number">11</span>].</span><br></pre></td></tr></table></figure>


<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>èŠ‚ç‚¹å€¼çš„èŒƒå›´åœ¨32ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€ç™¾éå•Šä¸€ç™¾éï¼Œè¿™åº”è¯¥å±äºæ ‘ç±»å‹é¢˜çš„HelloWorldå§ ~ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Double&gt; <span class="title">averageOfLevels</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    List&lt;Double&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size=queue.size();</span><br><span class="line">        <span class="keyword">int</span> temp=size;</span><br><span class="line">        <span class="keyword">double</span> average=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(size--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode cur=queue.poll();</span><br><span class="line">            average+=cur.val;</span><br><span class="line">            <span class="keyword">if</span> (cur.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(cur.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cur.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(cur.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        average/=temp;</span><br><span class="line">        res.add(average);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a><a href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/" target="_blank" rel="noopener">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚</p>
<p>äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong><br>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>


<p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’è§£æ³•ï¼Œå¾ˆç®€æ´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//maxDepth(root)=1+max(maxDepth(root.left),maxDepth(root.right));</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> maxLeft=maxDepth(root.left);</span><br><span class="line">    <span class="keyword">int</span> maxRight=maxDepth(root.right);</span><br><span class="line">    <span class="keyword">return</span> (maxLeft&gt;maxRight?maxLeft:maxRight)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>BFSï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;<span class="comment">//æ³¨æ„åˆå§‹å€¼</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        max++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="559-Nå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#559-Nå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="559. Nå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a><a href="https://leetcode-cn.com/problems/maximum-depth-of-n-ary-tree/" target="_blank" rel="noopener">559. Nå‰æ ‘çš„æœ€å¤§æ·±åº¦</a></h2><p>ç»™å®šä¸€ä¸ª N å‰æ ‘ï¼Œæ‰¾åˆ°å…¶æœ€å¤§æ·±åº¦ã€‚</p>
<p>æœ€å¤§æ·±åº¦æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ€»æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ª <code>3å‰æ ‘</code> :</p>
<p><img src="https://s2.ax1x.com/2019/11/20/MWwEt0.png" alt="3å‰æ ‘"></p>
<p>æˆ‘ä»¬åº”è¿”å›å…¶æœ€å¤§æ·±åº¦ï¼Œ3ã€‚</p>
<p><strong>è¯´æ˜:</strong></p>
<ol>
<li>æ ‘çš„æ·±åº¦ä¸ä¼šè¶…è¿‡ <code>1000</code>ã€‚</li>
<li>æ ‘çš„èŠ‚ç‚¹æ€»ä¸ä¼šè¶…è¿‡ <code>5000</code>ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDepth</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    List&lt;Node&gt; children=root.children;</span><br><span class="line">    <span class="keyword">for</span> (Node node:children) &#123;</span><br><span class="line">        max=Math.max(max,maxDepth(node));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="111-äºŒå‰æ ‘çš„æœ€å°æ·±åº¦"><a href="#111-äºŒå‰æ ‘çš„æœ€å°æ·±åº¦" class="headerlink" title="111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦"></a><a href="https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/" target="_blank" rel="noopener">111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚</p>
<p>æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[3,9,20,null,null,15,7]</code>   </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>


<p>è¿”å›å®ƒçš„æœ€å°æ·±åº¦  2.</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æœ€å¤§éƒ½æ±‚äº†ï¼Œæœ€å°ä¹Ÿæ¥ä¸€å‘ï¼Œç»å…¸BFSåšæ³•ï¼Œæ±‚æœ€çŸ­è·¯å¾„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">int</span> min=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        min++;</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (node.left==<span class="keyword">null</span> &amp;&amp; node.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> min;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> minDepth(root.right)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> minDepth(root.left)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.min(minDepth(root.left),minDepth(root.right))+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆä¸Šé¢æœ€å¤§çš„ç›¸åï¼Œä½†æ˜¯æœ‰ä¸ªç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªæ ¹èŠ‚ç‚¹å·¦å³å­æ ‘ï¼Œ<strong>æœ‰ä¸€é¢—ä¸ºç©º</strong>ï¼Œå¦‚æœä¸å¤„ç†ï¼ŒæŒ‰ç…§ä¹‹å‰çš„é€»è¾‘ï¼Œè¿™é¢—ç©ºå­æ ‘ä¸‹ä¸€æ¬¡å°±ä¼šè¿”å›0ï¼Œè‚¯å®šä¼šæ¯”å¦ä¸€é¢—å°æœ€åè¿”å›çš„å°±æ˜¯åˆ°è¿™é¢—å­æ ‘çš„è·¯å¾„ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³è¿™æ ·æ˜¯æ­£ç¡®çš„ä¹ˆï¼Ÿæ˜æ˜¾ä¸æ˜¯ï¼Œæœ€çŸ­è·¯å¾„çš„å°½å¤´ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹ä¹Ÿå°±æ˜¯å·¦å³å­æ ‘éƒ½ä¸ºç©ºçš„æ—¶å€™ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„</p>
<h2 id="226-ç¿»è½¬äºŒå‰æ ‘"><a href="#226-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="226. ç¿»è½¬äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/invert-binary-tree/" target="_blank" rel="noopener">226. ç¿»è½¬äºŒå‰æ ‘</a></h2><p>ç¿»è½¬ä¸€æ£µäºŒå‰æ ‘ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>è¾“å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">     <span class="number">4</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">2</span>     <span class="number">7</span></span><br><span class="line"> / \   / \</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span> <span class="number">6</span>   <span class="number">9</span></span><br></pre></td></tr></table></figure>


<p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">     <span class="number">4</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">7</span>     <span class="number">2</span></span><br><span class="line"> / \   / \</span><br><span class="line"><span class="number">9</span>   <span class="number">6</span> <span class="number">3</span>   <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>å¤‡æ³¨:</strong><br>è¿™ä¸ªé—®é¢˜æ˜¯å—åˆ° Max Howell çš„ åŸé—®é¢˜ å¯å‘çš„ ï¼š</p>
<blockquote>
<p>è°·æ­Œï¼šæˆ‘ä»¬90ï¼…çš„å·¥ç¨‹å¸ˆä½¿ç”¨æ‚¨ç¼–å†™çš„è½¯ä»¶(Homebrew)ï¼Œä½†æ˜¯æ‚¨å´æ— æ³•åœ¨é¢è¯•æ—¶åœ¨ç™½æ¿ä¸Šå†™å‡ºç¿»è½¬äºŒå‰æ ‘è¿™é“é¢˜ï¼Œè¿™å¤ªç³Ÿç³•äº†ã€‚</p>
</blockquote>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    invertTree(root.left);</span><br><span class="line">    invertTree(root.right);</span><br><span class="line">    <span class="comment">//äº¤æ¢å·¦å³èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode temp=root.left;</span><br><span class="line">    root.left=root.right;</span><br><span class="line">    root.right=temp;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„é€’å½’è°ƒç”¨å’Œäº¤æ¢èŠ‚ç‚¹çš„é¡ºåºï¼Œä¸èƒ½æåäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode right=root.right;</span><br><span class="line">    root.right=invertTree(root.left);</span><br><span class="line">    root.left=invertTree(right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯”è¾ƒç®€æ´ä¹Ÿæ¯”è¾ƒç¬¦åˆé€’å½’çš„åšæ³•</p>
<h2 id="100-ç›¸åŒçš„æ ‘"><a href="#100-ç›¸åŒçš„æ ‘" class="headerlink" title="100. ç›¸åŒçš„æ ‘"></a><a href="https://leetcode-cn.com/problems/same-tree/" target="_blank" rel="noopener">100. ç›¸åŒçš„æ ‘</a></h2><p>ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒå®ƒä»¬æ˜¯å¦ç›¸åŒã€‚</p>
<p>å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:       <span class="number">1</span>         <span class="number">1</span></span><br><span class="line">          / \       / \</span><br><span class="line">         <span class="number">2</span>   <span class="number">3</span>     <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],   [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:      <span class="number">1</span>          <span class="number">1</span></span><br><span class="line">          /           \</span><br><span class="line">         <span class="number">2</span>             <span class="number">2</span></span><br><span class="line">    </span><br><span class="line">        [<span class="number">1</span>,<span class="number">2</span>],     [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:       <span class="number">1</span>         <span class="number">1</span></span><br><span class="line">          / \       / \</span><br><span class="line">         <span class="number">2</span>   <span class="number">1</span>     <span class="number">1</span>   <span class="number">2</span></span><br><span class="line">        </span><br><span class="line">        [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>],   [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSameTree</span><span class="params">(TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p==<span class="keyword">null</span> &amp;&amp; q==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p!=<span class="keyword">null</span> &amp;&amp; q!=<span class="keyword">null</span> &amp;&amp; p.val==q.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> isSameTree(p.right,q.right)&amp;&amp;isSameTree(p.left,q.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="951-ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘"><a href="#951-ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘" class="headerlink" title="951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/flip-equivalent-binary-trees/" target="_blank" rel="noopener">951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ä¸ºäºŒå‰æ ‘ T å®šä¹‰ä¸€ä¸ªç¿»è½¬æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šé€‰æ‹©ä»»æ„èŠ‚ç‚¹ï¼Œç„¶åäº¤æ¢å®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚</p>
<p>åªè¦ç»è¿‡ä¸€å®šæ¬¡æ•°çš„ç¿»è½¬æ“ä½œåï¼Œèƒ½ä½¿ X ç­‰äº Yï¼Œæˆ‘ä»¬å°±ç§°äºŒå‰æ ‘ X _ç¿»è½¬ç­‰ä»·_äºäºŒå‰æ ‘ Yã€‚</p>
<p>ç¼–å†™ä¸€ä¸ªåˆ¤æ–­ä¸¤ä¸ªäºŒå‰æ ‘æ˜¯å¦æ˜¯_ç¿»è½¬ç­‰ä»·_çš„å‡½æ•°ã€‚è¿™äº›æ ‘ç”±æ ¹èŠ‚ç‚¹Â <code>root1</code> å’Œ <code>root2</code>Â ç»™å‡ºã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,null,null,null,<span class="number">7</span>,<span class="number">8</span>], root2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,null,<span class="number">6</span>,<span class="number">4</span>,<span class="number">5</span>,null,null,null,null,<span class="number">8</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬ç¿»è½¬å€¼ä¸º <span class="number">1</span>ï¼Œ<span class="number">3</span> ä»¥åŠ <span class="number">5</span> çš„ä¸‰ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> æ¯æ£µæ ‘æœ€å¤šæœ‰Â <code>100</code>Â ä¸ªèŠ‚ç‚¹ã€‚</li>
<li> æ¯æ£µæ ‘ä¸­çš„æ¯ä¸ªå€¼éƒ½æ˜¯å”¯ä¸€çš„ã€åœ¨ <code>[0, 99]</code>Â èŒƒå›´å†…çš„æ•´æ•°ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>äº¤é”™çš„æ¯”è¾ƒå°±è¡Œäº†</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> * Â  Â  Val int</span></span><br><span class="line"><span class="comment"> * Â  Â  Left *TreeNode</span></span><br><span class="line"><span class="comment"> * Â  Â  Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">flipEquiv</span><span class="params">(root1 *TreeNode, root2 *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">if</span> root1 == <span class="literal">nil</span> &amp;&amp; root2 == <span class="literal">nil</span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">if</span> root1 == <span class="literal">nil</span> || root2 == <span class="literal">nil</span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">if</span> root1.Val != root2.Val &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">return</span> (flipEquiv(root1.Left, root2.Left) &amp;&amp; </span><br><span class="line"> Â  Â  Â  Â  Â  Â flipEquiv(root1.Right, root2.Right)) || </span><br><span class="line"> Â  Â  Â  Â  Â  (flipEquiv(root1.Left, root2.Right) &amp;&amp;</span><br><span class="line"> Â  Â  Â  Â  Â  Â flipEquiv(root1.Right, root2.Left))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="572-å¦ä¸€ä¸ªæ ‘çš„å­æ ‘"><a href="#572-å¦ä¸€ä¸ªæ ‘çš„å­æ ‘" class="headerlink" title="572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘"></a><a href="https://leetcode-cn.com/problems/subtree-of-another-tree/" target="_blank" rel="noopener">572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘</a></h2><p>ç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong><br>ç»™å®šçš„æ ‘ s:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">3</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>


<p>ç»™å®šçš„æ ‘ tï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">4</span> </span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>è¿”å› <strong>true</strong>ï¼Œå› ä¸º t ä¸ s çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong><br>ç»™å®šçš„æ ‘ sï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">3</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span></span><br><span class="line">   /</span><br><span class="line">  <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>ç»™å®šçš„æ ‘ tï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">4</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>è¿”å› <strong>false</strong></p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…ˆä¸Šä¸€ä¸ªé”™è¯¯è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t==<span class="keyword">null</span> &amp;&amp; s==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (s!=<span class="keyword">null</span>&amp;&amp; t!=<span class="keyword">null</span> &amp;&amp; s.val == t.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> isSubtree(s.left,t.left) &amp;&amp; isSubtree(s.right,t.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isSubtree(s.left,t) | isSubtree(s.right,t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿‡äº†146/176çš„caseï¼Œä½†æ˜¯è¿™ä¸ªæ˜æ˜¾æ˜¯é”™çš„ï¼Œä¸è¿‡æ ¸å¿ƒçš„é€’å½’è¿˜æ˜¯å¤§æ¦‚é›å½¢å†™å‡ºæ¥äº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ€è€ƒäº†ä¸€ä¼šï¼Œå…‰é€Ÿç„äº†ä¸€çœ¼è¯„è®ºåŒºï¼Œéšçº¦çœ‹åˆ°äº†æœ‰äººè¯´åŒé€’å½’ï¼Œç„¶åæƒ³åˆ°äº†ä¸‹é¢çš„è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç®€åŒ–ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isSame(s,t)| isSubtree(s.left,t) | isSubtree(s.right,t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSame</span><span class="params">(TreeNode s, TreeNode t)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span> &amp;&amp; t==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span> || t==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.val==t.val &amp;&amp; isSame(s.left,t.left) &amp;&amp; isSame(s.right,t.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼€å§‹çš„ä»£ç æ²¡è¿™ä¹ˆç®€æ´ï¼Œæ¯”è¾ƒç½—å—¦ï¼Œè¦åˆ¤æ–­ä¸€æ£µæ ‘æ˜¯ä¸æ˜¯å¦ä¸€é¢—çš„å­æ ‘å¾ˆå¥½åˆ¤æ–­ï¼Œè¦ä¹ˆså’Œtç›´æ¥ç›¸ç­‰ï¼Œè¦ä¹ˆtæ˜¯så·¦å­æ ‘çš„å­æ ‘ï¼Œæˆ–è€…å³å­æ ‘çš„å­æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå‡½æ•°åˆ¤æ–­ä¸¤ä¸ªä¸¤æ£µæ ‘æ˜¯å¦ç›¸ç­‰ï¼Œåªç”¨ä¸€ä¸ªå‡½æ•°ç¡®å®ä¸å¥½å®ç°</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>å…¶å®è¿˜æœ‰ä¸€ç§è§£æ³•ï¼Œä¹Ÿæ˜¯æœ€å¼€å§‹æƒ³åˆ°çš„ï¼Œå°±æ˜¯ç›´æ¥ä¸­åºéå†å’Œå‰åºéå†ï¼Œå¾—åˆ°ä¸¤ä¸ªåºåˆ—ï¼Œç„¶åç”¨kmpåŒ¹é…ä¸¤æ£µæ ‘ï¼Œkmpå¾ˆä¹…æ²¡çœ‹äº†ï¼Œä¸ä¼šå†™äº†ï¼Œåé¢æœ‰æ—¶é—´å†æ¥å†™</p>
<h2 id="é¢è¯•é¢˜26-æ ‘çš„å­ç»“æ„"><a href="#é¢è¯•é¢˜26-æ ‘çš„å­ç»“æ„" class="headerlink" title="é¢è¯•é¢˜26. æ ‘çš„å­ç»“æ„"></a><a href="https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜26. æ ‘çš„å­ç»“æ„</a></h2><p>è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)</p>
<p>Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ä¾‹å¦‚:</strong><br>ç»™å®šçš„æ ‘ A:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">3</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç»™å®šçš„æ ‘ Bï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">4</span> </span><br><span class="line"> /</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>


<p>è¿”å› trueï¼Œå› ä¸º B ä¸ A çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], B = [<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>], B = [<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<p>0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 10000</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€æ ·çš„é¢˜ä¸ºå•¥è¿˜åŠ ä¸Šï¼Ÿä»”ç»†çœ‹é¢˜ï¼Œæˆ‘å¼€å§‹ä¹Ÿä»¥ä¸ºæ˜¯ä¸€æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubStructure</span><span class="params">(TreeNode A, TreeNode B)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A==<span class="keyword">null</span> || B==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isSame(A,B) | isSubStructure(A.left,B) | isSubStructure(A.right,B);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSame</span><span class="params">(TreeNode A,TreeNode B)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (B==<span class="keyword">null</span>) &#123; <span class="comment">//ABåŒæ—¶ä¸ºNULLåº”è¯¥è¿”å›true,æ‰€ä»¥ä¸Šä¸‹ä¸èƒ½äº¤æ¢</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(A==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> A.val==B.val &amp;&amp; isSame(A.left,B.left) &amp;&amp; isSame(A.right,B.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¯´çš„æ˜¯å­ç»“æ„ä¸æ˜¯å­æ ‘ï¼ŒisSameå‡½æ•°ä¸éœ€è¦ä¿è¯å®Œå…¨ç›¸ç­‰ï¼Œè¿™é‡Œå°±éœ€è¦æ³¨æ„äº†ï¼Œå½“<code>A!=null &amp;&amp; B==null</code>çš„æ—¶å€™å°±è¯´æ˜Bå·²ç»åŒ¹é…å®Œäº†Aè¿˜æ²¡æœ‰ï¼Œè¿™å°±è¯´æ˜Bæ˜¯Açš„å­ç»“æ„</p>
<p><strong>UPDATE(2020.5.7)</strong></p>
<p>æ¢äº†ä¸€ä¸‹å†™æ³•ï¼Œä¸ç”¨è€ƒè™‘é¡ºåºäº†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubStructure</span><span class="params">(A *TreeNode, B *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> B==<span class="literal">nil</span> || A==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(A,B) || isSubStructure(A.Left,B) || isSubStructure(A.Right,B)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(A *TreeNode, B *TreeNode)</span><span class="title">bool</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> A==<span class="literal">nil</span> &amp;&amp; B==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> A==<span class="literal">nil</span> || B==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> B==<span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> A.Val==B.Val &amp;&amp; dfs(A.Left,B.Left) &amp;&amp; dfs(A.Right,B.Right)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="222-å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°"><a href="#222-å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°" class="headerlink" title="222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°"></a><a href="https://leetcode-cn.com/problems/count-complete-tree-nodes/" target="_blank" rel="noopener">222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</a></h2><p>ç»™å‡ºä¸€ä¸ª<strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œæ±‚å‡ºè¯¥æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>å®Œå…¨äºŒå‰æ ‘çš„å®šä¹‰å¦‚ä¸‹ï¼šåœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œé™¤äº†æœ€åº•å±‚èŠ‚ç‚¹å¯èƒ½æ²¡å¡«æ»¡å¤–ï¼Œå…¶ä½™æ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ä¸”æœ€ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ã€‚è‹¥æœ€åº•å±‚ä¸ºç¬¬ h å±‚ï¼Œåˆ™è¯¥å±‚åŒ…å« 1~ 2h ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"> / \  /</span><br><span class="line"><span class="number">4</span>  <span class="number">5</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼Œæƒå½“å¤ä¹ äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//BFS</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countNodes</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> nextLevel=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(nextLevel&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll(); </span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            nextLevel--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æš´åŠ›</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countNodes</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> countNodes(root.left)+countNodes(root.right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ›´åŠ ç²¾ç®€ç‚¹å¯ä»¥ç¼©å‡æˆä¸€è¡Œ</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿™é¢˜æ˜¯midéš¾åº¦ï¼Œè€Œä¸”é¢˜ç›®ç»™çš„æ¡ä»¶è¿˜æ²¡ç”¨ä¸Šï¼š<strong>è¿™æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒçš„æ€§è´¨æ¥åšï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œ<strong>æ»¡äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</strong>å¯ä»¥ç›´æ¥æ ¹æ®å…¬å¼ <code>2^H-1</code> è®¡ç®—å¾—æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦åˆ¤æ–­å½“å‰çš„å®Œå…¨äºŒå‰æ ‘æ˜¯ä¸æ˜¯<strong>æ»¡äºŒå‰æ ‘</strong>ï¼Œå¦‚æœæ˜¯ç›´æ¥ç®—å‡ºæ¥ï¼Œè¿™æ ·å°±å¯ä»¥çœå»ä¸­é—´å¾ˆå¤šèŠ‚ç‚¹çš„éå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countNodes</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    TreeNode left=root.left;</span><br><span class="line">    TreeNode right=root.right;</span><br><span class="line">    <span class="keyword">int</span> hight=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(left!=<span class="keyword">null</span> &amp;&amp; right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        left=left.left;</span><br><span class="line">        right=right.right;</span><br><span class="line">        hight++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒæ—¶å‘å·¦å‘å³èµ°ï¼Œèµ°åˆ°æœ€åleft==nullå°±è¯´æ˜è¿™é¢—æ ‘æ˜¯æ»¡äºŒå‰æ ‘ï¼Œå¯ä»¥åˆ©ç”¨å…¬å¼ç›´æ¥æ±‚å‡ºèŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="comment">//å¦åˆ™å°±å¯¹å…¶å·¦å³å­æ ‘é€’å½’æ±‚è§£</span></span><br><span class="line">    <span class="keyword">return</span> left==<span class="keyword">null</span>?(<span class="number">1</span>&lt;&lt;hight)-<span class="number">1</span>:countNodes(root.left)+countNodes(root.right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸å¾—ä¸è¯´è¿™æ ·çš„æ–¹å¼è¿˜æ˜¯æŒºå·§å¦™çš„ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯<code>O(2logN)</code>? </p>
<h2 id="112-è·¯å¾„æ€»å’Œ"><a href="#112-è·¯å¾„æ€»å’Œ" class="headerlink" title="112. è·¯å¾„æ€»å’Œ"></a><a href="https://leetcode-cn.com/problems/path-sum/" target="_blank" rel="noopener">112. è·¯å¾„æ€»å’Œ</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨<strong>æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong>çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong><br>ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ <code>sum = 22</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">      <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">4</span>   <span class="number">8</span></span><br><span class="line">   /   / \</span><br><span class="line">  <span class="number">11</span>  <span class="number">13</span>  <span class="number">4</span></span><br><span class="line"> /  \      \</span><br><span class="line"><span class="number">7</span>    <span class="number">2</span>      <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>è¿”å› true, å› ä¸ºå­˜åœ¨ç›®æ ‡å’Œä¸º 22 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ <code>5-&gt;4-&gt;11-&gt;2</code></p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éœ€è¦æ³¨æ„è¿™é‡Œçš„å¶èŠ‚ç‚¹åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>&amp;&amp;root.val==sum) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hasPathSum(root.left,sum-root.val) || hasPathSum(root.right,sum-root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å€¼å¾—æ³¨æ„çš„åœ°æ–¹å°±æ˜¯è¿™ä¸ªå¶å­èŠ‚ç‚¹çš„åˆ¤æ–­ï¼Œä¸€å¼€å§‹æ²¡æ³¨æ„åˆ°ï¼Œç›´æ¥å†™çš„ <code>root.val==sum</code> ï¼Œå…¶å®å¦‚æœä¸æ˜¯å¶å­èŠ‚ç‚¹çš„è¯ï¼Œå…¶å®æ˜¯ä¸æˆç«‹çš„ï¼Œæ¯”å¦‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">1</span></span><br><span class="line"> /</span><br><span class="line"><span class="number">2</span>       sum=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™å°±æ˜¯<code>false</code> ï¼Œå› ä¸ºä»–æ²¡æœ‰å³å­æ ‘ï¼Œè€Œé¢˜ç›®è¦æ±‚çš„æ˜¯ä»<strong>æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong></p>
<h2 id="404-å·¦å¶å­ä¹‹å’Œ"><a href="#404-å·¦å¶å­ä¹‹å’Œ" class="headerlink" title="404. å·¦å¶å­ä¹‹å’Œ"></a><a href="https://leetcode-cn.com/problems/sum-of-left-leaves/" target="_blank" rel="noopener">404. å·¦å¶å­ä¹‹å’Œ</a></h2><p>è®¡ç®—ç»™å®šäºŒå‰æ ‘çš„æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¯´å®è¯ï¼Œè¿™äº›é¢˜ç»™çš„ä¾‹å­éƒ½æŒºè¯¯å¯¼äººçš„ï¼Œä¼šè®©äººä¸è‡ªè§‰åœ°å¿½ç•¥<strong>å¶å­èŠ‚ç‚¹</strong>è¿™ä¸ªæ¡ä»¶ğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumOfLeftLeaves</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    sumOfLeft(root);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sumOfLeft</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ³¨æ„è¿™é‡Œçš„æ¡ä»¶ï¼ï¼ï¼ï¼</span></span><br><span class="line">    <span class="keyword">if</span> (root.left!=<span class="keyword">null</span> &amp;&amp; root.left.left==<span class="keyword">null</span> &amp;&amp;root.left.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        sum+=root.left.val;</span><br><span class="line">    &#125;</span><br><span class="line">    sumOfLeft(root.left);</span><br><span class="line">    sumOfLeft(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"><a href="#257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„" class="headerlink" title="257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"></a><a href="https://leetcode-cn.com/problems/binary-tree-paths/" target="_blank" rel="noopener">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> è¾“å…¥:</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line"> /   \</span><br><span class="line"><span class="number">2</span>     <span class="number">3</span></span><br><span class="line"> \</span><br><span class="line">  <span class="number">5</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="string">"1-&gt;2-&gt;5"</span>, <span class="string">"1-&gt;3"</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Š: æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸º: <span class="number">1</span>-&gt;<span class="number">2</span>-&gt;<span class="number">5</span>, <span class="number">1</span>-&gt;<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’DFSçš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFS</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">binaryTreePaths</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root!=<span class="keyword">null</span>&amp;&amp;root.left==<span class="keyword">null</span>&amp;&amp;root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        res.add(String.valueOf(root.val));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å·¦å­æ ‘çš„æ‰€æœ‰è·¯å¾„</span></span><br><span class="line">    List&lt;String&gt; lefts=binaryTreePaths(root.left);</span><br><span class="line">    <span class="comment">//å³å­æ ‘çš„æ‰€æœ‰è·¯å¾„</span></span><br><span class="line">    List&lt;String&gt; rights=binaryTreePaths(root.right);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//åœ¨æ¯æ¡è·¯å¾„å‰é¢åŠ ä¸Šå½“å‰æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lefts.size();i++) &#123;</span><br><span class="line">        res.add(root.val+<span class="string">"-&gt;"</span>+lefts.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rights.size();i++) &#123;</span><br><span class="line">        res.add(root.val+<span class="string">"-&gt;"</span>+rights.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯”ä¸Šé¢çš„é€’å½’ç¨å¾®å¤æ‚ç‚¹ï¼Œæ ¸å¿ƒæ€æƒ³è¿˜æ˜¯è¦æŠ“ä½é€’å½’çš„æœ¬è´¨ï¼Œä¸è¦å»çº ç»“é€’å½’æ¯ä¸€æ­¥éƒ½æ˜¯æ€ä¹ˆå¾—åˆ°çš„ï¼Œä»å®è§‚ä¸Šå»å†™ä»£ç ï¼Œè¿˜æ˜¯è¦å¤šç»ƒå•Š</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>BFSå¹¿æœ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">binaryTreePaths</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; node_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;String&gt; path_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    node_stack.add(root);</span><br><span class="line">    path_stack.add(String.valueOf(root.val));</span><br><span class="line">    String path=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">while</span>(!node_stack.isEmpty())&#123;</span><br><span class="line">        TreeNode node=node_stack.pop();</span><br><span class="line">        path=path_stack.pop();</span><br><span class="line">        <span class="comment">//å¶å­èŠ‚ç‚¹ï¼Œè¿™æ¡è·¯å¾„æœç´¢ç»“æŸï¼Œæ·»åŠ åˆ°resä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (node.left==<span class="keyword">null</span>&amp;&amp;node.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">            res.add(path);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            node_stack.add(node.left);</span><br><span class="line">            path_stack.add(path+<span class="string">"-&gt;"</span>+node.left.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            node_stack.add(node.right);</span><br><span class="line">            path_stack.add(path+<span class="string">"-&gt;"</span>+node.right.val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå’Œä¼ ç»Ÿçš„BFSä¸å¤ªä¸€æ ·ï¼Œæ˜¯ç”¨çš„æ ˆæ¥éå†çš„</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿™ç§è§£æ³•åº”è¯¥ä¼šæ¯”ä¸Šé¢çš„è§£æ³•å¤æ‚åº¦ä½ä¸€ç‚¹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">binaryTreePaths</span><span class="params">(root *TreeNode)</span> []<span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res []<span class="keyword">string</span></span><br><span class="line">    dfs(root,<span class="string">""</span>,&amp;res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„è¿™ä¸ªresè¦ä¼ æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode,path <span class="keyword">string</span>,res *[]<span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> root==<span class="literal">nil</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">    path+=strconv.Itoa(root.Val)</span><br><span class="line">    <span class="keyword">if</span> root.Left==<span class="literal">nil</span> &amp;&amp; root.Right==<span class="literal">nil</span>&#123;</span><br><span class="line">        *res=<span class="built_in">append</span>(*res,path)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.Left,path+<span class="string">"-&gt;"</span>,res)</span><br><span class="line">    dfs(root.Right,path+<span class="string">"-&gt;"</span>,res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="113-è·¯å¾„æ€»å’Œ-II"><a href="#113-è·¯å¾„æ€»å’Œ-II" class="headerlink" title="113. è·¯å¾„æ€»å’Œ II"></a><a href="https://leetcode-cn.com/problems/path-sum-ii/" target="_blank" rel="noopener">113. è·¯å¾„æ€»å’Œ II</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œæ‰¾åˆ°æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹</p>
<p><strong>ç¤ºä¾‹:</strong><br>ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ <code>sum = 22</code>ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">      <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">4</span>   <span class="number">8</span></span><br><span class="line">   /   / \</span><br><span class="line">  <span class="number">11</span>  <span class="number">13</span>  <span class="number">4</span></span><br><span class="line"> /  \    / \</span><br><span class="line"><span class="number">7</span>    <span class="number">2</span>  <span class="number">5</span>   <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>è¿”å›:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">   [<span class="number">5</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">2</span>],</span><br><span class="line">   [<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šä¸€é¢˜çš„åšæ³•åŸºæœ¬ä¸€è‡´ï¼Œæœ¬æ¥åº”è¯¥æ˜¯ä¸€ébugfreeçš„ï¼Œç¼–è¯‘é”™è¯¯æ•´äº†åŠå¤©</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root!=<span class="keyword">null</span> &amp;&amp; root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==sum) &#123;</span><br><span class="line">        LinkedList&lt;Integer&gt;  lis= <span class="keyword">new</span> LinkedList&lt;&gt;(); </span><br><span class="line">        lis.add(root.val);</span><br><span class="line">        res.add(lis);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å·¦å³å­æ ‘ç¬¦åˆæ¡ä»¶çš„è·¯å¾„</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; lefts=pathSum(root.left,sum-root.val);</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; rights=pathSum(root.right,sum-root.val);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;lefts.size();i++) &#123;</span><br><span class="line">        ((LinkedList&lt;Integer&gt;)lefts.get(i)).addFirst(root.val);</span><br><span class="line">        res.add(lefts.get(i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rights.size();i++) &#123;</span><br><span class="line">        ((LinkedList&lt;Integer&gt;)rights.get(i)).addFirst(root.val);</span><br><span class="line">        res.add(rights.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åºŸäº†è€å¤§åŠ²ç»ˆäºæŠŠBFSå†™å‡ºæ¥äº†ã€‚ã€‚ã€‚å¯ä»¥çœ‹å‡ºè¿˜æ˜¯å€Ÿé‰´çš„ä¸Šé¢çš„æ€è·¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pathSum2(TreeNode root,<span class="keyword">int</span> sum) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    <span class="comment">//èŠ‚ç‚¹æ ˆ</span></span><br><span class="line">    Stack&lt;TreeNode&gt; node_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">//è·¯å¾„æ ˆ</span></span><br><span class="line">    Stack&lt;List&lt;Integer&gt;&gt; path_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">//èŠ‚ç‚¹sumæ ˆ</span></span><br><span class="line">    Stack&lt;Integer&gt; sum_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="comment">//ç»™æ¯ä¸ªæ ˆå­˜å…¥åˆå§‹å€¼</span></span><br><span class="line">    node_stack.add(root);</span><br><span class="line">    path_stack.add(<span class="keyword">new</span> LinkedList()&#123;&#123;</span><br><span class="line">        add(root.val);</span><br><span class="line">    &#125;&#125;);</span><br><span class="line">    sum_stack.add(root.val);</span><br><span class="line">    <span class="comment">//BFS</span></span><br><span class="line">    <span class="keyword">while</span>(!node_stack.isEmpty())&#123;</span><br><span class="line">        TreeNode node=node_stack.pop();</span><br><span class="line">        List&lt;Integer&gt; pathList=path_stack.pop();</span><br><span class="line">        <span class="keyword">int</span> tempS=sum_stack.pop();</span><br><span class="line">        <span class="comment">//ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (node.left==<span class="keyword">null</span> &amp;&amp; node.right==<span class="keyword">null</span>&amp;&amp;tempS==sum) &#123;</span><br><span class="line">            res.add(pathList);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//è¿™ä¸‰ä¸ªæ ˆæ˜¯åŒæ­¥çš„,nodeæ ˆå­˜æ”¾å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment">//pathæ ˆå­˜æ”¾æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„</span></span><br><span class="line">            <span class="comment">//sumæ ˆå­˜æ”¾çš„æ˜¯pathæ ˆä¸­æ‰€æœ‰èŠ‚ç‚¹çš„valå’Œ</span></span><br><span class="line">            node_stack.add(node.left);</span><br><span class="line">            <span class="comment">//è¿™é‡Œä¸è¦ç›´æ¥æ“ä½œpathList,å¦åˆ™å·¦å³çš„è·¯å¾„ä¼šæ··åœ¨ä¸€èµ·</span></span><br><span class="line">            LinkedList&lt;Integer&gt; tlis= <span class="keyword">new</span> LinkedList(pathList);</span><br><span class="line">            tlis.add(node.left.val);</span><br><span class="line">            path_stack.add(tlis);</span><br><span class="line">            <span class="comment">//ç´¯åŠ è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼</span></span><br><span class="line">            sum_stack.add(tempS+node.left.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            node_stack.add(node.right);</span><br><span class="line">            <span class="comment">//åŒä¸Š</span></span><br><span class="line">            LinkedList&lt;Integer&gt; tlis= <span class="keyword">new</span> LinkedList(pathList);</span><br><span class="line">            tlis.add(node.right.val);</span><br><span class="line">            path_stack.add(tlis);</span><br><span class="line">            sum_stack.add(tempS+node.right.val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨åˆ°ä¸‰ä¸ªæ ˆï¼ŒåŒæ­¥ä¿å­˜èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œè¿˜æ˜¯æŒºç®€å•çš„</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¡¥ä¸€ç§dfs+å›æº¯çš„æ€è·¯ï¼Œä¸Šé¢çš„æ‰€æœ‰è·¯å¾„ä¹Ÿå¯ä»¥è¿™æ ·åšï¼Œæ„Ÿè§‰ä¼šæ¯”ä¸Šé¢çš„è¦å¥½ä¸€ç‚¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pathSum(TreeNode root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">    dfs(root,sum,<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">int</span> sum,List&lt;Integer&gt; lis)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    lis.add(root.val);</span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; sum==root.val)&#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> ArrayList(lis)); <span class="comment">//è¿™é‡Œä¸èƒ½returnï¼Œå¾—åˆ°åé¢å›æº¯åæ‰èƒ½return</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        dfs(root.left,sum-root.val,lis);</span><br><span class="line">        dfs(root.right,sum-root.val,lis);</span><br><span class="line">    &#125;</span><br><span class="line">    lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="894-æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘"><a href="#894-æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘" class="headerlink" title="894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/all-possible-full-binary-trees/" target="_blank" rel="noopener">894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘</a></h2><p><em>æ»¡äºŒå‰æ ‘</em>æ˜¯ä¸€ç±»äºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªç»“ç‚¹æ°å¥½æœ‰ 0 æˆ– 2 ä¸ªå­ç»“ç‚¹ã€‚</p>
<p>è¿”å›åŒ…å« <code>N</code> ä¸ªç»“ç‚¹çš„æ‰€æœ‰å¯èƒ½æ»¡äºŒå‰æ ‘çš„åˆ—è¡¨ã€‚ ç­”æ¡ˆçš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¯èƒ½æ ‘çš„æ ¹ç»“ç‚¹ã€‚</p>
<p>ç­”æ¡ˆä¸­æ¯ä¸ªæ ‘çš„æ¯ä¸ª<code>ç»“ç‚¹</code>éƒ½<strong>å¿…é¡»</strong>æœ‰ <code>node.val=0</code>ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›æ ‘çš„æœ€ç»ˆåˆ—è¡¨ã€‚</p>
<p><img src="https://s1.ax1x.com/2020/06/13/tXXu4A.png" alt="tXXu4A.png"></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è§£é‡Šï¼š</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= N &lt;= 20</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å’Œä¸Šé¢ä¸¤é¢˜å¾ˆç±»ä¼¼ï¼Œå¯æƒœæˆ‘å¹¶æ²¡æœ‰ç›´æ¥åšå‡ºæ¥ï¼Œèœå•Šï¼Œçœ‹äº†ä¸€çœ¼è¯„è®ºåŒºçœ‹è§äº†å‡ ä¸ªforå¾ªç¯ç«‹é©¬å°±æ‡‚äº†ï¼Œç„¶åè¿‡äº†å¥½å‡ å¤©å®ç°äº†ä¸‹ï¼Œä¸€å¼€å§‹rootçš„ä½ç½®æ”¾é”™äº†ï¼Œæ”¹äº†ä¸€ä¼šå„¿</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">allPossibleFBT</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    List&lt;TreeNode&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(N%<span class="number">2</span>==<span class="number">0</span>) <span class="keyword">return</span> res; <span class="comment">//å¶æ•°æå‰è¿”å›ï¼ŒåŠ å¿«é€Ÿåº¦</span></span><br><span class="line">    <span class="keyword">if</span>(N==<span class="number">1</span>)&#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> TreeNode(<span class="number">0</span>));</span><br><span class="line">        <span class="keyword">return</span> res;  </span><br><span class="line">    &#125;</span><br><span class="line">    N--; <span class="comment">//å‡å»æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;N;i+=<span class="number">2</span>)&#123; <span class="comment">//å°†å·¦å³å­æ ‘åˆ’åˆ†ä½ä¸¤ä¸ªå¥‡æ•°</span></span><br><span class="line">        List&lt;TreeNode&gt; lefts=allPossibleFBT(i);</span><br><span class="line">        List&lt;TreeNode&gt; rights=allPossibleFBT(N-i);</span><br><span class="line">        <span class="keyword">for</span>(TreeNode le:lefts)&#123;</span><br><span class="line">            <span class="keyword">for</span>(TreeNode ri:rights)&#123;</span><br><span class="line">                <span class="comment">//ä¸€è·¯ä»æœ€å¤–å±‚ç§»åŠ¨åˆ°è¿™é‡Œã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line">                TreeNode root=<span class="keyword">new</span> TreeNode(<span class="number">0</span>); </span><br><span class="line">                root.left=le;</span><br><span class="line">                root.right=ri;</span><br><span class="line">                res.add(root);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="129-æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"><a href="#129-æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ" class="headerlink" title="129. æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"></a><a href="https://leetcode-cn.com/problems/sum-root-to-leaf-numbers/" target="_blank" rel="noopener">129. æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ä¸€ä¸ª <code>0-9</code> çš„æ•°å­—ï¼Œæ¯æ¡ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <code>1-&gt;2-&gt;3</code> ä»£è¡¨æ•°å­— <code>123</code></p>
<p>è®¡ç®—ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹ç”Ÿæˆçš„æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚</p>
<p><strong>è¯´æ˜:</strong> å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="number">25</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="number">1</span>-&gt;<span class="number">2</span> ä»£è¡¨æ•°å­— <span class="number">12</span>.</span><br><span class="line">ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="number">1</span>-&gt;<span class="number">3</span> ä»£è¡¨æ•°å­— <span class="number">13</span>.</span><br><span class="line">å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = <span class="number">12</span> + <span class="number">13</span> = <span class="number">25</span>.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">4</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">1</span>]</span><br><span class="line">    <span class="number">4</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">9</span>   <span class="number">0</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">5</span>   <span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="number">1026</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="number">4</span>-&gt;<span class="number">9</span>-&gt;<span class="number">5</span> ä»£è¡¨æ•°å­— <span class="number">495</span>.</span><br><span class="line">ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="number">4</span>-&gt;<span class="number">9</span>-&gt;<span class="number">1</span> ä»£è¡¨æ•°å­— <span class="number">491</span>.</span><br><span class="line">ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ <span class="number">4</span>-&gt;<span class="number">0</span> ä»£è¡¨æ•°å­— <span class="number">40</span>.</span><br><span class="line">å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = <span class="number">495</span> + <span class="number">491</span> + <span class="number">40</span> = <span class="number">1026</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼Œå»¶ç»­ä¸Šé¢çš„åšæ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumNumbers</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span> ) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;TreeNode&gt; node_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; sum_stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    node_stack.add(root);</span><br><span class="line">    sum_stack.add(root.val);</span><br><span class="line">    <span class="keyword">while</span>(!node_stack.isEmpty())&#123;</span><br><span class="line">        TreeNode node=node_stack.pop();</span><br><span class="line">        <span class="keyword">int</span> tempS=sum_stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (node.left==<span class="keyword">null</span> &amp;&amp; node.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">            res+=tempS;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            node_stack.add(node.left);</span><br><span class="line">             <span class="comment">//æ³¨æ„*10,åœ¨ä¸Šä¸€å±‚çš„åŸºç¡€ä¸Š*10</span></span><br><span class="line">            sum_stack.add(tempS*<span class="number">10</span>+node.left.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            node_stack.add(node.right);</span><br><span class="line">            sum_stack.add(tempS*<span class="number">10</span>+node.right.val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFSè§£æ³•ï¼Œä¸€å¼€å§‹æ²¡æƒ³å‡ºæ¥ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//DFS</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumNumbers2</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    sumNumber(<span class="number">0</span>,root);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sumNumber</span><span class="params">(<span class="keyword">int</span> parent,TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cur=parent*<span class="number">10</span>+root.val;</span><br><span class="line">    <span class="comment">//å¶å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (root!=<span class="keyword">null</span> &amp;&amp; root.left==<span class="keyword">null</span>&amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        sum+=cur;</span><br><span class="line">    &#125;</span><br><span class="line">    sumNumber(cur,root.left);</span><br><span class="line">    sumNumber(cur,root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1022-ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ"><a href="#1022-ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ" class="headerlink" title="1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ"></a><a href="https://leetcode-cn.com/problems/sum-of-root-to-leaf-binary-numbers/" target="_blank" rel="noopener">1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</a></h2><p>ç»™å‡ºä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸Šæ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½æ˜¯ <code>0</code> æˆ– <code>1</code> ã€‚æ¯ä¸€æ¡ä»æ ¹åˆ°å¶çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªä»æœ€é«˜æœ‰æ•ˆä½å¼€å§‹çš„äºŒè¿›åˆ¶æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè·¯å¾„ä¸º <code>0 -&gt; 1 -&gt; 1 -&gt; 0 -&gt; 1</code>ï¼Œé‚£ä¹ˆå®ƒè¡¨ç¤ºäºŒè¿›åˆ¶æ•° <code>01101</code>ï¼Œä¹Ÿå°±æ˜¯ <code>13</code> ã€‚</p>
<p>å¯¹æ ‘ä¸Šçš„æ¯ä¸€ç‰‡å¶å­ï¼Œæˆ‘ä»¬éƒ½è¦æ‰¾å‡ºä»æ ¹åˆ°è¯¥å¶å­çš„è·¯å¾„æ‰€è¡¨ç¤ºçš„æ•°å­—ã€‚</p>
<p>ä»¥ <strong>10^9 + 7</strong> ä¸º<strong>æ¨¡</strong>ï¼Œè¿”å›è¿™äº›æ•°å­—ä¹‹å’Œã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/04/28/JI4uDI.png" alt="JI4uDI.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">22</span></span><br><span class="line">è§£é‡Šï¼š(<span class="number">100</span>) + (<span class="number">101</span>) + (<span class="number">110</span>) + (<span class="number">111</span>) = <span class="number">4</span> + <span class="number">5</span> + <span class="number">6</span> + <span class="number">7</span> = <span class="number">22</span></span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>æ ‘ä¸­çš„ç»“ç‚¹æ•°ä»‹äº <code>1</code> å’Œ <code>1000</code> ä¹‹é—´ã€‚</li>
<li>node.val ä¸º <code>0</code> æˆ– <code>1</code> ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šä¸€é¢˜ä¸€æ‘¸ä¸€æ ·ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯10è¿›åˆ¶ï¼Œä¸€ä¸ªæ˜¯äºŒè¿›åˆ¶</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Left *TreeNode</span></span><br><span class="line"><span class="comment"> *     Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> mod=<span class="keyword">int</span>(<span class="number">1e9</span>+<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumRootToLeaf</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    sum:=<span class="number">0</span>;</span><br><span class="line">    dfs(root,<span class="number">0</span>,&amp;sum)</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode,cur <span class="keyword">int</span>,sum *<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur=(cur&lt;&lt;<span class="number">1</span>+root.Val)%mod</span><br><span class="line">    <span class="keyword">if</span> root!=<span class="literal">nil</span> &amp;&amp; root.Left==<span class="literal">nil</span> &amp;&amp; root.Right==<span class="literal">nil</span>&#123;</span><br><span class="line">        *sum=(*sum+cur)%mod</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.Left,cur,sum)</span><br><span class="line">    dfs(root.Right,cur,sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é¢˜çš„æ•°æ®å¤ªå¼±äº†ï¼Œç”šè‡³éƒ½ä¸ç”¨å–æ¨¡ç…§æ ·å¯ä»¥è¿‡ã€‚ã€‚ã€‚ã€‚æˆ‘ä¸€å¼€å§‹çœ‹åˆ°1000ä¸ªèŠ‚ç‚¹ï¼Œè¿˜è€ƒè™‘è¦ä¸è¦å¤„ç†å¤§æ•°çš„æƒ…å†µï¼Œçœ‹åˆ°è¿”å›å€¼æ˜¯intæ‰ä½œç½¢ğŸ¤£</p>
</blockquote>
<h2 id="437-è·¯å¾„æ€»å’Œ-III"><a href="#437-è·¯å¾„æ€»å’Œ-III" class="headerlink" title="437. è·¯å¾„æ€»å’Œ III"></a><a href="https://leetcode-cn.com/problems/path-sum-iii/" target="_blank" rel="noopener">437. è·¯å¾„æ€»å’Œ III</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ç€ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p>
<p>æ‰¾å‡ºè·¯å¾„å’Œç­‰äºç»™å®šæ•°å€¼çš„è·¯å¾„æ€»æ•°ã€‚</p>
<p>è·¯å¾„ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>äºŒå‰æ ‘ä¸è¶…è¿‡1000ä¸ªèŠ‚ç‚¹ï¼Œä¸”èŠ‚ç‚¹æ•°å€¼èŒƒå›´æ˜¯ [-1000000,1000000] çš„æ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">root = [<span class="number">10</span>,<span class="number">5</span>,-<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">11</span>,<span class="number">3</span>,-<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">1</span>], sum = <span class="number">8</span></span><br><span class="line">      <span class="number">10</span></span><br><span class="line">     /  \</span><br><span class="line">    <span class="number">5</span>   -<span class="number">3</span></span><br><span class="line">   / \    \</span><br><span class="line">  <span class="number">3</span>   <span class="number">2</span>   <span class="number">11</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">3</span>  -<span class="number">2</span>   <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>è¿”å› 3ã€‚å’Œç­‰äº 8 çš„è·¯å¾„æœ‰:</p>
<ol>
<li> 5 -&gt; 3</li>
<li> 5 -&gt; 2 -&gt; 1</li>
<li> -3 -&gt; 11</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span> ) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=findPath(root,sum);</span><br><span class="line">    res+=pathSum(root.left,sum);</span><br><span class="line">    res+=pathSum(root.right,sum);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPath</span><span class="params">(TreeNode node,<span class="keyword">int</span> sum)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.val==sum) &#123;</span><br><span class="line">        res++;</span><br><span class="line">    &#125;</span><br><span class="line">    res+=findPath(node.left,sum-node.val);</span><br><span class="line">    res+=findPath(node.right,sum-node.val);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>emmmmï¼Œè¿™é¢˜åˆ†ç±»æ˜¯easyç¡®å®å¤ªè¿·äº†ï¼ŒåµŒå¥—çš„é€’å½’ï¼Œçœ‹äº†è§£æ³•ç¡®å®çœ‹çš„æ‡‚ï¼Œä½†æ˜¯å†™æ˜¯ç»å¯¹å†™ä¸å‡ºæ¥çš„ï¼ˆçœ¼ç›ï¼šæˆ‘æ‡‚äº†ï¼Œè„‘å­ï¼šä½ æ‡‚ä¸ªé”¤å­ï¼‰é™¤éèƒ½è®°ä½</del></p>
<p>å›å¤´æ¥çœ‹å‘ç°å…¶å®æŒºç®€å•çš„ï¼Œç¡®å®æ˜¯easyé¢˜~ ä½†æ˜¯è¿™ä¸ªè§£å¾ˆæ˜æ˜¾ä¸æ˜¯æœ€ä¼˜è§£ï¼Œè¿™ä¸ªé‡Œé¢ä¼šæœ‰å¾ˆå¤šçš„é‡å¤çš„è®¡ç®—ï¼Œæœ€ä¼˜è§£æ˜¯åˆ©ç”¨ å‰ç¼€å’Œ+å›æº¯çš„è§£æ³•ï¼Œæœ‰ç‚¹å°é¡¶~</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¡¥ä¸Šå‰ç¼€å’Œçš„åšæ³•ï¼Œä¹‹å‰å¥½åƒæ˜¯çœ‹äº†ç­”æ¡ˆï¼Œç„¶åæ„Ÿè§‰å¾ˆéš¾ï¼Œå°±æ²¡å†™ï¼Ÿä»Šå¤©åˆé‡æ–°åšäº†ä¸‹ï¼Œå…ˆå†™äº†æš´åŠ›è§£ï¼Œç„¶åå°±ç›´æ¥å†™å‡ºäº†å‰ç¼€å’Œçš„åšæ³•ï¼Œæ„Ÿè§‰å‰ç¼€å’Œçš„æ€è·¯è¿˜æ˜¯æŒºä¼˜ç§€çš„ï¼Œä¸€å¼€å§‹å¿˜äº†å›æº¯ï¼Œæ€è€ƒäº†ä¸‹æ„è¯†åˆ°è¿™é‡Œè®°å½•çš„åº”è¯¥æ˜¯ä¸€æ¡åˆ†æ”¯ä¹‹ä¸Šè€Œä¸‹çš„å‰ç¼€å’Œï¼Œæ‰€ä»¥åœ¨ç»Ÿè®¡å®ŒæŸä¸ªèŠ‚ç‚¹ååº”è¯¥å›æº¯</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‰ç¼€å’Œçš„æ€è·¯O(N)æŒºä¸é”™çš„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pathSum</span><span class="params">(root *TreeNode, sum <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">    <span class="comment">//å‰ç¼€å’Œï¼Œè®°å½•ä¸€æ¡è‡ªä¸Šè€Œä¸‹çš„è·¯å¾„å‰ç¼€å’Œ</span></span><br><span class="line">    <span class="keyword">var</span> preSum = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">    preSum[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    dfs(root, <span class="number">0</span>, sum, preSum, &amp;res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode, sum <span class="keyword">int</span>, target <span class="keyword">int</span>, preSum <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>, res *<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum += root.Val</span><br><span class="line">    <span class="comment">//preSum[sum]++ï¼Œè¿™é‡ŒWAäº†ä¸€å‘ï¼Œå†™åœ¨ä¸Šé¢å¦‚æœtatgetä¸º0å°±æŠŠå½“å‰èŠ‚ç‚¹ç®—è¿›å»äº†</span></span><br><span class="line">    *res += preSum[sum-target]</span><br><span class="line">    preSum[sum]++</span><br><span class="line">    dfs(root.Left, sum, target, preSum, res)</span><br><span class="line">    dfs(root.Right, sum, target, preSum, res)</span><br><span class="line">    preSum[sum]--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="235-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#235-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/" target="_blank" rel="noopener">235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘:  <code>root = [6,2,8,0,4,7,9,null,null,3,5]</code></p>
<p><img src="http://static.imlgw.top/blog/20191001/KlQJmqmdWmP3.png?imageslim" alt="mark"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">6</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="number">5</span>], p = <span class="number">2</span>, q = <span class="number">8</span></span><br><span class="line">è¾“å‡º: <span class="number">6</span> </span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ <span class="number">2</span> å’ŒèŠ‚ç‚¹ <span class="number">8</span> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">6</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="number">5</span>], p = <span class="number">2</span>, q = <span class="number">4</span></span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ <span class="number">2</span> å’ŒèŠ‚ç‚¹ <span class="number">4</span> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ <span class="number">2</span>, å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æœç´¢æ ‘ä¸­ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>çœ‹äº†ä¸€ç‚¹ç‚¹æ€è·¯ï¼Œç„¶åbugfree</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç‰¹æ®Šæƒ…å†µ,å…¶ä¸­ä¸€ä¸ªå·²ç»æ˜¯å¦ä¸€ä¸ªçš„ç¥–å…ˆäº†</span></span><br><span class="line">    <span class="comment">//if (p==root || q==root) return root;</span></span><br><span class="line">    <span class="comment">//éƒ½å°äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (p.val&lt;root.val &amp;&amp; q.val&lt;root.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.left,p,q);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (p.val &gt; root.val &amp;&amp; q.val &gt; root.val) &#123;</span><br><span class="line">        <span class="comment">//éƒ½å¤§äºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> lowestCommonAncestor(root.right,p,q);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸€å¤§ä¸€å° æˆ–è€…æœ‰ä¸€ä¸ªæ˜¯root</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®æ ¸å¿ƒå°±æ˜¯åˆ©ç”¨å¥½BSTçš„æ€§è´¨ï¼Œå·¦å­æ ‘ä¸€å®šå°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘ä¸€å®šå¤§äºæ ¹èŠ‚ç‚¹ï¼Œæ±‚å…¬å…±ç¥–å…ˆï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹åœ¨å·¦å­æ ‘ï¼Œä¸€ä¸ªåœ¨å³å­æ ‘ï¼Œé‚£ä¹ˆæœ€è¿‘çš„å…¬å…±ç¥–å…ˆä¸€å®šæ˜¯rootï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µå°±æ˜¯å½“ä¸¤ä¸ªèŠ‚ç‚¹å·²ç»æœ‰ç¥–å…ˆå…³ç³»çš„æ—¶å€™ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ç¥–å…ˆèŠ‚ç‚¹å°±å¯ä»¥äº†</p>
<blockquote>
<p>è¿™é‡Œå…¶å®å‰é¢çš„<code>if</code>å¯ä»¥å»æ‰ï¼Œé¢˜ç›®ä¸­è¯´åˆ°äº†æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥èŠ‚ç‚¹å€¼ç›¸ç­‰å°±è¯´æ˜æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å·²ç»åŒ…å«åœ¨æœ€åä¸€ä¸ªelseçš„æƒ…å†µä¸­äº†</p>
</blockquote>
<h2 id="98-éªŒè¯äºŒå‰æœç´¢æ ‘"><a href="#98-éªŒè¯äºŒå‰æœç´¢æ ‘" class="headerlink" title="98. éªŒè¯äºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/validate-binary-search-tree/" target="_blank" rel="noopener">98. éªŒè¯äºŒå‰æœç´¢æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>å‡è®¾ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«<strong>å°äº</strong>å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li>
<li>èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«<strong>å¤§äº</strong>å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚</li>
<li>æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">    <span class="number">2</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">1</span>   <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">1</span>   <span class="number">4</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">3</span>   <span class="number">6</span></span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br><span class="line">è§£é‡Š: è¾“å…¥ä¸º: [<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="number">6</span>]ã€‚</span><br><span class="line">     æ ¹èŠ‚ç‚¹çš„å€¼ä¸º <span class="number">5</span> ï¼Œä½†æ˜¯å…¶å³å­èŠ‚ç‚¹å€¼ä¸º <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>é€’å½’è§£æ³•ï¼Œå¾ˆå·§å¦™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isValidBST(root,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode node,Integer low,Integer high)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (low!=<span class="keyword">null</span> &amp;&amp; low&gt;=node.val || high!=<span class="keyword">null</span> &amp;&amp; high&lt;=node.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isValidBST(node.left,low,node.val) &amp;&amp; isValidBST(node.right,node.val,high);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å®šè¦æ³¨æ„BSTçš„æ€§è´¨æ˜¯æ ¹èŠ‚ç‚¹<strong>å¤§äºæ‰€æœ‰</strong> å³å­æ ‘çš„èŠ‚ç‚¹ï¼Œ<strong>å°äºæ‰€æœ‰</strong>å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ç®€å•çš„éªŒè¯å½“å‰èŠ‚ç‚¹å’Œå·¦å³èŠ‚ç‚¹çš„å¤§å°å…³ç³»å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨éªŒè¯çš„æ—¶å€™ä¼ å…¥å¯¹åº”çš„<strong>ä¸Šç•Œ</strong>å’Œ<strong>ä¸‹ç•Œ</strong>ï¼ŒèŠ‚ç‚¹å¿…é¡»è¦å¤§äºä¸‹ç•Œï¼Œå°äºä¸Šç•Œï¼Œé‚£ä¹ˆä¸Šç•Œå’Œä¸‹ç•Œä»å“ªé‡Œæ¥ï¼Ÿ<em>å½“å‰èŠ‚ç‚¹å°±æ˜¯å·¦å­æ ‘çš„ä¸Šç•Œï¼Œå³å­æ ‘çš„ä¸‹ç•Œï¼</em>  ç„¶åé€’å½’å·¦å³å­æ ‘å°±okäº†</p>
<blockquote>
<p>è¿™é¢˜å…¶å®è¿˜æœ‰ä¸€ä¸ªå‘ï¼Œåªä¸è¿‡æˆ‘è¿™ä¸ªåšæ³•ç›´æ¥è·³è¿‡äº†ï¼Œé¢˜ç›®çš„caseä¸­æœ‰çš„èŠ‚ç‚¹å€¼æ˜¯<code>Integer.MIN_VALUE</code>ï¼Œå’Œ<code>Integer.MAX_VALUE</code>  ï¼Œå¦‚æœä¸Šç•Œä¸‹ç•Œç›´æ¥ç”¨intæ¥ä¼ é€’çš„è¯ï¼Œå¾ˆæœ‰å¯èƒ½é€’å½’åˆå§‹è°ƒç”¨å°±æ˜¯è¿™æ ·çš„</p>
<p><code>return isValidBST(root,Integer.MIN_VALUE,Integer.MAX_VALUE);</code> è¿™å°±æ­£ä¸­å‡ºé¢˜äººä¸‹æ€€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç”¨ä¸€ä¸ªåŒ…è£…ç±»å‹ï¼Œè¿™æ ·æˆ‘ä»¬åªéœ€è¦æ£€æµ‹ä¸Šç•Œä¸‹ç•Œæ˜¯ä¸æ˜¯nullå°±å¯ä»¥äº†</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ä¸ªå°±åˆ©ç”¨äº†BSTå’Œä¸­åºéå†çš„å…³ç³»ï¼Œæˆ‘ä»¬çŸ¥é“ä¸­åºéå†æ˜¯ <code>å·¦-&gt;æ ¹-&gt;å³</code>  è¿™ä¸ªé¡ºåºæ”¾åˆ° BSTä¸­æ°å¥½å°±æ˜¯ä¸€ä¸ªå‡åºçš„åºåˆ—ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨æ¥åˆ¤æ–­äºŒå‰æ ‘æ˜¯ä¸æ˜¯BST</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//BSTçš„ä¸­åºéå†ä¸€å®šæ˜¯å‡åºçš„</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    LinkedList&lt;Integer&gt; order=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.add(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        <span class="comment">//å’Œä¸Šä¸€æ¬¡çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å€¼æ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">if</span> (!order.isEmpty() &amp;&amp; order.getLast()&gt;= cur.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        order.add(cur.val);</span><br><span class="line">        cur=cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå…¶å®å¯ä»¥ä¸ç”¨listä¿å­˜ç»“æœï¼Œ<del>ç”¨ä¸€ä¸ªintä¿å­˜ä¸Šä¸€æ¬¡çš„èŠ‚ç‚¹å€¼å°±è¡Œäº†</del> mdé‡åšçš„æ—¶å€™å› ä¸ºè¿™ä¸ªWAäº†å¥½å‡ æ¬¡ï¼Œå¦‚æœç”¨intçš„è¯éœ€è¦åŠ ä¸€ä¸ªæ ‡å¿—ä½ç”¨æ¥åˆå§‹åŒ–</p>
<h2 id="958-äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ"><a href="#958-äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ" class="headerlink" title="958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ"></a><a href="https://leetcode-cn.com/problems/check-completeness-of-a-binary-tree/" target="_blank" rel="noopener">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œç¡®å®šå®ƒæ˜¯å¦æ˜¯ä¸€ä¸ª_å®Œå…¨äºŒå‰æ ‘_ã€‚</p>
<p><strong>ä¸­å¯¹å®Œå…¨äºŒå‰æ ‘çš„å®šä¹‰å¦‚ä¸‹ï¼š</strong></p>
<p>è‹¥è®¾äºŒå‰æ ‘çš„æ·±åº¦ä¸º hï¼Œé™¤ç¬¬ h å±‚å¤–ï¼Œå…¶å®ƒå„å±‚ (1ï½h-1) çš„ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ä¸ªæ•°ï¼Œç¬¬ h å±‚æ‰€æœ‰çš„ç»“ç‚¹éƒ½è¿ç»­é›†ä¸­åœ¨æœ€å·¦è¾¹ï¼Œè¿™å°±æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚ï¼ˆæ³¨ï¼šç¬¬ h å±‚å¯èƒ½åŒ…å« 1~Â 2<sup>h</sup>Â ä¸ªèŠ‚ç‚¹ã€‚ï¼‰</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-1.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šæœ€åä¸€å±‚å‰çš„æ¯ä¸€å±‚éƒ½æ˜¯æ»¡çš„ï¼ˆå³ï¼Œç»“ç‚¹å€¼ä¸º &#123;<span class="number">1</span>&#125; å’Œ &#123;<span class="number">2</span>,<span class="number">3</span>&#125; çš„ä¸¤å±‚ï¼‰ï¼Œä¸”æœ€åä¸€å±‚ä¸­çš„æ‰€æœ‰ç»“ç‚¹ï¼ˆ&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;ï¼‰éƒ½å°½å¯èƒ½åœ°å‘å·¦ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><strong><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/15/complete-binary-tree-2.png"></strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,null,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šå€¼ä¸º <span class="number">7</span> çš„ç»“ç‚¹æ²¡æœ‰å°½å¯èƒ½é å‘å·¦ä¾§ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> æ ‘ä¸­å°†ä¼šæœ‰ 1 åˆ° 100 ä¸ªç»“ç‚¹ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹æ€è·¯å‡ºç°äº†é—®é¢˜ï¼Œæƒ³ç€å»æŒ‰ç…§èŠ‚ç‚¹ä¸ªæ•°å»æ ¡éªŒï¼Œç„¶åå¯¹æœ€åä¸€å±‚åšç‰¹åˆ¤ï¼Œç„¶åå‘ç°è¿™ç§æ€è·¯æ˜¯æ­»èƒ¡åŒï¼Œå®é™…ä¸Šåˆ¤æ–­æ˜¯å¦æ˜¯å®Œå…¨äºŒå‰æ ‘å¾ˆç®€å•ï¼Œåªè¦èŠ‚ç‚¹<strong>ä¸­é—´</strong>æ²¡æœ‰å‡ºç°nullå°±è¯´æ˜æ˜¯å®Œå…¨äºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isCompleteTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    TreeNode pre = root;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        TreeNode cur = queue.poll();</span><br><span class="line">        <span class="comment">//å½“å‰èŠ‚ç‚¹å‰é¢å‡ºç°äº†null</span></span><br><span class="line">        <span class="keyword">if</span> (pre==<span class="keyword">null</span> &amp;&amp; cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//å› ä¸ºè¦åˆ¤æ–­nullæ˜¯å¦åœ¨ä¸­é—´ï¼Œæ‰€ä»¥nullèŠ‚ç‚¹ä¹Ÿè¦å­˜è¿›å»</span></span><br><span class="line">            queue.add(cur.left);</span><br><span class="line">            queue.add(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">        pre = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><a href="#108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/" target="_blank" rel="noopener">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a></h2><p>å°†ä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æœ‰åºæ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€æ£µ<strong>é«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘</strong></p>
<p>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»™å®šæœ‰åºæ•°ç»„: [-<span class="number">10</span>,-<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[<span class="number">0</span>,-<span class="number">3</span>,<span class="number">9</span>,-<span class="number">10</span>,<span class="keyword">null</span>,<span class="number">5</span>]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">     / \</span><br><span class="line">   -<span class="number">3</span>   <span class="number">9</span></span><br><span class="line">   /   /</span><br><span class="line"> -<span class="number">10</span>  <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedArrayToBST</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sortedArrayToBST(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedArrayToBST</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left&gt;right) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid=(right-left)/<span class="number">2</span>+left;</span><br><span class="line">    TreeNode node=<span class="keyword">new</span> TreeNode(nums[mid]);</span><br><span class="line">    node.left=sortedArrayToBST(nums,left,mid-<span class="number">1</span>);</span><br><span class="line">    node.right=sortedArrayToBST(nums,mid+<span class="number">1</span>,right);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æœ€å¼€å§‹ç»ˆæ­¢æ¡ä»¶å†™é”™äº†ï¼Œæ€è·¯æ˜¯å¯¹çš„ï¼Œå¯¹é€’å½’è¿ç”¨çš„è¿˜æ˜¯ä¸å¤Ÿç†Ÿç»ƒï¼Œç»ˆæ­¢æ¡ä»¶å…¶å®åªéœ€è¦æƒ³ä¸€ä¸‹æç«¯æƒ…å†µå°±å¯ä»¥äº†</p>
<h2 id="109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"><a href="#109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘" class="headerlink" title="109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/convert-sorted-list-to-binary-search-tree/" target="_blank" rel="noopener">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰å‡åºæ’åºï¼Œå°†å…¶è½¬æ¢ä¸ºé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘<em>æ¯ä¸ªèŠ‚ç‚¹</em> çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ç»™å®šçš„æœ‰åºé“¾è¡¨ï¼š [-10, -3, 0, 5, 9],</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0, -3, 9, -10, null, 5], å®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     / \</span><br><span class="line">   -3   9</span><br><span class="line">   /   /</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p><del>BSTä¸å¤ªç†Ÿçœ‹äº†ä¸‹è¯„è®ºå†™å‡ºæ¥çš„</del></p>
<p>å¥½ä¹…ä¹‹å‰å†™çš„é¢˜äº†ï¼Œæ¯æ—¥æ‰“å¡é¢˜å‡ºäº†ä¸Šé¢çš„é¢˜ç›®ï¼Œéšä¾¿åšä¸€ä¸‹è¿™é¢˜ï¼Œå‘ç°è¿™é¢˜è¢«è®°å½•åœ¨é“¾è¡¨ä¸“é¢˜ä¸­äº†ï¼Œç§»è¿‡æ¥ä¸‹ï¼Œå’Œä¸Šé¢çš„ä¸€æ ·ï¼Œåªä¸è¿‡æ‰¾ä¸­ç‚¹çš„æ–¹å¼ä¸ä¸€æ ·ï¼ˆUPDATE: 2020.7.3ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> build(head,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">build</span><span class="params">(ListNode head,ListNode tail)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==tail)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¿«æ…¢æŒ‡é’ˆæ‰¾ä¸­ç‚¹</span></span><br><span class="line">    ListNode fast=head,slow=head;</span><br><span class="line">    <span class="keyword">while</span>(fast!=tail&amp;&amp;fast.next!=tail)&#123;</span><br><span class="line">        <span class="comment">//å·¦é—­å³å¼€</span></span><br><span class="line">        fast=fast.next.next;</span><br><span class="line">        slow=slow.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//slowä¸ºä¸­ç‚¹æˆ–ä¸­ç‚¹åä¸€ä¸ª</span></span><br><span class="line">    <span class="comment">//1 2 3 4</span></span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(slow.val);</span><br><span class="line">    root.left=build(head,slow);</span><br><span class="line">    root.right=build(slow.next,tail);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>UPDATE: 2020.7.3</strong></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortedListToBST</span><span class="params">(head *ListNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> head == <span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> head.Next == <span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;TreeNode&#123;Val : head.Val&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fast = head</span><br><span class="line">    <span class="keyword">var</span> slow = head <span class="comment">//slowä¸ºå·¦ä¸­ç‚¹</span></span><br><span class="line">    <span class="keyword">var</span> pre  = head</span><br><span class="line">    <span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next !=<span class="literal">nil</span>&#123;</span><br><span class="line">        fast = fast.Next.Next</span><br><span class="line">        pre = slow</span><br><span class="line">        slow = slow.Next</span><br><span class="line">    &#125;</span><br><span class="line">    pre.Next = <span class="literal">nil</span> <span class="comment">//æ–©æ–­å’Œslowçš„è”ç³»</span></span><br><span class="line">    root := &amp;TreeNode&#123;Val : slow.Val&#125;</span><br><span class="line">    root.Left = sortedListToBST(head)</span><br><span class="line">    root.Right = sortedListToBST(slow.Next)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="230-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ "><a href="#230-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ " class="headerlink" title="230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ "></a><a href="https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/" target="_blank" rel="noopener">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° <code>kthSmallest</code> æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ </p>
<p><strong>è¯´æ˜ï¼š</strong><br>ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">2</span>], k = <span class="number">1</span></span><br><span class="line">   <span class="number">3</span></span><br><span class="line">  / \</span><br><span class="line"> <span class="number">1</span>   <span class="number">4</span></span><br><span class="line">  \</span><br><span class="line">   <span class="number">2</span></span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">1</span>], k = <span class="number">3</span></span><br><span class="line">       <span class="number">5</span></span><br><span class="line">      / \</span><br><span class="line">     <span class="number">3</span>   <span class="number">6</span></span><br><span class="line">    / \</span><br><span class="line">   <span class="number">2</span>   <span class="number">4</span></span><br><span class="line">  /</span><br><span class="line"> <span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br></pre></td></tr></table></figure>


<p><strong>è¿›é˜¶ï¼š</strong><br>å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ– kthSmallest å‡½æ•°ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>éé€’å½’ä¸­åºéå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.add(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (count==k-<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> cur.val;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=cur.right;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ²¡æ‰¾åˆ°</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜æ˜¯åˆ©ç”¨BSTä¸­åºéå†æ˜¯å‡åºçš„æ€§è´¨ï¼Œåœ¨å–åˆ°ç¬¬kä¸ªå…ƒç´ çš„æ—¶å€™å°±ç›´æ¥<code>break</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’çš„æ–¹å¼ï¼ŒåŠ äº†ä¸¤ä¸ªé¢å¤–çš„å®ä¾‹å˜é‡å…¶å®ä¸å¤ªå¥½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    kthSmallest(root,k);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">kthSmall</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    kthSmall(root.left,k);</span><br><span class="line">    <span class="keyword">if</span> (count==k-<span class="number">1</span>) &#123;</span><br><span class="line">        res=root.val;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    count++;</span><br><span class="line">    kthSmall(root.right,k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯ç¬¬Kå¤§å°±äº¤æ¢ä¸‹éå†é¡ºåºå°±è¡Œäº†</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">kthLargest</span><span class="params">(root *TreeNode, k <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res = root.Val</span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span>&#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…ˆright</span></span><br><span class="line">        dfs(root.Right)</span><br><span class="line">        count++</span><br><span class="line">        <span class="keyword">if</span> count == k&#123;</span><br><span class="line">            res = root.Val</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.Left)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¿›é˜¶</strong></p>
<p>å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå¤§æ ¹å †ï¼Œå°±å’Œæœ€å°æ ˆä¸€æ ·ï¼Œæ¯æ¬¡å¯¹BSTæ“ä½œçš„æ—¶å€™åŒæ­¥æ“ä½œè¿™ä¸ªå¤§æ ¹å †</p>
<h2 id="236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/" target="_blank" rel="noopener">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  root = [3,5,1,6,2,0,8,null,null,7,4]</p>
<p> <img src="http://static.imlgw.top/blog/20191003/m0bWNSMUQWy2.png?imageslim" alt="mark"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">7</span>,<span class="number">4</span>], p = <span class="number">5</span>, q = <span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ <span class="number">5</span> å’ŒèŠ‚ç‚¹ <span class="number">1</span> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: root = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">7</span>,<span class="number">4</span>], p = <span class="number">5</span>, q = <span class="number">4</span></span><br><span class="line">è¾“å‡º: <span class="number">5</span></span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ <span class="number">5</span> å’ŒèŠ‚ç‚¹ <span class="number">4</span> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ <span class="number">5</span>ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span> || root==p || root==q) <span class="keyword">return</span> root; </span><br><span class="line">    TreeNode left=lowestCommonAncestor(root.left,p,q);</span><br><span class="line">    TreeNode right=lowestCommonAncestor(root.right,p,q);</span><br><span class="line">    <span class="keyword">if</span>(left==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(right==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æœ‰ä¸‰ä¸ªï¼šç»™å®šä¸¤ä¸ªèŠ‚ç‚¹ pp å’Œ qq</p>
<ul>
<li>å¦‚æœ pp å’Œ qq éƒ½å­˜åœ¨ï¼Œåˆ™è¿”å›å®ƒä»¬çš„å…¬å…±ç¥–å…ˆ</li>
<li>å¦‚æœåªå­˜åœ¨ä¸€ä¸ªï¼Œåˆ™è¿”å›å­˜åœ¨çš„ä¸€ä¸ª</li>
<li>å¦‚æœ pp å’Œ qq éƒ½ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›NULL </li>
</ul>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>2020.4.9æ–°å¢è§£æ³•ï¼Œåˆ©ç”¨Mapè®°å½•çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæ ¹æ®p,qå€’æ¨å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.5.10åŸæ¥ç”¨çš„TreeNodeåšé”®ï¼Œå±…ç„¶èƒ½è¿‡ä¹Ÿæ˜¯å¾ˆç¥å¥‡ï¼Œæˆ‘è¯•äº†ä¸‹ï¼ŒTreeNodeåº”è¯¥æ˜¯æ²¡æœ‰è¦†ç›–equalsçš„</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥è¦æ˜¯ç¢°æ’çš„å¤Ÿå¤šï¼Œé‚£ç§åšæ³•å°±é”™äº†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span> || p==root ||q==root) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    Deque&lt;TreeNode&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="comment">//é¢˜ç›®è¯´äº†å€¼å”¯ä¸€ï¼Œæ‰€ä»¥å¯ä»¥ç”¨Integerå½“é”®</span></span><br><span class="line">    HashMap&lt;Integer,TreeNode&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(root.val,<span class="keyword">null</span>); <span class="comment">//æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode cur=stack.poll();</span><br><span class="line">        <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur.right);</span><br><span class="line">            map.put(cur.right.val,cur);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur.left);</span><br><span class="line">            map.put(cur.left.val,cur);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;Integer&gt; set=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        set.add(p.val);</span><br><span class="line">        p=map.get(p.val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!set.contains(q.val))&#123;</span><br><span class="line">        q=map.get(q.val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="101-å¯¹ç§°äºŒå‰æ ‘"><a href="#101-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="101. å¯¹ç§°äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/symmetric-tree/" target="_blank" rel="noopener">101. å¯¹ç§°äºŒå‰æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ <code>[1,2,2,3,4,4,3]</code> æ˜¯å¯¹ç§°çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">2</span></span><br><span class="line"> / \ / \</span><br><span class="line"><span class="number">3</span>  <span class="number">4</span> <span class="number">4</span>  <span class="number">3</span></span><br></pre></td></tr></table></figure>


<p>ä½†æ˜¯ä¸‹é¢è¿™ä¸ª <code>[1,2,2,null,3,null,3]</code> åˆ™ä¸æ˜¯<strong>é•œåƒå¯¹ç§°</strong>çš„:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">1</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span></span><br><span class="line"> \   \</span><br><span class="line"> <span class="number">3</span>    <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<p>å¦‚æœä½ å¯ä»¥è¿ç”¨é€’å½’å’Œè¿­ä»£ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¼šå¾ˆåŠ åˆ†ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å“ï¼Œæ„Ÿè§‰åˆ·é¢˜è¿˜æ˜¯å¾—åœ¨ç™½å¤©ï¼Œè„‘å­æ¸…é†’ç‚¹ï¼Œä¸‹åˆå°±æ„Ÿè§‰åšé¢˜è€æ˜¯å‡ºé—®é¢˜ï¼Œä¸€å¼€å§‹é¢˜éƒ½æ²¡çœ‹æ¸…å°±å¼€å§‹åš</p>
<p>å…¶å®ä¸€å¼€å§‹æ˜¯æƒ³BFSå±‚æ¬¡éå†ç„¶ååˆ¤æ–­æ¯ä¸€å±‚æ˜¯ä¸æ˜¯é•œåƒå¯¹ç§°çš„ï¼Œç„¶åå‘ç°æœ‰äº›caseæ˜¯è¿‡ä¸äº†çš„ï¼Œæ¯”å¦‚</p>
<p><code>[1,3,3,2,null,2]</code> è¿™æ ·çš„case</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">3</span>   <span class="number">3</span></span><br><span class="line"> /   /</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><del>å±‚åºéå†åˆ¤æ–­ä¸å‡ºäº†è¿™æ ·çš„case</del>   ä¸‹é¢è§£æ³•å››æ‰“è„¸</p>
<p>ç„¶åæ¢ä¸€ç§éå†æ–¹å¼ï¼Œå…¶å®ä¸€å¼€å§‹å°±æƒ³åˆ°äº†å‰åºéå†ï¼Œå¦‚æœæ˜¯é•œåƒå¯¹ç§°çš„è¯ï¼Œå‰åºéå†åˆšå¥½å°±æ˜¯å¯¹ç§°çš„ï¼Œä½†æ˜¯ï¼ï¼ï¼è¿˜æ˜¯æœ‰caseè¿‡ä¸äº†ï¼ï¼ï¼æˆ‘ä»¬å†çœ‹ä¸Šé¢çš„caseï¼Œæˆ‘ä»¬æ”¹ä¸€æ”¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">2</span></span><br><span class="line"> /   /</span><br><span class="line"><span class="number">2</span>   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬<code>192/195ä¸ªcase</code>ï¼Œæˆ‘æƒŠäº†ï¼Œå±…ç„¶è¿˜æœ‰è¿™ç§æ“ä½œï¼ï¼ï¼å®åœ¨æ²¡åŠæ³•ç¿»äº†ä¸‹è§£ç­”ï¼Œå‘ç°æœ‰ä½è€å…„ä¹Ÿæ˜¯è¿™æ ·åšçš„ï¼Œç„¶åä»–å¾ˆå·§å¦™çš„åœ¨æ¯ä¸ªèŠ‚ç‚¹å€¼åé¢åŠ äº†ä¸€ä¸ª<strong>å±‚æ•°</strong>ï¼Œä»–å¥½åƒæ˜¯ç›´æ¥å½“ä½œå­—ç¬¦ä¸²æ·»åŠ çš„ï¼Œæˆ‘æ„Ÿè§‰ä¸å¤ªå¥½ï¼Œæ”¹ç”¨äº†æ•°ç»„ï¼Œæœ€ååˆ¤æ–­çš„æ—¶å€™éœ€è¦ä¿è¯å±‚æ•°å’Œå€¼éƒ½ç›¸åŒæ‰è¡Œï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//[1,2,2,2,null,2] å¿˜äº†è¿˜æœ‰è¿™æ ·çš„caseäº†,å“­äº†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer[]&gt; lis=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    preTravle(root,lis,<span class="number">0</span>); </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>,j=lis.size()-<span class="number">1</span>;i&lt;=j;i++,j--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (lis.get(i)[<span class="number">0</span>]!= lis.get(j)[<span class="number">0</span>] ||  lis.get(j)[<span class="number">1</span>]!= lis.get(i)[<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preTravle</span><span class="params">(TreeNode node,List&lt;Integer[]&gt; lis,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        preTravle(node.left,lis,k+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//è¿™é‡Œå…¶å®ç”¨ä¸ªå­—ç¬¦ä¸²å°±å¯ä»¥ï¼Œä½†æ˜¯æ„Ÿè§‰æ‹¼æ¥çš„æ•ˆç‡ä¸é«˜ï¼Œè€Œä¸”ï¼Œæ˜¯ä¸æ˜¯æœ‰å¯èƒ½å‡ºç°é—®é¢˜ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// 11+3 ==1+13 ï¼Ÿï¼Ÿï¼Ÿæ˜¯ä¸æ˜¯æœ‰å¯èƒ½å‡ºç°ç±»ä¼¼è¿™æ ·çš„æƒ…å†µ</span></span><br><span class="line">        Integer[] temp=<span class="keyword">new</span> Integer[<span class="number">2</span>];</span><br><span class="line">        temp[<span class="number">0</span>]=node.val;</span><br><span class="line">        temp[<span class="number">1</span>]=k;</span><br><span class="line">        lis.add(temp);</span><br><span class="line">        preTravle(node.right,lis,k+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’çš„è§£æ³•ï¼Œåº”è¯¥ç®—æ˜¯å®˜è§£äº†ï¼Œä¸€å¼€å§‹ä¹Ÿæ˜¯æƒ³ç”¨é€’å½’å†™çš„ï¼Œæ²¡æŠ“ä½é—®é¢˜çš„æœ¬è´¨ï¼Œå¤ªèœäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è½¬æ¢ä¸ºæ±‚å·¦å³å­æ ‘æ˜¯å¦é•œåƒå¯¹ç§°çš„é—®é¢˜</span></span><br><span class="line">    <span class="keyword">return</span> isSymmetric(root.left,root.right);</span><br><span class="line">    <span class="comment">//return isSymmetric(root,root);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//dfs</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode t1,TreeNode t2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t1==<span class="keyword">null</span> &amp;&amp; t2==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æœ‰ä¸€ä¸ªä¸ºnull</span></span><br><span class="line">    <span class="keyword">if</span> (t1== <span class="keyword">null</span> || t2==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éƒ½ä¸ä¸ºnull</span></span><br><span class="line">    <span class="keyword">return</span> t1.val==t2.val &amp;&amp; isSymmetric(t1.left,t2.right) &amp;&amp; isSymmetric(t1.right,t2.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€æ£µæ ‘æ˜¯é•œåƒå¯¹ç§°ï¼Œè¯´æ˜å·¦å³å­æ ‘å·¦å³å¯¹ç§°ï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜å°±å¯ä»¥è½¬æ¢ä¸ºï¼Œåˆ¤æ–­å·¦å³ä¸¤é¢—å­æ ‘æ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„é—®é¢˜</p>
<p><img src="http://static.imlgw.top/blog/20191107/Ae6daB6SuXdl.png?imageslim" alt="mark"></p>
<p>åˆ¤æ–­ä¸¤é¢—æ ‘æ˜¯å¦æˆé•œåƒå¯¹ç§°çš„è¯ï¼Œå…¶å®å°±å’Œç…§é•œå­ä¸€æ ·çš„ï¼Œå¦‚ä¸Šå›¾ï¼Œåˆ¤æ–­å·¦å­æ ‘å’Œå³å­æ ‘æ˜¯å¦æˆé•œåƒå¯¹ç§°ï¼Œå°±éœ€è¦åˆ¤æ–­<strong>t1çš„å·¦å­æ ‘å’Œt2çš„å³å­æ ‘æ˜¯å¦é•œåƒå¯¹ç§°,t1çš„å³å­æ ‘å’Œt2çš„å·¦å­æ ‘æ˜¯å¦é•œåƒå¯¹ç§°</strong>ï¼Œæ ¹æ®è¿™ä¸ªå°±å¯ä»¥å†™å‡ºé€’å½’å‡½æ•°ï¼Œè¿˜æ˜¯æŒºå¦™çš„</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ç±»ä¼¼äºå±‚æ¬¡éå†ï¼Œå…¶å®å°±æ˜¯æ ¹æ®ä¸Šé¢çš„é€’å½’æ–¹æ³•æ”¹æ¥çš„ï¼Œæ ¸å¿ƒæ€æƒ³å’Œä¸Šé¢é€’å½’çš„æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éé€’å½’è§£æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(root.left);</span><br><span class="line">    stack.push(root.right);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode t1=stack.pop();</span><br><span class="line">        TreeNode t2=stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (t1==<span class="keyword">null</span> &amp;&amp; t2==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (t1==<span class="keyword">null</span>||t2==<span class="keyword">null</span> || t1.val!=t2.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*if (t1.val!=t2.val) &#123;</span></span><br><span class="line"><span class="comment">                return false;</span></span><br><span class="line"><span class="comment">         &#125;*/</span></span><br><span class="line">        stack.push(t1.left);</span><br><span class="line">        stack.push(t2.right);</span><br><span class="line">        stack.push(t1.right);</span><br><span class="line">        stack.push(t2.left);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•å››</strong></p>
<p>å‰åºéå†ï¼Œå…¶å®æˆ‘ä¸€å¼€å§‹ä¹Ÿæƒ³åˆ°äº†ç”¨å ä½çš„æ–¹å¼ï¼Œä½†æ˜¯å› ä¸ºä¹‹å‰éå†æ–¹å¼ä¸åŒï¼Œå¯¼è‡´æ²¡æƒ³å¥½åœ¨å“ªé‡ŒåŠ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        ArrayList&lt;Integer&gt; lis=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="comment">//lis.add(node.val);</span></span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">                lis.add(node.left.val);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//-1å ä½</span></span><br><span class="line">                lis.add(-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">                lis.add(node.right.val);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ä¸ºç©ºåŠ -1å ä½</span></span><br><span class="line">                lis.add(-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¯¹æ¯ä¸€å±‚ç»å¸¸åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>,j=lis.size()-<span class="number">1</span>;i&lt;=j;i++,j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (lis.get(i)!=lis.get(j)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„åšæ³•æ˜æ˜¾æ—¶é—´å¤æ‚åº¦ä¼šä¹‹å‰è¦é«˜ï¼Œä¸ä»…éå†äº†æ•´é¢—æ ‘ä¸€éï¼Œè¿˜å¯¹æ¯ä¸€å±‚éå†äº†ä¸€éï¼Œä¸€å…±éå†äº†ä¸¤é</p>
<h2 id="513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"><a href="#513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼" class="headerlink" title="513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"></a><a href="https://leetcode-cn.com/problems/find-bottom-left-tree-value/" target="_blank" rel="noopener">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåœ¨æ ‘çš„æœ€åä¸€è¡Œæ‰¾åˆ°æœ€å·¦è¾¹çš„å€¼ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">    <span class="number">2</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">1</span>   <span class="number">3</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">        <span class="number">1</span></span><br><span class="line">       / \</span><br><span class="line">      <span class="number">2</span>   <span class="number">3</span></span><br><span class="line">     /   / \</span><br><span class="line">    <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span></span><br><span class="line">       /</span><br><span class="line">      <span class="number">7</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„:</strong> æ‚¨å¯ä»¥å‡è®¾æ ‘ï¼ˆå³ç»™å®šçš„æ ¹èŠ‚ç‚¹ï¼‰ä¸ä¸º NULLã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™ç§é¢˜å†™ä¸€ç™¾éäº†ğŸ˜‚ï¼Œç„¶è€Œæˆ‘è¿˜æ˜¯æ²¡æœ‰bugfree</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…¶å®è¿™ç§å±‚åºéå†çš„æ–¹å¼å¯¹è¿™é¢˜æœ‰ä¸€ç‚¹å°é¢˜å¤§ä½œï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æ¯”è¾ƒä¹ æƒ¯è¿™ç§æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findBottomLeftValue</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">int</span> res=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> count=queue.size();</span><br><span class="line">        <span class="keyword">int</span> temp=count;</span><br><span class="line">        <span class="keyword">while</span>(count&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode node=queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (count==temp) &#123;</span><br><span class="line">                res=node.val;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æœ€å·¦è¾¹çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œdfsæ·±åº¦ä¼˜å…ˆï¼Œæ·±åº¦æ¯å¢åŠ ä¸€æ¬¡å°±æ›´æ–°ä¸€æ¬¡res</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFS</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findBottomLeftValue2</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res=-<span class="number">1</span>,max=Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode node,<span class="keyword">int</span> depth)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (depth&gt;max) &#123;</span><br><span class="line">        max=depth;</span><br><span class="line">        res=node.val;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(node.left,depth+<span class="number">1</span>);</span><br><span class="line">    dfs(node.right,depth+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/" target="_blank" rel="noopener">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></h2><p>æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚</p>
<p><strong>æ³¨æ„:</strong><br>ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å‡º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å‰åºéå† preorder = [<span class="number">3</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">ä¸­åºéå† inorder = [<span class="number">9</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">20</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure>


<p>è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder, <span class="keyword">int</span>[] inorder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (preorder==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> buildTree(preorder,<span class="number">0</span>,preorder.length-<span class="number">1</span>,inorder,<span class="number">0</span>,inorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] preorder,<span class="keyword">int</span> preleft,<span class="keyword">int</span> preright,<span class="keyword">int</span>[] inorder,<span class="keyword">int</span> inleft,<span class="keyword">int</span> inright)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//é€’å½’å‡ºå£åªéœ€è¦æƒ³ä¸€ä¸‹è¾¹ç•Œ,æ¯”å¦‚åªè¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™,å¾ˆæ˜æ˜¾åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™è¿™å‡ ä¸ªå€¼éƒ½æ˜¯ 0</span></span><br><span class="line">    <span class="comment">//ä½†æ˜¯æ­¤æ—¶è‚¯å®šä¸èƒ½è¿”å›null,æ‰€ä»¥è¿™é‡Œé€’å½’å‡ºå£ä¸æ˜¯å¤§äºç­‰äº,è€Œæ˜¯å¤§äº</span></span><br><span class="line">    <span class="keyword">if</span> (preleft&gt;preright || inleft&gt;inright) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(preorder[preleft]);</span><br><span class="line">    <span class="keyword">int</span> index=inleft;</span><br><span class="line">    <span class="keyword">while</span>(inorder[index] != preorder[preleft]) &#123;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;</span><br><span class="line">    root.left=buildTree(preorder,preleft+<span class="number">1</span>,preleft+index-inleft,inorder,inleft,index-<span class="number">1</span>);</span><br><span class="line">    root.right=buildTree(preorder,preleft+index-inleft+<span class="number">1</span>,preright,inorder,index+<span class="number">1</span>,inright);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æ ¸å¿ƒæ€æƒ³å°±æ˜¯åˆ©ç”¨è¿™å‡ ç§éå†çš„æ€§è´¨ï¼Œæ–‡å­—æ€»æ˜¯è‹ç™½çš„ï¼Œçœ‹ä¸ªå›¾å§</p>
<p><img src="http://static.imlgw.top/blog/20191106/pcmvnEK8Hwg8.png?imageslim" alt="mark"></p>
<p>è¿™æ ·ä¸€çœ‹å°±æ¸…æ™°äº†ï¼Œå‰åºéå†å·¦è¾¹ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ <code>1</code> ä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆç¡®å®šäº†æ ¹èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å»ä¸­åºéå†ä¸­å»æ‰¾è¿™ä¸ªæ ¹èŠ‚ç‚¹ï¼ˆä¸€å®šæœ‰ï¼‰ï¼Œå¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸­é—´çš„ <code>1</code>ç„¶åå†æ ¹æ®ä¸­åºéå†çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å°±çŸ¥é“ï¼Œä¸­åºéå†ä¸­ï¼Œè¿™ä¸ª<code>1</code> çš„å·¦è¾¹æ˜¯ <code>1</code> çš„å·¦å­æ ‘ï¼Œå³è¾¹æ˜¯<code>1</code> çš„å³å­æ ‘ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬å°±ç¡®å®šäº†æ ¹èŠ‚ç‚¹åŠå…¶å·¦å³å­æ ‘ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™é€’å½’å»å®Œæˆäº†ğŸ˜ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹å·¦å³å­æ ‘åˆ†åˆ«é€’å½’è¯¥è¿‡ç¨‹å°±å¯ä»¥å¾—åˆ°ä¸€é¢—å®Œæ•´çš„æ ‘äº†</p>
<p>å½“ç„¶è¿™é‡Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ä¸‹æ ‡çš„å˜æ¢ï¼Œè¦ååˆ†æ³¨æ„ï¼Œè‡ªå·±å¸¦å…¥å‡ ä¸ªå€¼è¯•è¯•</p>
<p><strong>UPDATE(2020.5.22)</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">buildTree</span><span class="params">(preorder []<span class="keyword">int</span>, inorder []<span class="keyword">int</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    n:=<span class="built_in">len</span>(inorder)</span><br><span class="line">    <span class="comment">//m:=make(map[int]int,n) é ï¼è¿™ä¸ªbugçœ‹äº†åŠå¤©</span></span><br><span class="line">    m=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>,n)</span><br><span class="line">    <span class="keyword">for</span> i,val:=<span class="keyword">range</span> inorder&#123;</span><br><span class="line">        m[val]=i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> build(preorder,<span class="number">0</span>,n<span class="number">-1</span>,inorder,<span class="number">0</span>,n<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">(pre []<span class="keyword">int</span>,pl <span class="keyword">int</span>,pr <span class="keyword">int</span>,in []<span class="keyword">int</span>,il <span class="keyword">int</span>,ir <span class="keyword">int</span>)</span> *<span class="title">TreeNode</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> pl&gt;pr || il&gt;ir&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    root:=&amp;TreeNode&#123;Val:pre[pl]&#125;</span><br><span class="line">    idx:=m[pre[pl]]</span><br><span class="line">    root.Left=build(pre,pl+<span class="number">1</span>,pl+idx-il,in,il,idx<span class="number">-1</span>)</span><br><span class="line">    root.Right=build(pre,pl+idx-il+<span class="number">1</span>,pr,in,idx+<span class="number">1</span>,ir)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/" target="_blank" rel="noopener">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a></h2><p>æ ¹æ®ä¸€æ£µæ ‘çš„ä¸­åºéå†ä¸ååºéå†æ„é€ äºŒå‰æ ‘ã€‚</p>
<p><strong>æ³¨æ„:</strong><br>ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å‡º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¸­åºéå† inorder = [<span class="number">9</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">20</span>,<span class="number">7</span>]</span><br><span class="line">ååºéå† postorder = [<span class="number">9</span>,<span class="number">15</span>,<span class="number">7</span>,<span class="number">20</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>


<p>è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ–¹æ³•åŒä¸Šï¼Œåªä¸è¿‡æ˜¯ä»åå¾€å‰äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (inorder==<span class="keyword">null</span> || inorder.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> buildTree(inorder,<span class="number">0</span>,inorder.length-<span class="number">1</span>,postorder,<span class="number">0</span>,postorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder,<span class="keyword">int</span> inL,<span class="keyword">int</span> inR, <span class="keyword">int</span>[] postorder,<span class="keyword">int</span> pL,<span class="keyword">int</span> pR)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//é€’å½’å‡ºå£åªéœ€è¦æƒ³ä¸€ä¸‹è¾¹ç•Œ,æ¯”å¦‚åªè¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™,å¾ˆæ˜æ˜¾åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™è¿™å‡ ä¸ªå€¼éƒ½æ˜¯0</span></span><br><span class="line">    <span class="comment">//ä½†æ˜¯æ­¤æ—¶è‚¯å®šä¸èƒ½è¿”å›null,æ‰€ä»¥è¿™é‡Œé€’å½’å‡ºå£ä¸æ˜¯å¤§äºç­‰äº,è€Œæ˜¯å¤§äº</span></span><br><span class="line">    <span class="keyword">if</span> (inL&gt;inR || pL&gt;pR) &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(postorder[pR]);</span><br><span class="line">    <span class="keyword">int</span> index=inL;</span><br><span class="line">    <span class="keyword">while</span>(inorder[index]!=postorder[pR])&#123;</span><br><span class="line">        index++; <span class="comment">//ä¸€å®šæœ‰,æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒè¶Šç•Œçš„é—®é¢˜</span></span><br><span class="line">    &#125;</span><br><span class="line">    root.left=buildTree(inorder,inL,index-<span class="number">1</span>,postorder,pL,pL+index-inL-<span class="number">1</span>);</span><br><span class="line">    root.right=buildTree(inorder,index+<span class="number">1</span>,inR,postorder,pL+index-inL,pR-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œä¸Šé¢ä¸€æ ·æ²¡å•¥å¥½è¯´çš„</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸Šé¢ä¸¤ç§è§£æ³•æäº¤åæ•ˆç‡éƒ½ä¸é«˜ï¼Œè¿™é‡Œå»ä¸­åºéå†ä¸­æ‰¾æ ¹èŠ‚ç‚¹çš„æ“ä½œå…¶å®å¯ä»¥ç”¨Hashè¡¨ä»£æ›¿</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//hashè¡¨ä¼˜åŒ–</span></span><br><span class="line">HashMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder, <span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (inorder==<span class="keyword">null</span> || inorder.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;inorder.length;i++) &#123;</span><br><span class="line">        map.put(inorder[i],i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> buildTree(inorder,<span class="number">0</span>,inorder.length-<span class="number">1</span>,postorder,<span class="number">0</span>,postorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">buildTree</span><span class="params">(<span class="keyword">int</span>[] inorder,<span class="keyword">int</span> inL,<span class="keyword">int</span> inR, <span class="keyword">int</span>[] postorder,<span class="keyword">int</span> pL,<span class="keyword">int</span> pR)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//é€’å½’å‡ºå£åªéœ€è¦æƒ³ä¸€ä¸‹è¾¹ç•Œ,æ¯”å¦‚åªè¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™,å¾ˆæ˜æ˜¾åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™è¿™å‡ ä¸ªå€¼éƒ½æ˜¯ç›¸ç­‰çš„</span></span><br><span class="line">    <span class="comment">//ä½†æ˜¯æ­¤æ—¶è‚¯å®šä¸èƒ½è¿”å›null,æ‰€ä»¥è¿™é‡Œé€’å½’å‡ºå£ä¸æ˜¯å¤§äºç­‰äº,è€Œæ˜¯å¤§äº</span></span><br><span class="line">    <span class="keyword">if</span> (inL&gt;inR || pL&gt;pR) &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(postorder[pR]);</span><br><span class="line">    <span class="keyword">int</span> index=map.get(postorder[pR]);</span><br><span class="line">    root.left=buildTree(inorder,inL,index-<span class="number">1</span>,postorder,pL,pL+index-inL-<span class="number">1</span>);</span><br><span class="line">    root.right=buildTree(inorder,index+<span class="number">1</span>,inR,postorder,pL+index-inL,pR-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="889-æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘"><a href="#889-æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘" class="headerlink" title="889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-postorder-traversal/" target="_blank" rel="noopener">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</a></h2><p>è¿”å›ä¸ç»™å®šçš„å‰åºå’Œååºéå†åŒ¹é…çš„ä»»ä½•äºŒå‰æ ‘ã€‚</p>
<p> pre å’Œ post éå†ä¸­çš„å€¼æ˜¯ä¸åŒçš„æ­£æ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼špre = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>], post = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= pre.length == post.length &lt;= 30</code></li>
<li><code>pre[]</code> å’Œ <code>post[]</code> éƒ½æ˜¯ 1, 2, â€¦, pre.length çš„æ’åˆ—</li>
<li>æ¯ä¸ªè¾“å…¥ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªç­”æ¡ˆã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œå¯ä»¥è¿”å›å…¶ä¸­ä¸€ä¸ªã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢çš„æœ‰ä¸€ç‚¹ç‚¹åŒºåˆ«</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HashMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">constructFromPrePost</span><span class="params">(<span class="keyword">int</span>[] pre, <span class="keyword">int</span>[] post)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;post.length;i++) &#123;</span><br><span class="line">        map.put(post[i],i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> constructFromPrePost(pre,<span class="number">0</span>,pre.length-<span class="number">1</span>,post,<span class="number">0</span>,post.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">constructFromPrePost</span><span class="params">(<span class="keyword">int</span>[] pre,<span class="keyword">int</span> preL,<span class="keyword">int</span> preR,<span class="keyword">int</span>[] post,<span class="keyword">int</span> postL,<span class="keyword">int</span> postR)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (preL&gt;preR || postL&gt;preR) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(pre[preL]);</span><br><span class="line">    <span class="keyword">if</span> (preL==preR) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> postIndex=map.get(pre[preL+<span class="number">1</span>]); <span class="comment">//è¿™ç§ä½ç½®ä¸€å®šè¦æ³¨æ„æº¢å‡º</span></span><br><span class="line">    <span class="keyword">int</span> len=postIndex-postL;</span><br><span class="line">    root.left=constructFromPrePost(pre,preL+<span class="number">1</span>,preL+<span class="number">1</span>+len,post,postL,postIndex);</span><br><span class="line">    root.right=constructFromPrePost(pre,preL+<span class="number">2</span>+len,preR,post,postIndex+<span class="number">1</span>,postR-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://static.imlgw.top/blog/20191106/pcmvnEK8Hwg8.png?imageslim" alt="mark"></p>
<p>è¿˜æ˜¯è¿™å¼ å›¾ï¼Œå‰åºçš„ç¬¬ä¸€ä¸ªæ˜¯æ ¹èŠ‚ç‚¹ï¼Œååºçš„æœ€åä¸€ä¸ªæ˜¯æ ¹èŠ‚ç‚¹ï¼Œè€Œæˆ‘ä»¬è¦æ‰¾çš„æ˜¯å·¦å³å­æ ‘çš„åˆ†ç•Œçº¿ï¼Œè¿™é‡Œæ²¡æœ‰ä¸­åºéå†ï¼Œä¹ä¸€çœ‹ä¼¼ä¹ä¸å¥½ç¡®å®šï¼Œå…¶å®ä¸ç„¶ï¼Œæ³¨æ„è§‚å¯Ÿå‰åºçš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ¯”å¦‚ä¸Šé¢çš„2ï¼Œå¯¹åº”åˆ°ååºéå†ä¸­å…¶å®æ­£å¥½å°±å¯ä»¥ä½œä¸ºå·¦å­æ ‘çš„åˆ†ç•Œçº¿ï¼Œè¿™æ ·ä¸€æ¥å°±å’Œä¸Šé¢ä¸€æ ·äº†ï¼Œæ‰€ä»¥è¿™é‡Œçš„å…³é”®å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆ’åˆ†ç‚¹</p>
<p>ğŸ”” <strong>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œé¢˜ç›®è¯´äº†è¿™é¢˜çš„ç»“æœå¯èƒ½æ˜¯ä¸å”¯ä¸€çš„ï¼Œæ•°æ®ç»“æ„çš„è¯¾ç¨‹é‡Œé¢ä¹Ÿè®²è¿‡ï¼Œä»…å‡­å‰åºå’Œååºæ˜¯æ— æ³•ç¡®å®šä¸€é¢—äºŒå‰æ ‘çš„ï¼Œä½†æ˜¯ä¸€å®šä¹ˆï¼Ÿ</strong></p>
<p>å¹¶ä¸ä¸€å®šï¼Œæˆ‘ä»¬é¢˜ç›®çš„caseå°±æ˜¯ä¸ªåä¾‹ï¼Œå®ƒå°±å¯ä»¥é€šè¿‡å‰åºå’Œååºå”¯ä¸€çš„ç¡®å®šè¿™é¢—äºŒå‰æ ‘ï¼Œé‚£ä»€ä¹ˆæ—¶å€™å¯ä»¥ç¡®å®šï¼Œä»€ä¹ˆæ—¶å€™æ— æ³•ç¡®å®šå‘¢ï¼Ÿ</p>
<p>æ— æ³•ç¡®å®šçš„ä¾‹å­å¥½è¯´ï¼Œã€1ï¼Œ2ã€‘ï¼Œã€2ï¼Œ1ã€‘è¿™ä¸ªå°±æ— æ³•ç¡®å®š</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>              <span class="number">1</span>   </span><br><span class="line"> \            /</span><br><span class="line">  <span class="number">2</span>          <span class="number">2</span>        ä¸¤ç§å¯èƒ½éƒ½æœ‰</span><br></pre></td></tr></table></figure>

<p> ä½†æ˜¯å¦‚æœæ˜¯è¿™æ ·çš„ã€1ï¼Œ2ï¼Œ3ã€‘ã€2ï¼Œ3ï¼Œ1ã€‘è¿™ç§å°±å¯ä»¥å”¯ä¸€çš„ç¡®å®š</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">1</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">2</span>   <span class="number">3</span>  åªå¯èƒ½æ˜¯è¿™ç§æƒ…å†µ</span><br></pre></td></tr></table></figure>
<p>å½’çº³æ€»ç»“ä¸€ä¸‹ï¼Œå¯ä»¥å‘ç°ï¼Œ<strong>å¦‚æœè¿™é¢—äºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„åº¦éƒ½æ˜¯0æˆ–è€…2</strong> é‚£ä¹ˆä»–å°±å¯ä»¥é€šè¿‡å‰åºå’Œååºç¡®å®šï¼Œåä¹‹å°±ä¸ä¸€å®šäº†ï¼Œå› ä¸ºä½ åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹é‚£ä¹ˆå°±æ— æ³•ç¡®å®šè¿™ä¸ªèŠ‚ç‚¹æ˜¯å·¦èŠ‚ç‚¹è¿˜æ˜¯å³èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰æˆ–è€…ä¸¤ä¸ªéƒ½æœ‰é‚£ä¹ˆå°±å¯ä»¥ç¡®å®šäº†ï¼ˆæ ¹æ®é¡ºåºç¡®å®šï¼Œå‰é¢çš„æ˜¯å·¦åé¢çš„æ˜¯å³ï¼Œä½†æ˜¯ä½ åªæœ‰ä¸€ä¸ªæˆ‘å°±ä¸çŸ¥é“æ˜¯å·¦è¿˜æ˜¯å³äº†ï¼‰</p>
<h2 id="114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><a href="#114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨" class="headerlink" title="114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"></a><a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/" target="_blank" rel="noopener">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºé“¾è¡¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">5</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">3</span>   <span class="number">4</span>   <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p>å°†å…¶å±•å¼€ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"> \</span><br><span class="line">  <span class="number">2</span></span><br><span class="line">   \</span><br><span class="line">    <span class="number">3</span></span><br><span class="line">     \</span><br><span class="line">      <span class="number">4</span></span><br><span class="line">       \</span><br><span class="line">        <span class="number">5</span></span><br><span class="line">         \</span><br><span class="line">          <span class="number">6</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>é¢˜ç›®æ²¡æŠ„é”™ï¼Œå°±æ˜¯è¿™æ ·çš„ï¼Œç¡®å®é¢˜ç›®æ²¡æœ‰è¯´æ˜æŒ‰ç…§ä»€ä¹ˆæ–¹å¼å±•å¼€ï¼Œä½†æ˜¯çœ‹caseèƒ½çŒœåˆ°æ˜¯å‰åºéå†çš„æ–¹å¼å±•å¼€ï¼ˆé çŒœçš„ï¼Ÿï¼‰</p>
</blockquote>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å‰åºéå†ï¼Œé€’å½’çš„è§£æ³•ï¼Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡ä¿å­˜é“¾è¡¨çš„ç»“å°¾ï¼Œæ¯æ¬¡å°†èŠ‚ç‚¹æ·»åŠ åˆ°lastçš„åé¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TreeNode last=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (last!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        last.left=<span class="keyword">null</span>;</span><br><span class="line">        last.right=root;</span><br><span class="line">    &#125;</span><br><span class="line">    last=root;</span><br><span class="line">    TreeNode right=root.right;<span class="comment">//ä¿å­˜å³å­æ ‘</span></span><br><span class="line">    flatten(root.left);</span><br><span class="line">    flatten(right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯éœ€è¦ä¿å­˜å³å­æ ‘ï¼Œå› ä¸ºå‰é¢çš„æ“ä½œå°†å·¦å­æ ‘æ·»åŠ åˆ°æ ¹èŠ‚ç‚¹å³å­æ ‘çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´åŸæœ¬çš„å³å­æ ‘ä¸¢å¤±</p>
<p><strong>éé€’å½’çš„å†™æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    TreeNode last=<span class="keyword">null</span>;</span><br><span class="line">    Deque&lt;TreeNode&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        TreeNode cur=stack.pop();</span><br><span class="line">        <span class="keyword">if</span>(last!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            last.right=cur;</span><br><span class="line">            last.left=<span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        last=cur;</span><br><span class="line">        <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å˜å½¢çš„ååºéå†ï¼Œé€’å½’è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">TreeNode pre=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    flatten(root.right);</span><br><span class="line">    flatten(root.left);</span><br><span class="line">    root.right=pre;</span><br><span class="line">    root.left=<span class="keyword">null</span>;</span><br><span class="line">    pre=root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”å‰é¢çš„è§£æ³•ï¼Œä¸ºäº†ä¸ä¸¢å¤±å³å­æ ‘ï¼Œå…ˆéå†å³å­æ ‘ï¼Œå†éå†å·¦å­æ ‘ï¼Œæ•´ä¸ªåºåˆ—å°±æ˜¯<code>6 5 4 3 2 1</code>  æˆ‘ä»¬åªéœ€è¦å°†æ¯ä¸ªèŠ‚ç‚¹çš„rightæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹å°±okäº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿­ä»£ï¼Œæˆ‘è§‰å¾—è¿™ç§è§£æ³•æŒºç§€ï¼Œè€Œä¸”æ˜¯å®Œå…¨çš„ <code>in-place</code>ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¼šé«˜ä¸€äº›ï¼Œæ¯ä¸ªå…ƒç´ ä¸åªéå†ä¸€æ¬¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    TreeNode mRight=<span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span>(root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            mRight=root.left;</span><br><span class="line">            <span class="comment">//æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">while</span>(mRight.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                mRight=mRight.right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å°†æ ¹çš„å³èŠ‚ç‚¹æ¥åœ¨ mRight.right</span></span><br><span class="line">            mRight.right=root.right;</span><br><span class="line">            <span class="comment">//å°†root.leftæ¥åœ¨root.right</span></span><br><span class="line">            root.right=root.left;</span><br><span class="line">            <span class="comment">//å·¦èŠ‚ç‚¹ç½®ä¸ºnull</span></span><br><span class="line">            root.left=<span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//é‡å¤è¯¥è¿‡ç¨‹</span></span><br><span class="line">        root=root.right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”»ä¸ªå›¾å°±æ˜¯è¿™æ ·</p>
<p><img src="http://static.imlgw.top/blog/20191108/BIx12P1AYjeX.png?imageslim" alt="mark"></p>
<h2 id="é¢è¯•é¢˜36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"><a href="#é¢è¯•é¢˜36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨" class="headerlink" title="é¢è¯•é¢˜36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"></a><a href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</a></h2><p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„å¾ªç¯åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„èŠ‚ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­èŠ‚ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨æ›´å¥½åœ°ç†è§£é—®é¢˜ï¼Œä»¥ä¸‹é¢çš„äºŒå‰æœç´¢æ ‘ä¸ºä¾‹ï¼š</p>
<p><img src="https://s2.ax1x.com/2020/02/19/3VE7QO.png" alt="3VE7QO.png"></p>
<p>æˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨ã€‚é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰é©±å’Œåç»§æŒ‡é’ˆã€‚å¯¹äºåŒå‘å¾ªç¯é“¾è¡¨ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åç»§æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸Šé¢çš„äºŒå‰æœç´¢æ ‘è½¬åŒ–æˆçš„é“¾è¡¨ã€‚â€œheadâ€ è¡¨ç¤ºæŒ‡å‘é“¾è¡¨ä¸­æœ‰æœ€å°å…ƒç´ çš„èŠ‚ç‚¹ã€‚<br><img src="https://s1.ax1x.com/2020/06/18/Nn3iZR.png" alt="Nn3iZR.png"><br>ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°±åœ°å®Œæˆè½¬æ¢æ“ä½œã€‚å½“è½¬åŒ–å®Œæˆä»¥åï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆéœ€è¦æŒ‡å‘å‰é©±ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å³æŒ‡é’ˆéœ€è¦æŒ‡å‘åç»§ã€‚è¿˜éœ€è¦è¿”å›é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¼€å§‹è¿˜ä»¥ä¸ºæŒºéš¾æï¼Œä¸€éå°±å†™å‡ºæ¥äº†ğŸ˜æ¯”ä¸Šä¸€é¢˜ç®€å•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">treeToDoublyList</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">    dfs(root);</span><br><span class="line">    head.left=lastNode;</span><br><span class="line">    lastNode.right=head;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Node lastNode,head=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Node root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    dfs(root.left);</span><br><span class="line">    <span class="keyword">if</span>(lastNode==<span class="keyword">null</span>)&#123;</span><br><span class="line">        head=lastNode=root;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        root.left=lastNode;</span><br><span class="line">        lastNode.right=root;</span><br><span class="line">        lastNode=root;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="116-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ"><a href="#116-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ" class="headerlink" title="116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ"></a><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/" target="_blank" rel="noopener">116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</a></h2><p>ç»™å®šä¸€ä¸ª<strong>å®Œç¾äºŒå‰æ ‘</strong>ï¼Œå…¶æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚äºŒå‰æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">struct Node &#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  Node *left;</span><br><span class="line">  Node *right;</span><br><span class="line">  Node *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º NULL</p>
<p>åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º NULL</p>
<p><img src="https://i.loli.net/2019/11/10/eC4VBqXmwuspZlG.png" alt="leet"></p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¼€å§‹æ²¡åšå‡ºæ¥ï¼Œèœï¼ï¼ï¼ç„¶åç‰¹æ„ç•™åˆ°ä»Šå¤©æ€»ç»“ï¼Œåˆåœ¨webä¸Šæäº¤äº†ä¸€é</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">connect</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span> ||root.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    root.left.next=root.right;</span><br><span class="line">    <span class="keyword">if</span> (root.next!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        root.right.next=root.next.left;   </span><br><span class="line">    &#125;</span><br><span class="line">    connect(root.left);</span><br><span class="line">    connect(root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ä¸ªè§£æ³•æ¢³ç†è¿˜æ˜¯å¾ˆæ¸…å¥‡çš„ï¼Œç±»ä¼¼æ‹‰æ‹‰é“¾çš„è¿‡ç¨‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">connect</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span> ||root.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    Node left=root.left;</span><br><span class="line">    Node right=root.right;</span><br><span class="line">    <span class="comment">//æœ‰çš„åƒæ‹‰æ‹‰é“¾çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">while</span>(left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        left.next=right;</span><br><span class="line">        left=left.right;</span><br><span class="line">        right=right.left;</span><br><span class="line">    &#125;</span><br><span class="line">    connect(root.left);</span><br><span class="line">    connect(root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿˜æœ‰ä¸€ä¸ªå¾ˆç›´ç™½çš„å±‚åºéå†çš„æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸å†™äº†</p>
</blockquote>
<h2 id="117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II"><a href="#117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II" class="headerlink" title="117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II"></a><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node-ii/" target="_blank" rel="noopener">117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">struct Node &#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  Node *left;</span><br><span class="line">  Node *right;</span><br><span class="line">  Node *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º <code>NULL</code>ã€‚</p>
<p>åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º <code>NULL</code>ã€‚</p>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>ä½ åªèƒ½ä½¿ç”¨å¸¸é‡çº§é¢å¤–ç©ºé—´ã€‚</li>
<li>ä½¿ç”¨é€’å½’è§£é¢˜ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œæœ¬é¢˜ä¸­é€’å½’ç¨‹åºå ç”¨çš„æ ˆç©ºé—´ä¸ç®—åšé¢å¤–çš„ç©ºé—´å¤æ‚åº¦ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/20/Y7BwBd.png" alt="Y7BwBd.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="keyword">null</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š[1,#,2,3,#,4,5,7,#]</span><br><span class="line">è§£é‡Šï¼šç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°å°äº <code>6000</code></li>
<li><code>-100 &lt;= node.val &lt;= 100</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é¢˜ç›®è¦æ±‚çš„O(1)ç©ºé—´ï¼Œå‚è€ƒäº†å¤§ä½¬çš„è§£æ³•ï¼Œæ¨¡æ‹Ÿå±‚åºéå†ï¼Œç€å®æ˜¯å¾ˆå·§å¦™ï¼Œä»£ç ç®€æ´æ¸…æ™°ï¼Œå€¼å¾—ç»†ç»†å“å‘³</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">connect</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    Node dummyNode=<span class="keyword">new</span> Node(-<span class="number">1</span>);</span><br><span class="line">    Node cur=root;</span><br><span class="line">    <span class="comment">//curåœ¨ä¸Šå±‚ï¼ŒdummyNodeå’Œtailåœ¨ä¸‹å±‚ï¼Œtailè´Ÿè´£è¿æ¥ä¸‹å±‚æ‰€æœ‰å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        dummyNode.next=<span class="keyword">null</span>; <span class="comment">//é‡ç½®</span></span><br><span class="line">        Node tail=dummyNode;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                tail.next=cur.left;</span><br><span class="line">                tail=tail.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cur.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                tail.next=cur.right;</span><br><span class="line">                tail=tail.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur=cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=dummyNode.next; <span class="comment">//curè½¬æ¢åˆ°ä¸‹ä¸€å±‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="450-åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹"><a href="#450-åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹"></a><a href="https://leetcode-cn.com/problems/delete-node-in-a-bst/" target="_blank" rel="noopener">450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ root å’Œä¸€ä¸ªå€¼ keyï¼Œåˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„ key å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶ä¿è¯äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ä¸å˜ã€‚è¿”å›äºŒå‰æœç´¢æ ‘ï¼ˆæœ‰å¯èƒ½è¢«æ›´æ–°ï¼‰çš„æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåˆ é™¤èŠ‚ç‚¹å¯åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><p>é¦–å…ˆæ‰¾åˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼›</p>
</li>
<li><p>å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ é™¤å®ƒã€‚</p>
</li>
</ol>
<p><strong>è¯´æ˜ï¼š</strong> è¦æ±‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(h)ï¼Œh ä¸ºæ ‘çš„é«˜åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">root = [<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">7</span>]</span><br><span class="line">key = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">3</span>   <span class="number">6</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">2</span>   <span class="number">4</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">ç»™å®šéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹å€¼æ˜¯ <span class="number">3</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ° <span class="number">3</span> è¿™ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤å®ƒã€‚</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ [<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">7</span>], å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</span><br><span class="line"></span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">6</span></span><br><span class="line"> /     \</span><br><span class="line"><span class="number">2</span>       <span class="number">7</span></span><br><span class="line"></span><br><span class="line">å¦ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆæ˜¯ [<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">7</span>]ã€‚</span><br><span class="line"></span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">6</span></span><br><span class="line">   \   \</span><br><span class="line">    <span class="number">4</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ›´å¤šè§£é‡Šçœ‹å¦ä¸€ç¯‡ <a href="http://imlgw.top/2019/11/08/er-fen-sou-suo-shu/#%E5%88%A0%E9%99%A4%E4%BB%BB%E6%84%8F%E5%80%BC">äºŒå‰æœç´¢æ ‘</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">deleteNode</span><span class="params">(TreeNode root, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;           </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.val&gt;key) &#123;</span><br><span class="line">        root.left=deleteNode(root.left,key);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (root.val&lt;key) &#123;</span><br><span class="line">        root.right=deleteNode(root.right,key);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç”¨å³å­æ ‘çš„æœ€å°å€¼å¡«è¡¥åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line">        TreeNode delNode=root;</span><br><span class="line">        root=getMin(root.right);</span><br><span class="line">        <span class="comment">//ä¸‹é¢çš„leftå’Œrightä¸èƒ½äº¤æ¢,è¿˜å¥½åˆšå¼€å§‹å†™é”™äº†ä¸€æ³¢,ä¸ç„¶ä¹Ÿä¸ä¼šå‘ç°,å“ˆå“ˆå•Šå“ˆå“ˆå“ˆ</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œçš„deleteMinæ˜¯ä¸ºäº†åˆ é™¤delNodeçš„æœ€å°å€¼root,å¦‚æœä½ å…ˆæŠŠdelNode.leftè¿æ¥åˆ°äº†root.left</span></span><br><span class="line">        <span class="comment">//é‚£ä¹ˆrootå°±ä¸å†æ˜¯æœ€å°å€¼äº†,å†è¿›è¡ŒdeleteMinå°±ä¼šå¯¼è‡´rootæ— æ³•åˆ é™¤,æœ€åè¿”å›root,å¯¼è‡´root.right=rootå½¢æˆç¯</span></span><br><span class="line">        <span class="comment">//ç»“æœæ— æ³•æ‰“å°</span></span><br><span class="line">        root.right=deleteMin(delNode.right);</span><br><span class="line">        root.left=delNode.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">deleteMin</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node.right;</span><br><span class="line">    &#125;</span><br><span class="line">    node.left=deleteMin(node.left);</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">getMin</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node.left==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> getMin(node.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="701-äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ"><a href="#701-äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ" class="headerlink" title="701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ"></a><a href="https://leetcode-cn.com/problems/insert-into-a-binary-search-tree/" target="_blank" rel="noopener">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a></h2><p>ç»™å®šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹å’Œè¦æ’å…¥æ ‘ä¸­çš„å€¼ï¼Œå°†å€¼æ’å…¥äºŒå‰æœç´¢æ ‘ã€‚ è¿”å›æ’å…¥åäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ ä¿è¯åŸå§‹äºŒå‰æœç´¢æ ‘ä¸­ä¸å­˜åœ¨æ–°å€¼ã€‚</p>
<p>æ³¨æ„ï¼Œå¯èƒ½å­˜åœ¨å¤šç§æœ‰æ•ˆçš„æ’å…¥æ–¹å¼ï¼Œåªè¦æ ‘åœ¨æ’å…¥åä»ä¿æŒä¸ºäºŒå‰æœç´¢æ ‘å³å¯ã€‚ ä½ å¯ä»¥è¿”å›ä»»æ„æœ‰æ•ˆçš„ç»“æœã€‚</p>
<p>ä¾‹å¦‚, </p>
<p>ç»™å®šäºŒå‰æœç´¢æ ‘:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">4</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">7</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span></span><br><span class="line"></span><br><span class="line">å’Œ æ’å…¥çš„å€¼: <span class="number">5</span></span><br></pre></td></tr></table></figure>


<p>ä½ å¯ä»¥è¿”å›è¿™ä¸ªäºŒå‰æœç´¢æ ‘:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">     <span class="number">4</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">2</span>     <span class="number">7</span></span><br><span class="line"> / \   /</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…è¿™ä¸ªæ ‘ä¹Ÿæ˜¯æœ‰æ•ˆçš„:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">     <span class="number">5</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">2</span>     <span class="number">7</span></span><br><span class="line"> / \   </span><br><span class="line"><span class="number">1</span>   <span class="number">3</span></span><br><span class="line">     \</span><br><span class="line">      <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">insertIntoBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.val&gt;val) &#123;</span><br><span class="line">        root.left=insertIntoBST(root.left,val);   </span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (root.val&lt;val) &#123;</span><br><span class="line">        root.right=insertIntoBST(root.right,val);   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ²¡å•¥å¥½è¯´çš„ï¼Œçœ‹ä»£ç å°±æ‡‚äº†</p>
<h2 id="662-äºŒå‰æ ‘æœ€å¤§å®½åº¦"><a href="#662-äºŒå‰æ ‘æœ€å¤§å®½åº¦" class="headerlink" title="662. äºŒå‰æ ‘æœ€å¤§å®½åº¦"></a><a href="https://leetcode-cn.com/problems/maximum-width-of-binary-tree/" target="_blank" rel="noopener">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è·å–è¿™ä¸ªæ ‘çš„æœ€å¤§å®½åº¦ã€‚æ ‘çš„å®½åº¦æ˜¯æ‰€æœ‰å±‚ä¸­çš„æœ€å¤§å®½åº¦ã€‚<strong>è¿™ä¸ªäºŒå‰æ ‘ä¸æ»¡äºŒå‰æ ‘ï¼ˆfull binary treeï¼‰ç»“æ„ç›¸åŒï¼Œä½†ä¸€äº›èŠ‚ç‚¹ä¸ºç©ºã€‚</strong></p>
<p>æ¯ä¸€å±‚çš„å®½åº¦è¢«å®šä¹‰ä¸ºä¸¤ä¸ªç«¯ç‚¹ï¼ˆè¯¥å±‚æœ€å·¦å’Œæœ€å³çš„éç©ºèŠ‚ç‚¹ï¼Œä¸¤ç«¯ç‚¹é—´çš„nullèŠ‚ç‚¹ä¹Ÿè®¡å…¥é•¿åº¦ï¼‰ä¹‹é—´çš„é•¿åº¦ã€‚</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">           <span class="number">1</span></span><br><span class="line">         /   \</span><br><span class="line">        <span class="number">3</span>     <span class="number">2</span></span><br><span class="line">       / \     \  </span><br><span class="line">      <span class="number">5</span>   <span class="number">3</span>     <span class="number">9</span> </span><br><span class="line"></span><br><span class="line">Output: <span class="number">4</span></span><br><span class="line">Explanation: The maximum width existing in the third level with the length <span class="number">4</span> (<span class="number">5</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">9</span>).</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">          <span class="number">1</span></span><br><span class="line">         /  </span><br><span class="line">        <span class="number">3</span>    </span><br><span class="line">       / \       </span><br><span class="line">      <span class="number">5</span>   <span class="number">3</span>     </span><br><span class="line"></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line">Explanation: The maximum width existing in the third level with the length <span class="number">2</span> (<span class="number">5</span>,<span class="number">3</span>).</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">          <span class="number">1</span></span><br><span class="line">         / \</span><br><span class="line">        <span class="number">3</span>   <span class="number">2</span> </span><br><span class="line">       /        </span><br><span class="line">      <span class="number">5</span>      </span><br><span class="line"></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line">Explanation: The maximum width existing in the second level with the length <span class="number">2</span> (<span class="number">3</span>,<span class="number">2</span>).</span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">          <span class="number">1</span></span><br><span class="line">         / \</span><br><span class="line">        <span class="number">3</span>   <span class="number">2</span></span><br><span class="line">       /     \  </span><br><span class="line">      <span class="number">5</span>       <span class="number">9</span> </span><br><span class="line">     /         \</span><br><span class="line">    <span class="number">6</span>           <span class="number">7</span></span><br><span class="line">Output: <span class="number">8</span></span><br><span class="line">Explanation:The maximum width existing in the fourth level with the length <span class="number">8</span> (<span class="number">6</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">7</span>).</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong> Answer will in the range of 32-bit signed integer.</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹å±…ç„¶æ²¡æƒ³åˆ°ï¼Œå“ğŸ˜è¿˜æ˜¯èœå•Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">widthOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    LinkedList&lt;Integer&gt; idxs=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">1</span>;</span><br><span class="line">    idxs.add(<span class="number">1</span>);</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> size=queue.size();</span><br><span class="line">        <span class="keyword">while</span>(size&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            TreeNode top=queue.poll();</span><br><span class="line">            <span class="keyword">int</span> index=idxs.removeFirst();</span><br><span class="line">            <span class="keyword">if</span> (top.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(top.left);</span><br><span class="line">                idxs.add(index*<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (top.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(top.right);</span><br><span class="line">                idxs.add(index*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            size--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (idxs.size()!=<span class="number">0</span>) &#123;</span><br><span class="line">            max=Math.max(idxs.getLast()-idxs.getFirst()+<span class="number">1</span>,max);    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿˜æ˜¯å±‚æ¬¡éå†çš„æ€è·¯ï¼Œä¸è¿‡éœ€è¦é¢å¤–æ·»åŠ ä¸€ä¸ªç´¢å¼•åˆ—è¡¨ï¼Œç”¨æ¥<strong>è®°å½•æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”åœ¨å®Œå…¨äºŒå‰æ ‘ä¸­çš„ç´¢å¼•</strong>ï¼Œè¿™ä¸ªç´¢å¼•å€¼å®Œå…¨å¯ä»¥æ ¹æ®ä¸Šä¸€å±‚çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•çš„åˆ°ï¼Œæˆ‘ä»¬åˆå§‹åŒ–å®šä¹‰æ ¹èŠ‚ç‚¹çš„indexä¸º1ï¼Œç„¶åè¿›è¡Œå±‚æ¬¡éå†è®°å½•æ¯ä¸€å±‚çš„æ¯ä¸ªèŠ‚ç‚¹çš„indexå°±okï¼Œå½“éå†å®Œä¸€å±‚ä¹‹åç»Ÿè®¡åˆ—è¡¨æœ€å·¦å’Œæœ€å³ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å·®ï¼Œè¿™ä¸ªå€¼å°±æ˜¯å½“å‰å±‚çš„å®½åº¦ï¼Œæœ€åæ±‚ä¸ªæœ€å¤§å€¼å°±okäº†ï¼Œå¾ˆå¯æƒœï¼Œçœ‹äº†ç­”æ¡ˆæ‰çŸ¥é“</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’ç‰ˆæœ¬</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">widthOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> LinkedList&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> max=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode node,<span class="keyword">int</span> depth,<span class="keyword">int</span> index,List&lt;Integer&gt; leftIdxs)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (depth&gt;=leftIdxs.size()) &#123;</span><br><span class="line">        leftIdxs.add(index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®°å½•å½“å‰èŠ‚ç‚¹å’Œå½“å‰å±‚æœ€å·¦èŠ‚ç‚¹çš„å·®</span></span><br><span class="line">    max=Math.max(index-leftIdxs.get(depth)+<span class="number">1</span>,max);</span><br><span class="line">    dfs(node.left,depth+<span class="number">1</span>,index*<span class="number">2</span>,leftIdxs);</span><br><span class="line">    dfs(node.right,depth+<span class="number">1</span>,index*<span class="number">2</span>+<span class="number">1</span>,leftIdxs);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç‰ˆæœ¬åœ¨ç©ºé—´å¤æ‚åº¦å¯èƒ½ä¼šä½ä¸€ç‚¹ï¼Œlistä¸­åªå­˜æ¯ä¸ªå±‚æœ€å·¦çš„èŠ‚ç‚¹ï¼Œå½“æ·±åº¦å¤§äºç­‰äºlistçš„é•¿åº¦æ—¶å€™è¯´æ˜å½“å‰èŠ‚ç‚¹ä¸€å®šæ˜¯æ–°ä¸€å±‚çš„æœ€å·¦èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™æ·»åŠ è¿›å»å°±okï¼Œç„¶åæ±‚æ¯ä¸ªèŠ‚ç‚¹å’Œå½“å‰å±‚æœ€å·¦çš„èŠ‚ç‚¹indexå·®å€¼å°±æœ€åæ›´æ–°æœ€å¤§å€¼å°±okï¼Œè¿™ä¸ªè§£æ³•è¿˜æ˜¯æ²¡æœ‰é‚£ä¹ˆè‡ªç„¶ï¼Œè¿˜æ˜¯ä¸Šé¢çš„BFSå¥½ç†è§£ä¸€ç‚¹</p>
<h2 id="671-äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹"><a href="#671-äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹" class="headerlink" title="671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹"></a><a href="https://leetcode-cn.com/problems/second-minimum-node-in-a-binary-tree/" target="_blank" rel="noopener">671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹</a></h2><p>ç»™å®šä¸€ä¸ªéç©ºç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯æ­£æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡åªèƒ½ä¸º 2 æˆ– 0ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹çš„å€¼ä¸å¤§äºå®ƒçš„å­èŠ‚ç‚¹çš„å€¼ã€‚ </p>
<p>ç»™å‡ºè¿™æ ·çš„ä¸€ä¸ªäºŒå‰æ ‘ï¼Œä½ éœ€è¦è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„ç¬¬äºŒå°çš„å€¼ã€‚å¦‚æœç¬¬äºŒå°çš„å€¼ä¸å­˜åœ¨çš„è¯ï¼Œè¾“å‡º -1 ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">2</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">5</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="number">5</span></span><br><span class="line">è¯´æ˜: æœ€å°çš„å€¼æ˜¯ <span class="number">2</span> ï¼Œç¬¬äºŒå°çš„å€¼æ˜¯ <span class="number">5</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">2</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: -<span class="number">1</span></span><br><span class="line">è¯´æ˜: æœ€å°çš„å€¼æ˜¯ <span class="number">2</span>, ä½†æ˜¯ä¸å­˜åœ¨ç¬¬äºŒå°çš„å€¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è‡ªç„¶çš„ä»ä¸Šåˆ°ä¸‹çš„æ€è·¯</span></span><br><span class="line"><span class="keyword">var</span> INT_MAX = <span class="keyword">int</span>(^<span class="keyword">uint</span>(<span class="number">0</span>) &gt;&gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findSecondMinimumValue</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	res := dfs(root)</span><br><span class="line">	<span class="keyword">if</span> res == INT_MAX &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> || root.Left == <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> INT_MAX</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å’Œå·¦å³å­æ ‘éƒ½ä¸ç­‰ï¼Œè°å°å°±æ˜¯è°</span></span><br><span class="line">	<span class="keyword">if</span> root.Val != root.Left.Val &amp;&amp; root.Val != root.Right.Val &#123;</span><br><span class="line">		<span class="keyword">return</span> min(root.Left.Val, root.Right.Val)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å’Œå·¦å³å­æ ‘éƒ½ç›¸ç­‰ï¼Œåˆ†åˆ«åœ¨å·¦å³å­æ ‘ä¸­æ‰¾ç¬¬äºŒå°æ¯”è¾ƒ</span></span><br><span class="line">	<span class="keyword">if</span> root.Val == root.Left.Val &amp;&amp; root.Val == root.Right.Val &#123;</span><br><span class="line">		<span class="keyword">return</span> min(dfs(root.Left), dfs(root.Right))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//å’Œå·¦å­æ ‘ç›¸ç­‰,åœ¨å·¦å­æ ‘ä¸­æ‰¾ç¬¬äºŒå°å’Œå³å­æ ‘æ¯”è¾ƒ</span></span><br><span class="line">	<span class="keyword">if</span> root.Val == root.Left.Val &#123;</span><br><span class="line">		<span class="keyword">return</span> min(dfs(root.Left), root.Right.Val)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//åŒä¸Š</span></span><br><span class="line">	<span class="keyword">return</span> min(dfs(root.Right), root.Left.Val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">		<span class="keyword">return</span> b</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="938-äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ"><a href="#938-äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ" class="headerlink" title="938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ"></a><a href="https://leetcode-cn.com/problems/range-sum-of-bst/" target="_blank" rel="noopener">938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ</a></h2><p>ç»™å®šäºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹ rootï¼Œè¿”å› L å’Œ Rï¼ˆå«ï¼‰ä¹‹é—´çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„å’Œã€‚</p>
<p>äºŒå‰æœç´¢æ ‘ä¿è¯å…·æœ‰å”¯ä¸€çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">10</span>,<span class="number">5</span>,<span class="number">15</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="keyword">null</span>,<span class="number">18</span>], L = <span class="number">7</span>, R = <span class="number">15</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">32</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">10</span>,<span class="number">5</span>,<span class="number">15</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">6</span>], L = <span class="number">6</span>, R = <span class="number">10</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">23</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­çš„ç»“ç‚¹æ•°é‡æœ€å¤šä¸º 10000 ä¸ªã€‚</li>
<li>æœ€ç»ˆçš„ç­”æ¡ˆä¿è¯å°äº 2^31</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿˜è¡Œï¼Œè¿™é¢˜ååº”è¿‡æ¥äº†ï¼Œä¸­åºéå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rangeSumBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    preorder(root,L,R);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">preorder</span><span class="params">(TreeNode root, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    rangeSumBST(root.left,L,R);</span><br><span class="line">    <span class="keyword">if</span> (root.val&gt;=L &amp;&amp; root.val&lt;=R) &#123;</span><br><span class="line">        sum+=root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    rangeSumBST(root.right,L,R);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="617-åˆå¹¶äºŒå‰æ ‘"><a href="#617-åˆå¹¶äºŒå‰æ ‘" class="headerlink" title="617. åˆå¹¶äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/merge-two-binary-trees/" target="_blank" rel="noopener">617. åˆå¹¶äºŒå‰æ ‘</a></h2><p>ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œæƒ³è±¡å½“ä½ å°†å®ƒä»¬ä¸­çš„ä¸€ä¸ªè¦†ç›–åˆ°å¦ä¸€ä¸ªä¸Šæ—¶ï¼Œä¸¤ä¸ªäºŒå‰æ ‘çš„ä¸€äº›èŠ‚ç‚¹ä¾¿ä¼šé‡å ã€‚</p>
<p>ä½ éœ€è¦å°†ä»–ä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„äºŒå‰æ ‘ã€‚åˆå¹¶çš„è§„åˆ™æ˜¯å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼Œé‚£ä¹ˆå°†ä»–ä»¬çš„å€¼ç›¸åŠ ä½œä¸ºèŠ‚ç‚¹åˆå¹¶åçš„æ–°å€¼ï¼Œå¦åˆ™ä¸ä¸º NULL çš„èŠ‚ç‚¹å°†ç›´æ¥ä½œä¸ºæ–°äºŒå‰æ ‘çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">	Tree <span class="number">1</span>                     Tree <span class="number">2</span>                  </span><br><span class="line">          <span class="number">1</span>                         <span class="number">2</span>                             </span><br><span class="line">         / \                       / \                            </span><br><span class="line">        <span class="number">3</span>   <span class="number">2</span>                     <span class="number">1</span>   <span class="number">3</span>                        </span><br><span class="line">       /                           \   \                      </span><br><span class="line">      <span class="number">5</span>                             <span class="number">4</span>   <span class="number">7</span>                  </span><br><span class="line">è¾“å‡º: </span><br><span class="line">åˆå¹¶åçš„æ ‘:</span><br><span class="line">	     <span class="number">3</span></span><br><span class="line">	    / \</span><br><span class="line">	   <span class="number">4</span>   <span class="number">5</span></span><br><span class="line">	  / \   \ </span><br><span class="line">	 <span class="number">5</span>   <span class="number">4</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong> åˆå¹¶å¿…é¡»ä»ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">mergeTrees</span><span class="params">(TreeNode t1, TreeNode t2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t2==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>  t1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (t1==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> t2;</span><br><span class="line">    &#125;</span><br><span class="line">    t1.val+=t2.val;</span><br><span class="line">    t1.left=mergeTrees(t1.left,t2.left);</span><br><span class="line">    t1.right=mergeTrees(t1.right,t2.right);</span><br><span class="line">    <span class="keyword">return</span> t1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="530-äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®"><a href="#530-äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®" class="headerlink" title="530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®"></a><a href="https://leetcode-cn.com/problems/minimum-absolute-difference-in-bst/" target="_blank" rel="noopener">530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</a></h2><p>ç»™å®šä¸€ä¸ªæ‰€æœ‰èŠ‚ç‚¹ä¸ºéè´Ÿå€¼çš„äºŒå‰æœç´¢æ ‘ï¼Œæ±‚æ ‘ä¸­ä»»æ„ä¸¤èŠ‚ç‚¹çš„å·®çš„ç»å¯¹å€¼çš„æœ€å°å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ :</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">3</span></span><br><span class="line">    /</span><br><span class="line">   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line">è§£é‡Š:</span><br><span class="line">æœ€å°ç»å¯¹å·®ä¸º<span class="number">1</span>ï¼Œå…¶ä¸­ <span class="number">2</span> å’Œ <span class="number">1</span> çš„å·®çš„ç»å¯¹å€¼ä¸º <span class="number">1</span>ï¼ˆæˆ–è€… <span class="number">2</span> å’Œ <span class="number">3</span>ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong> æ ‘ä¸­è‡³å°‘æœ‰2ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆå¯æƒœï¼Œè¿™é¢˜è¿˜WAäº†ä¸€æ¬¡ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinimumDifference</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">int</span> diff=Integer.MAX_VALUE,last=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (last!=-<span class="number">1</span>) &#123;</span><br><span class="line">            diff=Math.min(diff,Math.abs(last-cur.val));   </span><br><span class="line">        &#125;</span><br><span class="line">        last=cur.val;</span><br><span class="line">        cur=cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> diff;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’çš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> diff = Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> last = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinimumDifference</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    inorder(root);</span><br><span class="line">    <span class="keyword">return</span> diff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">inorder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    inorder(root.left);</span><br><span class="line">    diff = last==-<span class="number">1</span>?diff:Math.min(diff,Math.abs(last-root.val));</span><br><span class="line">    last = root.val;</span><br><span class="line">    inorder(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="501-äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°"><a href="#501-äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°" class="headerlink" title="501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°"></a><a href="https://leetcode-cn.com/problems/find-mode-in-binary-search-tree/" target="_blank" rel="noopener">501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</a></h2><p>Difficulty: <strong>ç®€å•</strong></p>
<p>ç»™å®šä¸€ä¸ªæœ‰ç›¸åŒå€¼çš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ï¼Œæ‰¾å‡º BST ä¸­çš„æ‰€æœ‰ä¼—æ•°ï¼ˆå‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ï¼‰ã€‚</p>
<p>å‡å®š BST æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</p>
<ul>
<li>  ç»“ç‚¹å·¦å­æ ‘ä¸­æ‰€å«ç»“ç‚¹çš„å€¼å°äºç­‰äºå½“å‰ç»“ç‚¹çš„å€¼</li>
<li>  ç»“ç‚¹å³å­æ ‘ä¸­æ‰€å«ç»“ç‚¹çš„å€¼å¤§äºç­‰äºå½“å‰ç»“ç‚¹çš„å€¼</li>
<li>  å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘</li>
</ul>
<p>ä¾‹å¦‚ï¼š<br>ç»™å®š BST <code>[1,null,2,2]</code>,</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"> \</span><br><span class="line">  <span class="number">2</span></span><br><span class="line"> /</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><code>è¿”å›[2]</code>.</p>
<p><strong>æç¤º</strong>ï¼šå¦‚æœä¼—æ•°è¶…è¿‡1ä¸ªï¼Œä¸éœ€è€ƒè™‘è¾“å‡ºé¡ºåº</p>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–çš„ç©ºé—´å—ï¼Ÿï¼ˆå‡è®¾ç”±é€’å½’äº§ç”Ÿçš„éšå¼è°ƒç”¨æ ˆçš„å¼€é”€ä¸è¢«è®¡ç®—åœ¨å†…ï¼‰</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¹‹å‰å¿˜äº†è®°å½•äº†ï¼Œä¸­åºéå†ç»Ÿè®¡ç­”æ¡ˆå°±okï¼Œä½†æ˜¯éè¦ä¸¥æ ¼çš„O(1)å°±éœ€è¦ä½¿ç”¨Morriséå†ï¼ˆä¸ä¼š</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> * Â  Â  Val int</span></span><br><span class="line"><span class="comment"> * Â  Â  Left *TreeNode</span></span><br><span class="line"><span class="comment"> * Â  Â  Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMode</span><span class="params">(root *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span></span><br><span class="line"> Â  Â <span class="keyword">var</span> prev *TreeNode</span><br><span class="line"> Â  Â <span class="keyword">var</span> count, max = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"> Â  Â <span class="keyword">var</span> res []<span class="keyword">int</span></span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">return</span></span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â dfs(root.Left)</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> prev == <span class="literal">nil</span> || prev.Val == root.Val &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â count++</span><br><span class="line"> Â  Â  Â   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â count = <span class="number">1</span></span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> count == max &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â res = <span class="built_in">append</span>(res, root.Val)</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> count &gt; max &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â res = []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"> Â  Â  Â  Â  Â  Â res = <span class="built_in">append</span>(res, root.Val)</span><br><span class="line"> Â  Â  Â  Â  Â  Â max = count</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â prev = root</span><br><span class="line"> Â  Â  Â  Â dfs(root.Right)</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â dfs(root)</span><br></pre></td></tr></table></figure>

<h2 id="515-åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼"><a href="#515-åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼" class="headerlink" title="515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼"></a><a href="https://leetcode-cn.com/problems/find-largest-value-in-each-tree-row/" target="_blank" rel="noopener">515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</a></h2><p>æ‚¨éœ€è¦åœ¨äºŒå‰æ ‘çš„æ¯ä¸€è¡Œä¸­æ‰¾åˆ°æœ€å¤§çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">	  <span class="number">1</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">3</span>   <span class="number">2</span></span><br><span class="line">   / \   \  </span><br><span class="line">  <span class="number">5</span>   <span class="number">3</span>   <span class="number">9</span> </span><br><span class="line">è¾“å‡º: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¨±ä¹é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">largestValues</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    dfs(root,res,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode node,List&lt;Integer&gt; list,<span class="keyword">int</span> level)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (level&gt;=list.size()) &#123;</span><br><span class="line">        list.add(node.val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(node.val&gt;list.get(level))&#123;</span><br><span class="line">        list.set(level,node.val);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(node.left,list,level+<span class="number">1</span>);</span><br><span class="line">    dfs(node.right,list,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="173-äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨"><a href="#173-äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨" class="headerlink" title="173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨"></a><a href="https://leetcode-cn.com/problems/binary-search-tree-iterator/" target="_blank" rel="noopener">173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</a></h2><p>å®ç°ä¸€ä¸ªäºŒå‰æœç´¢æ ‘è¿­ä»£å™¨ã€‚ä½ å°†ä½¿ç”¨äºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹åˆå§‹åŒ–è¿­ä»£å™¨ã€‚</p>
<p>è°ƒç”¨ <code>next()</code> å°†è¿”å›äºŒå‰æœç´¢æ ‘ä¸­çš„ä¸‹ä¸€ä¸ªæœ€å°çš„æ•°ã€‚</p>
<p> <strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://i.loli.net/2019/12/25/TXK397rI5hwjG4B.png" alt="leetcode"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BSTIterator iterator = <span class="keyword">new</span> BSTIterator(root);</span><br><span class="line">iterator.next();    <span class="comment">// è¿”å› 3</span></span><br><span class="line">iterator.next();    <span class="comment">// è¿”å› 7</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› true</span></span><br><span class="line">iterator.next();    <span class="comment">// è¿”å› 9</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› true</span></span><br><span class="line">iterator.next();    <span class="comment">// è¿”å› 15</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› true</span></span><br><span class="line">iterator.next();    <span class="comment">// è¿”å› 20</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› false</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>next() å’Œ hasNext() æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œå¹¶ä½¿ç”¨ <strong>O(h)</strong> å†…å­˜ï¼Œå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ã€‚</li>
<li>ä½ å¯ä»¥å‡è®¾ next() è°ƒç”¨æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è°ƒç”¨ next() æ—¶ï¼ŒBST ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªä¸‹ä¸€ä¸ªæœ€å°çš„æ•°ã€‚ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ³¨æ„è¿™é¢˜ç©ºé—´å¤æ‚åº¦è¦æ±‚æ˜¯<code>O(h)</code> ï¼Œå¹¶ä¸æ˜¯æ†¨æ†¨é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BSTIterator</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    pushLeft(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    TreeNode node=stack.pop();</span><br><span class="line">    <span class="keyword">if</span> (node.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        pushLeft(node.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node.val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !stack.isEmpty();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pushLeft</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(node!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        stack.add(node);</span><br><span class="line">        node=node.left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªstackå­˜å‚¨BSTçš„å·¦é“¾ï¼Œå½“å–æœ€å°å€¼å°±ä»stackä¸­ç›´æ¥å–ï¼Œå¦‚æœå–å‡ºæ¥çš„nodeè¿˜æœ‰å³å­æ ‘å°±å°†å³å­æ ‘çš„å·¦é“¾ä¹Ÿæ·»åŠ è¿›æ¥ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹ç†Ÿæ‚‰ï¼Ÿå…¶å®å°±æ˜¯ä¸­åºéå†çš„è¿‡ç¨‹</p>
<h2 id="95-ä¸åŒçš„äºŒå‰æœç´¢æ ‘-II"><a href="#95-ä¸åŒçš„äºŒå‰æœç´¢æ ‘-II" class="headerlink" title="95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II"></a><a href="https://leetcode-cn.com/problems/unique-binary-search-trees-ii/" target="_blank" rel="noopener">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œç”Ÿæˆæ‰€æœ‰ç”± 1 â€¦ n ä¸ºèŠ‚ç‚¹æ‰€ç»„æˆçš„<strong>äºŒå‰æœç´¢æ ‘</strong>ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">3</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">1</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">3</span>]</span><br><span class="line">]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ <span class="number">5</span> ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š</span><br><span class="line"></span><br><span class="line">   <span class="number">1</span>         <span class="number">3</span>     <span class="number">3</span>      <span class="number">2</span>      <span class="number">1</span></span><br><span class="line">    \       /     /      / \      \</span><br><span class="line">     <span class="number">3</span>     <span class="number">2</span>     <span class="number">1</span>      <span class="number">1</span>   <span class="number">3</span>      <span class="number">2</span></span><br><span class="line">    /     /       \                 \</span><br><span class="line">   <span class="number">2</span>     <span class="number">1</span>         <span class="number">2</span>                 <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span>  List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> generateTrees(<span class="number">1</span>,n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    List&lt;TreeNode&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (start&gt;end) &#123;</span><br><span class="line">        <span class="comment">//nullä¹Ÿæ˜¯ä¸€ç§æƒ…å†µï¼Œå·¦å³å­æ ‘ä¸ºç©º</span></span><br><span class="line">        res.add(<span class="keyword">null</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=start;i&lt;=end;i++) &#123;</span><br><span class="line">        List&lt;TreeNode&gt; left=generateTrees(start,i-<span class="number">1</span>);</span><br><span class="line">        List&lt;TreeNode&gt; right=generateTrees(i+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">for</span> (TreeNode l:left) &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode r:right) &#123;</span><br><span class="line">                TreeNode currentNode=<span class="keyword">new</span> TreeNode(i);</span><br><span class="line">                currentNode.left=l;</span><br><span class="line">                currentNode.right=r;</span><br><span class="line">                res.add(currentNode);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆä¹…ä¹‹å‰åšè¿‡çš„é¢˜ï¼Œä»Šå¤©åˆæ‹¿å‡ºæ¥çœ‹çœ‹ï¼Œå…¶å®å±äºåˆ†æ²»æ€è·¯</p>
<h2 id="538-æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘"><a href="#538-æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘" class="headerlink" title="538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘"></a><a href="https://leetcode-cn.com/problems/convert-bst-to-greater-tree/" target="_blank" rel="noopener">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼‰ï¼ŒæŠŠå®ƒè½¬æ¢æˆä¸ºç´¯åŠ æ ‘ï¼ˆGreater Tree)ï¼Œä½¿å¾—æ¯ä¸ªèŠ‚ç‚¹çš„å€¼æ˜¯åŸæ¥çš„èŠ‚ç‚¹å€¼åŠ ä¸Šæ‰€æœ‰å¤§äºå®ƒçš„èŠ‚ç‚¹å€¼ä¹‹å’Œã€‚</p>
<p><strong>ä¾‹å¦‚ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: äºŒå‰æœç´¢æ ‘:</span><br><span class="line">              <span class="number">5</span></span><br><span class="line">            /   \</span><br><span class="line">           <span class="number">2</span>     <span class="number">13</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: è½¬æ¢ä¸ºç´¯åŠ æ ‘:</span><br><span class="line">             <span class="number">18</span></span><br><span class="line">            /   \</span><br><span class="line">          <span class="number">20</span>     <span class="number">13</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é‡Œæˆ‘æƒ³å…ˆä¸Šä¸€ä¸ª<strong>é”™è¯¯çš„è§£æ³•</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä»¥ä¸‹ä»£ç çº¯å±å¨±ä¹</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">convertBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(<span class="number">0</span>);<span class="comment">//è¿™é‡Œè‚¯å®šæ˜¯é”™çš„ï¼Œnullåº”è¯¥ç›´æ¥è¿”å›null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    root.val+= convertBST(root.right).val;</span><br><span class="line">    convertBST(root.left).val+=root.val;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¿½ç•¥è¿”å›å€¼çš„éƒ¨åˆ†ï¼Œä¹ä¸€çœ‹å¥½åƒæ˜¯å¯¹çš„ğŸ˜‚ï¼Œå…¶å®é—®é¢˜å¤§äº†ï¼Œé¦–å…ˆæ˜¯å·¦è¾¹çš„å€¼ç®—çš„ä¸å¯¹ï¼Œå› ä¸ºæ˜¯DFSä¼šä»æœ€å·¦è¾¹å¼€å§‹ç®—ï¼Œéƒ½åªåŠ äº†ä»–çš„çˆ¶èŠ‚ç‚¹åŸå§‹çš„å€¼ï¼Œè€Œçˆ¶èŠ‚ç‚¹çš„ç´¯åŠ å€¼è¿˜æ²¡æœ‰ç®—å‡ºæ¥ï¼Œå…¶æ¬¡æœ‰äº›æƒ…å†µæ˜¯ç®—ä¸å‡ºæ¥çš„æ¯”å¦‚å·¦å­æ ‘çš„æŸä¸€ä¸ªå³èŠ‚ç‚¹ä½ å°±ç®—ä¸å‡ºæ¥</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å…¶å®ä¸€å¼€å§‹å°±çŸ¥é“å¯ä»¥ç›´æ¥ä¸­åºéå†åšï¼Œåªæ˜¯æƒ³ç©ä¸€äº›å…¶ä»–çš„æ–¹æ³•ï¼Œå¯æƒœæ²¡æå‡ºæ¥ğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">convertBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.right);</span><br><span class="line">    sum+=root.val;</span><br><span class="line">    root.val=sum;</span><br><span class="line">    dfs(root.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„å°±æ˜¯è¦ç¿»è¿‡æ¥éå†ï¼Œä»å¤§åˆ°å°ï¼Œå› ä¸ºå®ƒæ±‚çš„æ˜¯æ¯”å®ƒå¤§çš„èŠ‚ç‚¹çš„å€¼</p>
<h2 id="508-å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"><a href="#508-å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ" class="headerlink" title="508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"></a><a href="https://leetcode-cn.com/problems/most-frequent-subtree-sum/" target="_blank" rel="noopener">508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</a></h2><p>ç»™å‡ºäºŒå‰æ ‘çš„æ ¹ï¼Œæ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚ä¸€ä¸ªç»“ç‚¹çš„å­æ ‘å…ƒç´ å’Œå®šä¹‰ä¸ºä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å…ƒç´ ä¹‹å’Œï¼ˆåŒ…æ‹¬ç»“ç‚¹æœ¬èº«ï¼‰ã€‚ç„¶åæ±‚å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ç›¸åŒï¼Œè¿”å›æ‰€æœ‰å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ï¼ˆä¸é™é¡ºåºï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line"></span><br><span class="line">  <span class="number">5</span></span><br><span class="line"> /  \</span><br><span class="line"><span class="number">2</span>   -<span class="number">3</span></span><br><span class="line">è¿”å› [<span class="number">2</span>, -<span class="number">3</span>, <span class="number">4</span>]ï¼Œæ‰€æœ‰çš„å€¼å‡åªå‡ºç°ä¸€æ¬¡ï¼Œä»¥ä»»æ„é¡ºåºè¿”å›æ‰€æœ‰å€¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line"></span><br><span class="line">  <span class="number">5</span></span><br><span class="line"> /  \</span><br><span class="line"><span class="number">2</span>   -<span class="number">5</span></span><br><span class="line">è¿”å› [<span class="number">2</span>]ï¼Œåªæœ‰ <span class="number">2</span> å‡ºç°ä¸¤æ¬¡ï¼Œ-<span class="number">5</span> åªå‡ºç° <span class="number">1</span> æ¬¡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å·¦å­æ ‘å’Œ+å³å­æ ‘å’Œï¼ŒHashMapè®°å½•å‡ºç°çš„æ¬¡æ•°ï¼Œè®°å½•æœ€å¤§å€¼ç„¶åå–å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> maxCount=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] findFrequentTreeSum(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root ==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root);</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    map.keySet().stream().filter(val-&gt;map.get(val)==maxCount).forEach(res::add);</span><br><span class="line">    <span class="keyword">return</span> res.stream().mapToInt(Integer::valueOf).toArray(); <span class="comment">//listè½¬æ•°ç»„çš„åˆä¸€ä¸ªå°æŠ€å·§ï¼Œå•çº¯çš„toArrayåªèƒ½è½¬æ¢æˆInteger[],è¿˜éœ€è¦è½¬</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> value=root.val+dfs(root.right)+dfs(root.left);</span><br><span class="line">    map.put(value,map.getOrDefault(value,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">    maxCount=Math.max(maxCount,map.get(value));</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™æ³•æ˜¯åŸºäºLambdaçš„ï¼Œå‡½æ•°å¼å†™èµ·æ¥çœŸçš„èˆ’æœ</p>
<h2 id="606-æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²"><a href="#606-æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²" class="headerlink" title="606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²"></a><a href="https://leetcode-cn.com/problems/construct-string-from-binary-tree/" target="_blank" rel="noopener">606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²</a></h2><p>ä½ éœ€è¦é‡‡ç”¨å‰åºéå†çš„æ–¹å¼ï¼Œå°†ä¸€ä¸ªäºŒå‰æ ‘è½¬æ¢æˆä¸€ä¸ªç”±æ‹¬å·å’Œæ•´æ•°ç»„æˆçš„å­—ç¬¦ä¸²ã€‚</p>
<p>ç©ºèŠ‚ç‚¹åˆ™ç”¨ä¸€å¯¹ç©ºæ‹¬å· â€œ()â€ è¡¨ç¤ºã€‚è€Œä¸”ä½ éœ€è¦çœç•¥æ‰€æœ‰ä¸å½±å“å­—ç¬¦ä¸²ä¸åŸå§‹äºŒå‰æ ‘ä¹‹é—´çš„ä¸€å¯¹ä¸€æ˜ å°„å…³ç³»çš„ç©ºæ‹¬å·å¯¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: äºŒå‰æ ‘: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">       <span class="number">1</span></span><br><span class="line">     /   \</span><br><span class="line">    <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">   /    </span><br><span class="line">  <span class="number">4</span>     </span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="string">"1(2(4))(3)"</span></span><br><span class="line"></span><br><span class="line">è§£é‡Š: åŸæœ¬å°†æ˜¯â€œ<span class="number">1</span>(<span class="number">2</span>(<span class="number">4</span>)())(<span class="number">3</span>())â€ï¼Œ</span><br><span class="line">åœ¨ä½ çœç•¥æ‰€æœ‰ä¸å¿…è¦çš„ç©ºæ‹¬å·å¯¹ä¹‹åï¼Œ</span><br><span class="line">å®ƒå°†æ˜¯â€œ<span class="number">1</span>(<span class="number">2</span>(<span class="number">4</span>))(<span class="number">3</span>)â€ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: äºŒå‰æ ‘: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>]</span><br><span class="line">       <span class="number">1</span></span><br><span class="line">     /   \</span><br><span class="line">    <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     \  </span><br><span class="line">      <span class="number">4</span> </span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="string">"1(2()(4))(3)"</span></span><br><span class="line"></span><br><span class="line">è§£é‡Š: å’Œç¬¬ä¸€ä¸ªç¤ºä¾‹ç›¸ä¼¼ï¼Œ</span><br><span class="line">é™¤äº†æˆ‘ä»¬ä¸èƒ½çœç•¥ç¬¬ä¸€ä¸ªå¯¹æ‹¬å·æ¥ä¸­æ–­è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„ä¸€å¯¹ä¸€æ˜ å°„å…³ç³»ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">tree2str</span><span class="params">(TreeNode t)</span> </span>&#123;</span><br><span class="line">    StringBuilder s=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">    dfs(t,s);</span><br><span class="line">    <span class="keyword">return</span> s.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode node,StringBuilder s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s.append(node.val);</span><br><span class="line">    <span class="keyword">if</span>(node.left==<span class="keyword">null</span> &amp;&amp; node.right==<span class="keyword">null</span>)&#123;<span class="comment">//æ²¡æœ‰å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s.append(<span class="string">"("</span>);</span><br><span class="line">    dfs(node.left,s);</span><br><span class="line">    s.append(<span class="string">")"</span>);</span><br><span class="line">    <span class="keyword">if</span> (node.right==<span class="keyword">null</span>) &#123; <span class="comment">//æ²¡æœ‰å³èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    s.append(<span class="string">"("</span>);</span><br><span class="line">    dfs(node.right,s);</span><br><span class="line">    s.append(<span class="string">")"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ²¡å•¥å¥½è¯´çš„ï¼Œææ¸…æ¥šé¢˜ç›®æ„æ€ç„¶åæ³¨æ„é€’å½’çš„å‡ ä¸ªå‡ºå£å°±è¡Œäº†</p>
<h2 id="1315-ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ"><a href="#1315-ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ" class="headerlink" title="1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ"></a><a href="https://leetcode-cn.com/problems/sum-of-nodes-with-even-valued-grandparent/" target="_blank" rel="noopener">1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</a></h2><p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œï¼š</p>
<p>è¯¥èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ã€‚ï¼ˆä¸€ä¸ªèŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹æ˜¯æŒ‡è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ï¼‰<br>å¦‚æœä¸å­˜åœ¨ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿”å› 0 ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/01/13/CgBK9WOMbNvxJpY.png" alt="1473_ex1.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">18</span></span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹çš„å€¼ä¸ºå¶æ•°ï¼Œè“è‰²èŠ‚ç‚¹ä¸ºè¿™äº›çº¢è‰²èŠ‚ç‚¹çš„ç¥–çˆ¶èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨ <code>1</code> åˆ° <code>10^4</code> ä¹‹é—´ã€‚</li>
<li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨ <code>1</code> åˆ° <code>100</code> ä¹‹é—´ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¥½åƒæ˜¯170å‰ä¸€å¤©çš„åŒå‘¨èµ›çš„ç¬¬3é¢˜ï¼Œè¿˜æ˜¯å¾ˆç›´ç™½çš„é¢˜ï¼Œéå†çš„æ—¶å€™å¸¦ä¸Šå®ƒçš„fatherçš„å€¼å’Œgrandfatherçš„å€¼å¸¦åˆ°ä¸‹ä¸€å±‚ï¼Œç„¶ååˆ¤æ–­å°±å¯ä»¥äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumEvenGrandparent</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(root,-<span class="number">1</span>,-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode node,<span class="keyword">int</span> fa,<span class="keyword">int</span> ga)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (fa!=-<span class="number">1</span> &amp;&amp; ga!=-<span class="number">1</span> &amp;&amp; ga%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">        sum+=node.val;</span><br><span class="line">    &#125;</span><br><span class="line">    sum+=dfs(node.left,node.val,fa);</span><br><span class="line">    sum+=dfs(node.right,node.val,fa);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="1026-èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼"><a href="#1026-èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼" class="headerlink" title="1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼"></a><a href="https://leetcode-cn.com/problems/maximum-difference-between-node-and-ancestor/" target="_blank" rel="noopener">1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼</a></h2><p>ç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œæ‰¾å‡ºå­˜åœ¨äºä¸åŒèŠ‚ç‚¹ <code>A</code> å’Œ <code>B</code> ä¹‹é—´çš„æœ€å¤§å€¼ <code>V</code>ï¼Œå…¶ä¸­ <code>V = |A.val - B.val|</code>ï¼Œä¸” <code>A</code> æ˜¯ <code>B</code> çš„ç¥–å…ˆã€‚</p>
<p>ï¼ˆå¦‚æœ A çš„ä»»ä½•å­èŠ‚ç‚¹ä¹‹ä¸€ä¸º Bï¼Œæˆ–è€… A çš„ä»»ä½•å­èŠ‚ç‚¹æ˜¯ B çš„ç¥–å…ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸º A æ˜¯ B çš„ç¥–å…ˆï¼‰</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/03/YpF3r9.png" alt="YpF3r9.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">8</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">14</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">13</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">7</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æˆ‘ä»¬æœ‰å¤§é‡çš„èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆçš„å·®å€¼ï¼Œå…¶ä¸­ä¸€äº›å¦‚ä¸‹ï¼š</span><br><span class="line">|<span class="number">8</span> - <span class="number">3</span>| = <span class="number">5</span></span><br><span class="line">|<span class="number">3</span> - <span class="number">7</span>| = <span class="number">4</span></span><br><span class="line">|<span class="number">8</span> - <span class="number">1</span>| = <span class="number">7</span></span><br><span class="line">|<span class="number">10</span> - <span class="number">13</span>| = <span class="number">3</span></span><br><span class="line">åœ¨æ‰€æœ‰å¯èƒ½çš„å·®å€¼ä¸­ï¼Œæœ€å¤§å€¼ <span class="number">7</span> ç”± |<span class="number">8</span> - <span class="number">1</span>| = <span class="number">7</span> å¾—å‡ºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°åœ¨ <code>2</code> åˆ° <code>5000</code> ä¹‹é—´ã€‚</li>
<li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº <code>0</code> åˆ° <code>100000</code> ä¹‹é—´ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ°´é¢˜ï¼Œç»´æŠ¤æ¯æ¡è·¯å¾„ä¸Šçš„æœ€å€¼ï¼Œç„¶åç»Ÿè®¡æœ€å¤§å·®å°±è¡Œäº†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxAncestorDiff</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">    dfs(root, <span class="number">1</span>&lt;&lt;<span class="number">30</span>, <span class="number">-1</span>&gt;&gt;<span class="number">30</span>, &amp;res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode, min, max <span class="keyword">int</span>, res *<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    min = fmin(min, root.Val)</span><br><span class="line">    max = fmax(max, root.Val)</span><br><span class="line">    *res = fmax(max-min, *res)</span><br><span class="line">    dfs(root.Left, min, max, res)</span><br><span class="line">    dfs(root.Right, min, max, res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fmin</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fmax</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1325-åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹"><a href="#1325-åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹" class="headerlink" title="1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹"></a><a href="https://leetcode-cn.com/problems/delete-leaves-with-a-given-value/" target="_blank" rel="noopener">1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹</a></h2><p>ç»™ä½ ä¸€æ£µä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘å’Œä¸€ä¸ªæ•´æ•° <code>target</code> ï¼Œè¯·ä½ åˆ é™¤æ‰€æœ‰å€¼ä¸º <code>target</code> çš„ å¶å­èŠ‚ç‚¹ ã€‚</p>
<p>æ³¨æ„ï¼Œä¸€æ—¦åˆ é™¤å€¼ä¸º <code>target</code> çš„å¶å­èŠ‚ç‚¹ï¼Œå®ƒçš„çˆ¶èŠ‚ç‚¹å°±å¯èƒ½å˜æˆå¶å­èŠ‚ç‚¹ï¼›å¦‚æœæ–°å¶å­èŠ‚ç‚¹çš„å€¼æ°å¥½ä¹Ÿæ˜¯ <code>target</code> ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹ä¹Ÿåº”è¯¥è¢«åˆ é™¤ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦é‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°ä¸èƒ½ç»§ç»­åˆ é™¤ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/01/28/e7dOxoLNciVa4Uf.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">4</span>], target = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä¸Šé¢å·¦è¾¹çš„å›¾ä¸­ï¼Œç»¿è‰²èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œä¸”å®ƒä»¬çš„å€¼ä¸ target ç›¸åŒï¼ˆåŒä¸º <span class="number">2</span> ï¼‰ï¼Œå®ƒä»¬ä¼šè¢«åˆ é™¤ï¼Œå¾—åˆ°ä¸­é—´çš„å›¾ã€‚</span><br><span class="line">æœ‰ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å˜æˆäº†å¶å­èŠ‚ç‚¹ä¸”å®ƒçš„å€¼ä¸ target ç›¸åŒï¼Œæ‰€ä»¥å°†å†æ¬¡è¿›è¡Œåˆ é™¤ï¼Œä»è€Œå¾—åˆ°æœ€å³è¾¹çš„å›¾ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/01/28/aNLo4wQz3C1ZiAf.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/01/28/JHBRy7uZDFWLMVT.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">2</span>], target = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>]</span><br><span class="line">è§£é‡Šï¼šæ¯ä¸€æ­¥éƒ½åˆ é™¤ä¸€ä¸ªç»¿è‰²çš„å¶å­èŠ‚ç‚¹ï¼ˆå€¼ä¸º <span class="number">2</span>ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 1000</code></li>
<li>æ¯ä¸€æ£µæ ‘æœ€å¤šæœ‰ <code>3000</code> ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>æ¯ä¸€ä¸ªèŠ‚ç‚¹å€¼çš„èŒƒå›´æ˜¯ <code>[1, 1000]</code> ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŸæ¬¡å‘¨èµ›çš„ç¬¬ä¸‰é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">removeLeafNodes</span><span class="params">(TreeNode root, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> delete(root,target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">delete</span><span class="params">(TreeNode root,<span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    root.left=delete(root.left,target);</span><br><span class="line">    root.right=delete(root.right,target);</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span> &amp;&amp; root.val==target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æäº†åŠå¤©ã€‚ã€‚ã€‚ä¸€å¼€å§‹å†™çš„æ—¶å€™å†™çš„å‰åºéå†çš„æ–¹å¼ï¼Œå…ˆåˆ é™¤è‡ªå·±ç„¶åå†å»åˆ é™¤å·¦å³å­©å­ï¼Œç„¶ååœ¨å¦‚ä½•åˆ¤æ–­æ˜¯å¦æœ‰å¶å­èŠ‚ç‚¹ä¸Šå¡äº†åŠå¤©ï¼Œæœ€åå†™äº†ä¸ªfor3000çš„å¾ªç¯è¿‡çš„ã€‚ã€‚ã€‚å¥½èœå•Šï¼Œåªè¦äº¤æ¢ä¸€ä¸‹é¡ºåºå˜æˆååºéå†çš„æ–¹å¼ï¼Œå…ˆåˆ é™¤å·¦å³å­èŠ‚ç‚¹ï¼Œç„¶åå†å›å¤´åˆ é™¤è‡ªå·±çš„å°±å¯ä»¥ä¸€ç›´åˆ äº†ã€‚ã€‚</p>
<h2 id="1305-ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ "><a href="#1305-ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ " class="headerlink" title="1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ "></a><a href="https://leetcode-cn.com/problems/all-elements-in-two-binary-search-trees/" target="_blank" rel="noopener">1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </a></h2><p>ç»™ä½  <code>root1</code> å’Œ <code>root2</code> è¿™ä¸¤æ£µäºŒå‰æœç´¢æ ‘ã€‚</p>
<p>è¯·ä½ è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å« <strong>ä¸¤æ£µæ ‘</strong> ä¸­çš„æ‰€æœ‰æ•´æ•°å¹¶æŒ‰ <strong>å‡åº</strong> æ’åºã€‚.</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/01/31/Hy3MEwa4sRO6jUq.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot1 = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>], root2 = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot1 = [<span class="number">0</span>,-<span class="number">10</span>,<span class="number">10</span>], root2 = [<span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">10</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">10</span>]</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot1 = [], root2 = [<span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot1 = [<span class="number">0</span>,-<span class="number">10</span>,<span class="number">10</span>], root2 = []</span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">10</span>,<span class="number">0</span>,<span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŸæ¬¡å‘¨èµ›çš„é¢˜ï¼Œå¤§æ°´é¢˜ï¼Œç™½æ¿å›å¿†å†™å‡ºäº†ä¸­åºçš„éé€’å½’hahaï¼Œæ„Ÿè§‰å¿˜ä¸äº†äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">getAllElements</span><span class="params">(TreeNode root1, TreeNode root2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//return megerList(inorder(root1),0,inorder(root2),0);</span></span><br><span class="line">    <span class="keyword">return</span> megerList(inorder(root1),inorder(root2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorder</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            stack.add(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        res.add(cur.val);</span><br><span class="line">        cur=cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">megerList</span><span class="params">(List&lt;Integer&gt; list1,List&lt;Integer&gt; list2)</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> index1=<span class="number">0</span>,index2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(index1&lt;list1.size() &amp;&amp; index2&lt;list2.size())&#123;</span><br><span class="line">        res.add(list1.get(index1)&lt;list2.get(index2)?list1.get(index1++):list2.get(index2++));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(index1&lt;list1.size())&#123;</span><br><span class="line">        res.add(list1.get(index1++));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(index2&lt;list2.size())&#123;</span><br><span class="line">        res.add(list2.get(index2++));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é€’å½’çš„TLEäº† 42/48,ä¸åœçš„åˆ›å»ºlistå¤ªè€—æ—¶äº†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">megerList</span><span class="params">(List&lt;Integer&gt; list1,<span class="keyword">int</span> index1,List&lt;Integer&gt; list2,<span class="keyword">int</span> index2)</span></span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (index1==list1.size()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=index2;i&lt;list2.size();i++) &#123;</span><br><span class="line">            res.add(list2.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index2==list2.size()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=index1;i&lt;list1.size();i++) &#123;</span><br><span class="line">            res.add(list1.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (list1.get(index1)&lt;list2.get(index2)) &#123;</span><br><span class="line">        res.add(list1.get(index1));</span><br><span class="line">        res.addAll(megerList(list1,index1+<span class="number">1</span>,list2,index2));</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        res.add(list2.get(index2));</span><br><span class="line">        res.addAll(megerList(list1,index1,list2,index2+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1339-åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯"><a href="#1339-åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯" class="headerlink" title="1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯"></a><a href="https://leetcode-cn.com/problems/maximum-product-of-splitted-binary-tree/" target="_blank" rel="noopener">1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</a></h2><p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„æ ¹ä¸º root ã€‚è¯·ä½ åˆ é™¤ 1 æ¡è¾¹ï¼Œä½¿äºŒå‰æ ‘åˆ†è£‚æˆä¸¤æ£µå­æ ‘ï¼Œä¸”å®ƒä»¬å­æ ‘å’Œçš„ä¹˜ç§¯å°½å¯èƒ½å¤§ã€‚</p>
<p>ç”±äºç­”æ¡ˆå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ 10^9 + 7 å–æ¨¡åå†è¿”å›ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/02/HT93vAj7gcXwY8U.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">110</span></span><br><span class="line">è§£é‡Šï¼šåˆ é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° <span class="number">2</span> æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«ä¸º <span class="number">11</span> å’Œ <span class="number">10</span> ã€‚å®ƒä»¬çš„ä¹˜ç§¯æ˜¯ <span class="number">110</span> ï¼ˆ<span class="number">11</span>*<span class="number">10</span>ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/02/Fit7Xl2jkzCZyhV.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">90</span></span><br><span class="line">è§£é‡Šï¼šç§»é™¤çº¢è‰²çš„è¾¹ï¼Œå¾—åˆ° <span class="number">2</span> æ£µå­æ ‘ï¼Œå’Œåˆ†åˆ«æ˜¯ <span class="number">15</span> å’Œ <span class="number">6</span> ã€‚å®ƒä»¬çš„ä¹˜ç§¯ä¸º <span class="number">90</span> ï¼ˆ<span class="number">15</span>*<span class="number">6</span>ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>174å‘¨èµ›çš„ç¬¬ä¸‰é¢˜ï¼Œå½“æ—¶æ¯”èµ›TLEäº†ã€‚ã€‚å†™äº†ä¸ªå¾ˆè ¢çš„ç®—æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> mod=<span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    TreeNode cur=root;</span><br><span class="line">    <span class="keyword">long</span> sumAll=sum(root);</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() || cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        TreeNode temp=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">long</span> s=<span class="number">0L</span>;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            temp=cur.left;</span><br><span class="line">            cur.left=<span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">long</span> r=sum(root);</span><br><span class="line">            s=r*(sumAll-r);</span><br><span class="line">            max=Math.max(s,max);</span><br><span class="line">            cur.left=temp;</span><br><span class="line">            stack.add(cur);</span><br><span class="line">            cur=cur.left;</span><br><span class="line">        &#125;</span><br><span class="line">        cur=stack.pop();</span><br><span class="line">        temp=cur.right;</span><br><span class="line">        cur.right=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">long</span> r=sum(root);</span><br><span class="line">        s=r*(sumAll-r);</span><br><span class="line">        max=Math.max(s,max);</span><br><span class="line">        cur.right=temp;</span><br><span class="line">        cur=cur.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(max%mod);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> max=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">sum</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root.val+sum(root.left)+sum(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘å±…ç„¶çœŸçš„å»åˆ é™¤èŠ‚ç‚¹å»äº†ã€‚ã€‚ã€‚å¯¼è‡´åé¢éƒ½æ²¡åŠæ³•å¯¹sumåšè®°å¿†åŒ–ï¼Œå¤ªèœäº†å•Š</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>èƒ½ACä½†æ˜¯æ•ˆç‡æ„Ÿäºº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> mod=<span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> sumAll=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> max=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    sumAll=sum(root);</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(max%mod);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> temp=sum(root);</span><br><span class="line">    max=Math.max(max,temp*(sumAll-temp));</span><br><span class="line">    dfs(root.left);</span><br><span class="line">    dfs(root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> HashMap&lt;String,Long&gt; cache=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">sum</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache.containsKey(root.toString())) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache.get(root.toString());</span><br><span class="line">    &#125;</span><br><span class="line">    cache.put(root.toString(),root.val+sum(root.left)+sum(root.right));</span><br><span class="line">    <span class="keyword">return</span> cache.get(root.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸‰</strong></p>
<p>æ ‡å‡†<code>O(N)</code>çš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> mod=<span class="number">1000000007</span>;    </span><br><span class="line"></span><br><span class="line">List&lt;Long&gt; sum=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‡å‡†è§£æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProduct</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> max=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> sumAll=dfs(root);</span><br><span class="line">    <span class="keyword">for</span> (Long s:sum) &#123;</span><br><span class="line">        max=Math.max(max,s*(sumAll-s));    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(max%mod);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sum.add(root.val+dfs(root.left)+dfs(root.right));</span><br><span class="line">    <span class="keyword">return</span> sum.get(sum.size()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨dfsçš„è¿‡ç¨‹ä¸­å°†å­æ ‘çš„sumå­˜èµ·æ¥ï¼Œç„¶åç›´æ¥éå†listï¼Œæ±‚ <code>max(s*(sumAll-s))</code>å°±ok</p>
<blockquote>
<p>è¿™é‡Œæœ€å¼€å§‹è¢«å¤§æ•°æ®ä¹Ÿå¡äº†ä¸€ä¼šå„¿ï¼Œä¸çŸ¥é“å•¥æ—¶å€™å–æ¨¡ï¼Œå…¶å®è¿™é‡Œé¢˜ç›®æ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œç›¸ä¹˜çš„ç»“æœå¹¶ä¸ä¼šæº¢å‡ºLongï¼Œå¦‚æœè¦æ˜¯æº¢å‡ºLongçš„è¯å¯èƒ½å°±è¦ç”¨ä»€ä¹ˆå¸¦æ¨¡å¿«é€Ÿä¹˜äº†</p>
</blockquote>
<h2 id="297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a><a href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/" target="_blank" rel="noopener">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></h2><p>åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p>
<p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">3</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"></span><br><span class="line">åºåˆ—åŒ–ä¸º <span class="string">"[1,2,3,null,null,4,5]"</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤º:</strong> è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>è¯´æ˜:</strong> ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å±‚åºéå†éé€’å½’çš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å±‚åºéå†çš„æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//BFS</span></span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        TreeNode cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (cur!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            sb.append(cur.val+<span class="string">","</span>);</span><br><span class="line">            queue.add(cur.left);</span><br><span class="line">            queue.add(cur.right);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sb.append(<span class="string">"null,"</span>); <span class="comment">//ä¼šå¤šå¾ˆå¤šnull,ä¸è¿‡å½±å“ä¸å¤§</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰ç…§é¢˜ç›®æ„æ€å†™ä»£ç å°±ok</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">""</span>.equals(data)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] treeData=data.split(<span class="string">","</span>);</span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    TreeNode root=node(treeData[index]);</span><br><span class="line">    Queue&lt;TreeNode&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        TreeNode cur=queue.poll();</span><br><span class="line">        cur.left=node(treeData[++index]);</span><br><span class="line">        <span class="keyword">if</span> (cur.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            queue.add(cur.left);</span><br><span class="line">        &#125;</span><br><span class="line">        cur.right=node(treeData[++index]);</span><br><span class="line">        <span class="keyword">if</span> (cur.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">            queue.add(cur.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">node</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="string">"null"</span>.equals(str)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(Integer.valueOf(str));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å‰åºéå†é€’å½’æ–¹å¼ï¼Œæˆ‘ä»¬å°†åºåˆ—åŒ–çš„ç»“æœå­˜åœ¨ä¸€ä¸ª<code>queue</code>ä¸­ï¼Œç„¶åä»å¤´å¼€å§‹å–ï¼Œå› ä¸ºæ˜¯å‰åºéå†ï¼Œæ‰€ä»¥æ•´ä½“ç»“æ„è‚¯å®šæ˜¯<code>ã€root,root.left,root.rightã€‘</code> </p>
<p>ååºåˆ—åŒ–å…³é”®å°±æ˜¯å¦‚ä½•åŒºåˆ†å·¦å³å­æ ‘ï¼Œä»…ä»…ä¾é ä¸€ä¸ªå‰åºéå†æ˜¯æ— æ³•é‡å»ºäºŒå‰æ ‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åšä¸€äº›å°æ‰‹æ®µï¼Œåœ¨åºåˆ—åŒ–èŠ‚ç‚¹ä¸ºç©ºçš„æ—¶å€™åŠ å…¥<code>null</code>å­—ç¬¦ï¼Œè¿™æ ·å·¦å³èŠ‚ç‚¹å°±ä¼šè¢«è¿ç»­çš„ä¸¤ä¸ª<code>[null,null]</code>åˆ†éš”å¼€ï¼Œæ–¹ä¾¿é‡å»º</p>
<blockquote>
<p>eg.  ç¤ºä¾‹ä¸€ï¼š  1,2,null,null,3,4,null,null,5,null,null</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">node</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="string">"null"</span>.equals(str)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(Integer.valueOf(str));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root.val+<span class="string">","</span>+serialize(root.left)+<span class="string">","</span>+serialize(root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">""</span>.equals(data)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String[] dataTree=data.split(<span class="string">","</span>);</span><br><span class="line">    Queue&lt;String&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(dataTree));</span><br><span class="line">    <span class="keyword">return</span> deserialize(queue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(Queue&lt;String&gt; queue)</span></span>&#123;</span><br><span class="line">    String val=queue.poll();</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"null"</span>.equals(val)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode root=node(val);</span><br><span class="line">    root.left=deserialize(queue);</span><br><span class="line">    root.right=deserialize(queue);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¡¥å……ä¸€ä¸ªgoçš„å†™æ³•ï¼Œå’Œè§£æ³•äºŒçš„æ€è·¯æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Codec <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">Codec</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Codec&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serializes a tree to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">serialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"nil"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strconv.Itoa(root.Val) + <span class="string">","</span> + this.serialize(root.Left) + <span class="string">","</span> + this.serialize(root.Right)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deserializes your encoded data to tree.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">deserialize</span><span class="params">(data <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    queue := strings.Split(data, <span class="string">","</span>)</span><br><span class="line">    <span class="keyword">return</span> this.des(&amp;queue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">des</span><span class="params">(queue *[]<span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(*queue) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur := (*queue)[<span class="number">0</span>]</span><br><span class="line">    *queue = (*queue)[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">if</span> cur == <span class="string">"nil"</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    val, _ := strconv.Atoi(cur)</span><br><span class="line">    root := &amp;TreeNode&#123;Val: val&#125;</span><br><span class="line">    root.Left = this.des(queue)</span><br><span class="line">    root.Right = this.des(queue)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"><a href="#449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘" class="headerlink" title="449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/serialize-and-deserialize-bst/" target="_blank" rel="noopener">449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</a></h2><p>åºåˆ—åŒ–æ˜¯å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢ä¸ºä¸€ç³»åˆ—ä½çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶æˆ–å†…å­˜ç¼“å†²åŒºä¸­ï¼Œæˆ–é€šè¿‡ç½‘ç»œè¿æ¥é“¾è·¯ä¼ è¾“ï¼Œä»¥ä¾¿ç¨ååœ¨åŒä¸€ä¸ªæˆ–å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒä¸­é‡å»ºã€‚</p>
<p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘ã€‚ å¯¹åºåˆ—åŒ–/ååºåˆ—åŒ–ç®—æ³•çš„å·¥ä½œæ–¹å¼æ²¡æœ‰é™åˆ¶ã€‚ æ‚¨åªéœ€ç¡®ä¿äºŒå‰æœç´¢æ ‘å¯ä»¥åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥å°†è¯¥å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºæœ€åˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>ç¼–ç çš„å­—ç¬¦ä¸²åº”å°½å¯èƒ½ç´§å‡‘ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> ä¸è¦ä½¿ç”¨ç±»æˆå‘˜/å…¨å±€/é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ã€‚ ä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é¢˜ç›®è¯´ <code>ç¼–ç çš„å­—ç¬¦ä¸²åº”å°½å¯èƒ½ç´§å‡‘</code>ï¼Œæ‰€ä»¥ç›´æ¥æŠŠä¸Šé¢297çš„æ¬è¿‡æ¥å…¶å®ä¸å¤ªå¥½ï¼Œå› ä¸ºä¼šæœ‰å¾ˆå¤šnullå­—ç¬¦ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰ç”¨åˆ°é¢˜ç›®äºŒ<code>bst</code>çš„æ¡ä»¶ï¼Œ<code>bst</code>åªéœ€è¦çŸ¥é“ä¸€ä¸ªå‰åºæˆ–è€…ååºå°±å¯ä»¥è¿˜åŸæ•´æ£µæ ‘ï¼Œé¢˜ç›®å°±å˜æˆäº†æ ¹æ®<code>å‰åº/ååº</code>å’Œ<code>ä¸­åº</code>è¿˜åŸäºŒå‰æ ‘</p>
<p><code>golang</code>æ–°æ‰‹ï¼Œç”¨<code>golang</code>å†™äº†ä¸€å‘ï¼Œæ„Ÿè§‰å†™å¤æ‚äº†ï¼ˆå®˜æ–¹è§£æ³•ä¸­è¿˜æœ‰æ›´åŠ æ¿€è¿›çš„å‹ç¼©ç¼–ç çš„æ–¹å¼ï¼Œæ„Ÿè§‰æœ‰ç‚¹åäº†ï¼‰</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Codec <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">Codec</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Codec&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serializes a tree to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">serialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> queue []<span class="keyword">string</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        queue = <span class="built_in">append</span>(queue, strconv.Itoa(root.Val))</span><br><span class="line">        dfs(root.Left)</span><br><span class="line">        dfs(root.Right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> strings.Join(queue, <span class="string">","</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deserializes your encoded data to tree.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">deserialize</span><span class="params">(data <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> data == <span class="string">""</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//fmt.Println(data)</span></span><br><span class="line">    queue := strings.Split(data, <span class="string">","</span>)</span><br><span class="line">    inOrder := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(queue))</span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> queue &#123;</span><br><span class="line">        inOrder[i], _ = strconv.Atoi(v)</span><br><span class="line">    &#125;</span><br><span class="line">    preOrder := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(inOrder))</span><br><span class="line">    <span class="built_in">copy</span>(preOrder, inOrder)</span><br><span class="line">    sort.Ints(inOrder)</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(preOrder, inOrder []<span class="keyword">int</span>)</span> *<span class="title">TreeNode</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(preOrder, inOrder []<span class="keyword">int</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(inOrder) == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">        root := &amp;TreeNode&#123;Val: preOrder[<span class="number">0</span>]&#125;</span><br><span class="line">        rootIdx := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, v := <span class="keyword">range</span> inOrder &#123;</span><br><span class="line">            <span class="keyword">if</span> v == preOrder[<span class="number">0</span>] &#123;</span><br><span class="line">                rootIdx = i</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        root.Left = dfs(preOrder[<span class="number">1</span>:rootIdx+<span class="number">1</span>], inOrder[:rootIdx])</span><br><span class="line">        root.Right = dfs(preOrder[rootIdx+<span class="number">1</span>:], inOrder[rootIdx+<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(preOrder, inOrder)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><a href="#é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—" class="headerlink" title="é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"></a><a href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p>
<p>å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">6</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>æ•°ç»„é•¿åº¦ &lt;= 1000</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ ¸å¿ƒåœ¨äºæ„è¯†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verifyPostorder</span><span class="params">(<span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(postorder==<span class="keyword">null</span> || postorder.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> verify(postorder,<span class="number">0</span>,postorder.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verify</span><span class="params">(<span class="keyword">int</span>[] postorder,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;=right) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">int</span> root=postorder[right];</span><br><span class="line">    <span class="comment">//WAç‚¹,è¿™é‡Œè¦è®¾ç½®æˆleft-1é˜²æ­¢æ²¡æœ‰å·¦å­æ ‘çš„æƒ…å†µ,æ¯”å¦‚5 4 3 2 1</span></span><br><span class="line">    <span class="comment">//è¿™æ ·å¯ä»¥è·³è¿‡ç¬¬äºŒä¸ªå¾ªç¯å¹¶ä¸”ä¸ç”¨é€’å½’éªŒè¯å·¦å­æ ‘</span></span><br><span class="line">    <span class="keyword">int</span> index=left-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=right-<span class="number">1</span>;i&gt;=left;i--)&#123; <span class="comment">//ä»åå¾€å‰æ‰¾ç¬¬ä¸€ä¸ªå°äºroot</span></span><br><span class="line">        <span class="keyword">if</span>(postorder[i]&lt;root)&#123;</span><br><span class="line">            index=i; <span class="comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äºrootçš„,ä½œä¸ºå·¦å­æ ‘çš„æ ¹</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­å·¦å­æ ‘æ˜¯å¦éƒ½æ˜¯å°äºrootçš„</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=index;i&gt;=left;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(postorder[i]&gt;root)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’éªŒè¯å·¦å³å­æ ‘</span></span><br><span class="line">    <span class="keyword">return</span> verify(postorder,left,index) &amp;&amp; verify(postorder,index+<span class="number">1</span>,right-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜WAäº†3å‘ï¼Œå‰ä¸¤å‘æ˜¯ä»£ç é€»è¾‘çš„é—®é¢˜ï¼Œæƒ³ç®€åŒ–ä»£ç ï¼Œç»“æœæŠŠè‡ªå·±å¸¦å‘é‡Œé¢å»äº†ï¼Œæœ€åä¸€æ¬¡æ˜¯å› ä¸ºä¸€ä¸ªå˜é‡è®¾ç½®çš„é—®é¢˜ï¼Œä»£ç ä¸­å·²ç»æ³¨é‡Š</p>
<p><strong>UPDATE: 2020.7.14</strong></p>
<p>é‡å†™äº†ä¸‹ï¼Œè¿™æ ·å†™å°±ä¸ä¼šæœ‰å¥‡æ€ªçš„WAç‚¹äº†ï¼Œè¿˜æ˜¯è¦å¤šæ³¨æ„ç»†èŠ‚å’Œè¾¹ç•Œ</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">verifyPostorder</span><span class="params">(post []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(post, <span class="number">0</span>, <span class="built_in">len</span>(post)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(post[] <span class="keyword">int</span>, left <span class="keyword">int</span>, right <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> left&gt;=right&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> p = right<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> p &gt;= left &amp;&amp; post[p] &gt; post[right]&#123;</span><br><span class="line">        p--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := p; i &gt;= left; i--&#123;</span><br><span class="line">        <span class="keyword">if</span> post[i] &gt; post[right]&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(post, left, p) &amp;&amp; dfs(post, p+<span class="number">1</span>,right<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å•è°ƒæ ˆçš„è§£æ³•ï¼Œæ”¾åœ¨<a href="http://imlgw.top/2019/10/01/leetcode-zhan-dui-lie/#%E9%9D%A2%E8%AF%95%E9%A2%9833-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97">å•è°ƒæ ˆä¸“é¢˜</a>ä¸­</p>
<h2 id="654-æœ€å¤§äºŒå‰æ ‘"><a href="#654-æœ€å¤§äºŒå‰æ ‘" class="headerlink" title="654. æœ€å¤§äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/maximum-binary-tree/" target="_blank" rel="noopener">654. æœ€å¤§äºŒå‰æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ã€‚ä¸€ä¸ªä»¥æ­¤æ•°ç»„æ„å»ºçš„æœ€å¤§äºŒå‰æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ol>
<li>äºŒå‰æ ‘çš„æ ¹æ˜¯æ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ ã€‚</li>
<li>å·¦å­æ ‘æ˜¯é€šè¿‡æ•°ç»„ä¸­æœ€å¤§å€¼å·¦è¾¹éƒ¨åˆ†æ„é€ å‡ºçš„æœ€å¤§äºŒå‰æ ‘ã€‚</li>
<li>å³å­æ ‘æ˜¯é€šè¿‡æ•°ç»„ä¸­æœ€å¤§å€¼å³è¾¹éƒ¨åˆ†æ„é€ å‡ºçš„æœ€å¤§äºŒå‰æ ‘ã€‚</li>
</ol>
<p>é€šè¿‡ç»™å®šçš„æ•°ç»„æ„å»ºæœ€å¤§äºŒå‰æ ‘ï¼Œå¹¶ä¸”è¾“å‡ºè¿™ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ä¸‹é¢è¿™æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼š</span><br><span class="line">	  <span class="number">6</span></span><br><span class="line">	/   \</span><br><span class="line">   <span class="number">3</span>     <span class="number">5</span></span><br><span class="line">    \    / </span><br><span class="line">     <span class="number">2</span>  <span class="number">0</span>   </span><br><span class="line">       \</span><br><span class="line">        <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>ç»™å®šçš„æ•°ç»„çš„å¤§å°åœ¨ [1, 1000] ä¹‹é—´ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸åšé¢„å¤„ç†,ç›´æ¥æœç´¢2ms,æˆ‘è¿™ä¸ª50ms+.....æ‡’å¾—æ”¹çš„å°±å½“ç»ƒæ‰‹äº†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">constructMaximumBinaryTree</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n=nums.length;</span><br><span class="line">    <span class="keyword">int</span>[][] max=<span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        max[i][i]=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">            max[i][j]=nums[j]&gt;nums[max[i][j-<span class="number">1</span>]]?j:max[i][j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(nums,<span class="number">0</span>,n-<span class="number">1</span>,max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right,<span class="keyword">int</span>[][] max)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;right) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> maxIdx=max[left][right];</span><br><span class="line">    TreeNode root=<span class="keyword">new</span> TreeNode(nums[maxIdx]);</span><br><span class="line">    root.left=dfs(nums,left,maxIdx-<span class="number">1</span>,max);</span><br><span class="line">    root.right=dfs(nums,maxIdx+<span class="number">1</span>,right,max);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ…¢çš„ä¸»è¦åŸå› æ˜¯æ„å»ºè¿™ä¸ªæ ‘çš„è¯å¤§æ¦‚åªä¼šæŸ¥è¯¢logNæ¬¡ï¼ˆæ ‘é«˜åº¦ï¼‰æœ€å¤§å€¼ï¼Œè€Œæ¯å±‚æŸ¥è¯¢çš„å¤æ‚åº¦å’Œä¸ºNï¼Œæ‰€ä»¥æ•´ä½“çš„å¤æ‚åº¦å…¶å®åªè¦O(NlogN)ï¼Œé™¤éæ•°ç»„å®Œå…¨æœ‰åºï¼Œè¿™æ ·æ¯æ¬¡åˆ†å‰²éƒ½åŠå…¶ä¸å‡åŒ€ï¼Œæ•°çš„é«˜åº¦ä¸ºNæ—¶é—´å¤æ‚åº¦æ‰ä¼šåˆ°N^2ï¼Œè€Œæˆ‘è¿™ä¸ªå°±ç›´æ¥æ˜¯N^2äº†hhhhhï¼Œå¤ªèœäº†ï¼Œé¢„å¤„ç†çš„æ€æƒ³æ˜¯å¥½çš„ï¼Œä½†æ˜¯è¿˜æ˜¯è¦çœ‹å…·ä½“çš„é¢˜ç›®ï¼Œè¿™é‡Œå…¶å®å¾ˆå¤šçš„åŒºé—´å€¼éƒ½ç”¨ä¸ä¸Šï¼ˆé™¤éæçº¿æ®µæ ‘ğŸ¤£</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™é¢˜ä¹Ÿå¯ä»¥ç”¨å•è°ƒæ ˆåšï¼Œæ˜å¤©å†™ï¼Œè¿™é¢˜è¿˜æœ‰ä¸ª2ï¼Œæ˜å¤©ä¸€èµ·åšäº†</p>
<h2 id="998-æœ€å¤§äºŒå‰æ ‘-II"><a href="#998-æœ€å¤§äºŒå‰æ ‘-II" class="headerlink" title="998. æœ€å¤§äºŒå‰æ ‘ II"></a><a href="https://leetcode-cn.com/problems/maximum-binary-tree-ii/" target="_blank" rel="noopener">998. æœ€å¤§äºŒå‰æ ‘ II</a></h2><p>é¢˜ç›®æè¿°å¾ˆè¾£é¸¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯åœ¨<code>æœ€å¤§äºŒå‰æ ‘A</code>çš„å³è¾¹æ’å…¥ä¸€ä¸ªvalï¼Œä»ç„¶æ˜¯æœ€å¤§äºŒå‰æ ‘</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">insertIntoMaxTree</span><span class="params">(TreeNode root, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.val&gt;val)&#123;</span><br><span class="line">        root.right=insertIntoMaxTree(root.right,val);    </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode newRoot=<span class="keyword">new</span> TreeNode(val);</span><br><span class="line">    newRoot.left=root;</span><br><span class="line">    <span class="keyword">return</span> newRoot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="652-å¯»æ‰¾é‡å¤çš„å­æ ‘"><a href="#652-å¯»æ‰¾é‡å¤çš„å­æ ‘" class="headerlink" title="652. å¯»æ‰¾é‡å¤çš„å­æ ‘"></a><a href="https://leetcode-cn.com/problems/find-duplicate-subtrees/" target="_blank" rel="noopener">652. å¯»æ‰¾é‡å¤çš„å­æ ‘</a></h2><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œè¿”å›æ‰€æœ‰é‡å¤çš„å­æ ‘ã€‚å¯¹äºåŒä¸€ç±»çš„é‡å¤å­æ ‘ï¼Œä½ åªéœ€è¦è¿”å›å…¶ä¸­ä»»æ„<strong>ä¸€æ£µ</strong>çš„æ ¹ç»“ç‚¹å³å¯ã€‚</p>
<p>ä¸¤æ£µæ ‘é‡å¤æ˜¯æŒ‡å®ƒä»¬å…·æœ‰ç›¸åŒçš„ç»“æ„ä»¥åŠç›¸åŒçš„ç»“ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"> /   / \</span><br><span class="line"><span class="number">4</span>   <span class="number">2</span>   <span class="number">4</span></span><br><span class="line">   /</span><br><span class="line">  <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸¤ä¸ªé‡å¤çš„å­æ ‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">2</span></span><br><span class="line"> /</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>å’Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œä½ éœ€è¦ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›ä¸Šè¿°é‡å¤å­æ ‘çš„æ ¹ç»“ç‚¹ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>åšäº†å¿˜äº†åŠ ä¸Šäº†ï¼Œåºåˆ—åŒ–å­æ ‘ï¼Œç”¨å“ˆå¸Œè¡¨åˆ¤é‡å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HashMap&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;TreeNode&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">findDuplicateSubtrees</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">//return "#null";</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"null"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//String key="#"+root.val+dfs(root.left)+dfs(root.right);</span></span><br><span class="line">    String key=root.val+dfs(root.left)+dfs(root.right);</span><br><span class="line">    <span class="keyword">int</span> count=map.getOrDefault(key,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(count==<span class="number">1</span>)&#123;</span><br><span class="line">        res.add(root);</span><br><span class="line">    &#125;</span><br><span class="line">    map.put(key,count+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> key;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é¢˜å°‘äº†caseï¼Œä¸åŠ åˆ†éš”ç¬¦ä¹Ÿèƒ½Aï¼Œæˆ‘ä»¥ä¸ºä¼šå¡è¿™ä¸ªï¼Œè¯•äº†ä¸‹ç»“æœæ²¡å¡ï¼Œ100ç§¯åˆ†åˆ°æ‰‹ ==&gt;  <a href="https://github.com/LeetCode-Feedback/LeetCode-Feedback/issues/284" target="_blank" rel="noopener">issue</a> </p>
</blockquote>
<h2 id="653-ä¸¤æ•°ä¹‹å’Œ-IV-è¾“å…¥-BST"><a href="#653-ä¸¤æ•°ä¹‹å’Œ-IV-è¾“å…¥-BST" class="headerlink" title="653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST"></a><a href="https://leetcode-cn.com/problems/two-sum-iv-input-is-a-bst/" target="_blank" rel="noopener">653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘å’Œä¸€ä¸ªç›®æ ‡ç»“æœï¼Œå¦‚æœ BST ä¸­å­˜åœ¨ä¸¤ä¸ªå…ƒç´ ä¸”å®ƒä»¬çš„å’Œç­‰äºç»™å®šçš„ç›®æ ‡ç»“æœï¼Œåˆ™è¿”å› trueã€‚</p>
<p><strong>æ¡ˆä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">3</span>   <span class="number">6</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">2</span>   <span class="number">4</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">Target = <span class="number">9</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>

<p><strong>æ¡ˆä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">3</span>   <span class="number">6</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">2</span>   <span class="number">4</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">Target = <span class="number">28</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: False</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¼€å§‹è¿˜æƒ³ç€åœ¨logNçš„è§£æ³•ï¼Œå‘ç°å¥½åƒæä¸äº†ï¼Œè€Œä¸”è¿™æ˜¯ä¸ªeasyé¢˜ï¼Œæ‰€ä»¥è‚¯å®šå°±æ˜¯ç›´æ¥ä¸­åº+åŒæŒ‡é’ˆäº†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findTarget</span><span class="params">(root *TreeNode, k <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> inorder []<span class="keyword">int</span></span><br><span class="line">    dfs(root, &amp;inorder)</span><br><span class="line">    i, j := <span class="number">0</span>, <span class="built_in">len</span>(inorder)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> i &lt; j &#123;</span><br><span class="line">        <span class="keyword">if</span> inorder[i]+inorder[j] &lt; k &#123;</span><br><span class="line">            i++</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> inorder[i]+inorder[j] &gt; k &#123;</span><br><span class="line">            j--</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(root *TreeNode, inorder *[]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.Left, inorder)</span><br><span class="line">    *inorder = <span class="built_in">append</span>(*inorder, root.Val)</span><br><span class="line">    dfs(root.Right, inorder)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="872-å¶å­ç›¸ä¼¼çš„æ ‘"><a href="#872-å¶å­ç›¸ä¼¼çš„æ ‘" class="headerlink" title="872. å¶å­ç›¸ä¼¼çš„æ ‘"></a><a href="https://leetcode-cn.com/problems/leaf-similar-trees/" target="_blank" rel="noopener">872. å¶å­ç›¸ä¼¼çš„æ ‘</a></h2><p>è¯·è€ƒè™‘ä¸€é¢—äºŒå‰æ ‘ä¸Šæ‰€æœ‰çš„å¶å­ï¼Œè¿™äº›å¶å­çš„å€¼æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ’åˆ—å½¢æˆä¸€ä¸ª <em>å¶å€¼åºåˆ—</em> ã€‚</p>
<p><img src="https://s1.ax1x.com/2020/05/14/YDcL28.png" alt="YDcL28.png"></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»™å®šä¸€é¢—å¶å€¼åºåˆ—ä¸º <code>(6, 7, 4, 9, 8)</code> çš„æ ‘ã€‚</p>
<p>å¦‚æœæœ‰ä¸¤é¢—äºŒå‰æ ‘çš„å¶å€¼åºåˆ—æ˜¯ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬æ˜¯ <em>å¶ç›¸ä¼¼</em> çš„ã€‚</p>
<p>å¦‚æœç»™å®šçš„ä¸¤ä¸ªå¤´ç»“ç‚¹åˆ†åˆ«ä¸º <code>root1</code> å’Œ <code>root2</code> çš„æ ‘æ˜¯å¶ç›¸ä¼¼çš„ï¼Œåˆ™è¿”å› <code>true</code>ï¼›å¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>ç»™å®šçš„ä¸¤é¢—æ ‘å¯èƒ½ä¼šæœ‰ <code>1</code> åˆ° <code>200</code> ä¸ªç»“ç‚¹ã€‚</li>
<li>ç»™å®šçš„ä¸¤é¢—æ ‘ä¸Šçš„å€¼ä»‹äº <code>0</code> åˆ° <code>200</code> ä¹‹é—´ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ¢æˆ<code>StringBuilder</code>å¯èƒ½ä¼šå¿«ä¸€ç‚¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ²¡å•¥å¥½è¯´çš„</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">leafSimilar</span><span class="params">(TreeNode root1, TreeNode root2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root1==<span class="keyword">null</span> || root2==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> dfs(root1).equals(dfs(root2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"#"</span>+root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(root.left)+dfs(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“æ—¶çœ‹åˆ°è¿™é¢˜å°±ç€ä¼šä¸ä¼šåˆæœ‰caseé—æ¼ï¼Œæ¯”å¦‚ä¸åŠ åˆ†éš”ç¬¦ä»€ä¹ˆçš„ï¼Œç»“æœçœ‹åˆ°githubå·²ç»æœ‰äººå…ˆæ‰‹æäº¤äº†</p>
</blockquote>
<h2 id="5398-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"><a href="#5398-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®" class="headerlink" title="5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/count-good-nodes-in-binary-tree/" target="_blank" rel="noopener">5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</a></h2><p>ç»™ä½ ä¸€æ£µæ ¹ä¸º <code>root</code> çš„äºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®ã€‚</p>
<p>ã€Œå¥½èŠ‚ç‚¹ã€X å®šä¹‰ä¸ºï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹ X æ‰€ç»è¿‡çš„èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•èŠ‚ç‚¹çš„å€¼å¤§äº X çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/17/YREc7j.png" alt="YREc7j.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­è“è‰²èŠ‚ç‚¹ä¸ºå¥½èŠ‚ç‚¹ã€‚</span><br><span class="line">æ ¹èŠ‚ç‚¹ (<span class="number">3</span>) æ°¸è¿œæ˜¯ä¸ªå¥½èŠ‚ç‚¹ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">4</span> -&gt; (<span class="number">3</span>,<span class="number">4</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">5</span> -&gt; (<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br><span class="line">èŠ‚ç‚¹ <span class="number">3</span> -&gt; (<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>) æ˜¯è·¯å¾„ä¸­çš„æœ€å¤§å€¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/17/YREukR.png" alt="YREukR.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">3</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šèŠ‚ç‚¹ <span class="number">2</span> -&gt; (<span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>) ä¸æ˜¯å¥½èŠ‚ç‚¹ï¼Œå› ä¸º <span class="string">"3"</span> æ¯”å®ƒå¤§ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šæ ¹èŠ‚ç‚¹æ˜¯å¥½èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>äºŒå‰æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ <code>[1, 10^5]</code> ã€‚</li>
<li>æ¯ä¸ªèŠ‚ç‚¹æƒå€¼çš„èŒƒå›´æ˜¯ <code>[-10^4, 10^4]</code> ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>26thåŒå‘¨èµ›çš„t3ï¼Œæ°´é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">goodNodes</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    dfs(root,root.val);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">int</span> max)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(max&lt;=root.val)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        max=root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root.left,max);</span><br><span class="line">    dfs(root.right,max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="669-ä¿®å‰ªäºŒå‰æœç´¢æ ‘"><a href="#669-ä¿®å‰ªäºŒå‰æœç´¢æ ‘" class="headerlink" title="669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/trim-a-binary-search-tree/" target="_blank" rel="noopener">669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼ŒåŒæ—¶ç»™å®šæœ€å°è¾¹ç•Œ<code>L</code> å’Œæœ€å¤§è¾¹ç•Œ <code>R</code>ã€‚é€šè¿‡ä¿®å‰ªäºŒå‰æœç´¢æ ‘ï¼Œä½¿å¾—æ‰€æœ‰èŠ‚ç‚¹çš„å€¼åœ¨<code>[L, R]</code>ä¸­ (R&gt;=L) ã€‚ä½ å¯èƒ½éœ€è¦æ”¹å˜æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç»“æœåº”å½“è¿”å›ä¿®å‰ªå¥½çš„äºŒå‰æœç´¢æ ‘çš„æ–°çš„æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    1</span><br><span class="line">   &#x2F; \</span><br><span class="line">  0   2</span><br><span class="line"></span><br><span class="line">  L &#x3D; 1</span><br><span class="line">  R &#x3D; 2</span><br><span class="line"></span><br><span class="line">è¾“å‡º: </span><br><span class="line">    1</span><br><span class="line">      \</span><br><span class="line">       2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">    <span class="number">3</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">0</span>   <span class="number">4</span></span><br><span class="line">   \</span><br><span class="line">    <span class="number">2</span></span><br><span class="line">   /</span><br><span class="line">  <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  L = <span class="number">1</span></span><br><span class="line">  R = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: </span><br><span class="line">      <span class="number">3</span></span><br><span class="line">     / </span><br><span class="line">   <span class="number">2</span>   </span><br><span class="line">  /</span><br><span class="line"> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ²¡å•¥å¥½è¯´çš„ï¼Œé€’å½’ååºéå†å°±å®Œäº‹äº†ï¼Œæ ‘çš„é¢˜è¿˜æ˜¯æŒºå¥—è·¯çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">trimBST</span><span class="params">(TreeNode root, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    root.left=trimBST(root.left,L,R);</span><br><span class="line">    root.right=trimBST(root.right,L,R);</span><br><span class="line">    <span class="comment">//root.val&lt;L,å·¦å­æ ‘å…¨éƒ¨å°äºL</span></span><br><span class="line">    <span class="keyword">if</span>(root.val&lt;L)&#123;</span><br><span class="line">        <span class="keyword">return</span> root.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.val&gt;R)&#123;</span><br><span class="line">        <span class="keyword">return</span> root.left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="814-äºŒå‰æ ‘å‰ªæ"><a href="#814-äºŒå‰æ ‘å‰ªæ" class="headerlink" title="814. äºŒå‰æ ‘å‰ªæ"></a><a href="https://leetcode-cn.com/problems/binary-tree-pruning/" target="_blank" rel="noopener">814. äºŒå‰æ ‘å‰ªæ</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™å®šäºŒå‰æ ‘æ ¹ç»“ç‚¹Â <code>root</code>Â ï¼Œæ­¤å¤–æ ‘çš„æ¯ä¸ªç»“ç‚¹çš„å€¼è¦ä¹ˆæ˜¯ 0ï¼Œè¦ä¹ˆæ˜¯ 1ã€‚</p>
<p>è¿”å›ç§»é™¤äº†æ‰€æœ‰ä¸åŒ…å« 1 çš„å­æ ‘çš„åŸäºŒå‰æ ‘ã€‚</p>
<p>( èŠ‚ç‚¹ X çš„å­æ ‘ä¸º X æœ¬èº«ï¼Œä»¥åŠæ‰€æœ‰ X çš„åä»£ã€‚)</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">ç¤ºä¾‹<span class="number">1</span>:</span><br><span class="line">è¾“å…¥: [<span class="number">1</span>,null,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,null,<span class="number">0</span>,null,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Š: </span><br><span class="line">åªæœ‰çº¢è‰²èŠ‚ç‚¹æ»¡è¶³æ¡ä»¶â€œæ‰€æœ‰ä¸åŒ…å« <span class="number">1</span> çš„å­æ ‘â€ã€‚</span><br><span class="line">å³å›¾ä¸ºè¿”å›çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">ç¤ºä¾‹<span class="number">2</span>:</span><br><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,null,<span class="number">1</span>,null,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">ç¤ºä¾‹<span class="number">3</span>:</span><br><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,null,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>  ç»™å®šçš„äºŒå‰æ ‘æœ€å¤šæœ‰Â <code>100</code>Â ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>  æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åªä¼šä¸ºÂ <code>0</code> æˆ–Â <code>1</code>Â ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢å·®ä¸å¤šï¼Œæ„Ÿè§‰åº”è¯¥æ˜¯æ˜¯easyã€‚ã€‚ã€‚</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> * Â  Â  Val int</span></span><br><span class="line"><span class="comment"> * Â  Â  Left *TreeNode</span></span><br><span class="line"><span class="comment"> * Â  Â  Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pruneTree</span><span class="params">(root *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">if</span> root == <span class="literal">nil</span>&#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â root.Left = pruneTree(root.Left)</span><br><span class="line"> Â  Â root.Right = pruneTree(root.Right)</span><br><span class="line"> Â  Â <span class="keyword">if</span> root.Left == <span class="literal">nil</span> &amp;&amp; root.Right==<span class="literal">nil</span> &amp;&amp; root.Val == <span class="number">0</span>&#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="965-å•å€¼äºŒå‰æ ‘"><a href="#965-å•å€¼äºŒå‰æ ‘" class="headerlink" title="965. å•å€¼äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/univalued-binary-tree/" target="_blank" rel="noopener">965. å•å€¼äºŒå‰æ ‘</a></h2><p>é¢˜ç›®å°±ä¸copyäº†ï¼ŒäºŒå‰æ ‘åªæœ‰ä¸€ä¸ªå€¼ï¼Œæ°´é¢˜</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUnivalTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(root,root.val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> root.val==val &amp;&amp; dfs(root.left,val) &amp;&amp; dfs(root.right,val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1145-äºŒå‰æ ‘ç€è‰²æ¸¸æˆ"><a href="#1145-äºŒå‰æ ‘ç€è‰²æ¸¸æˆ" class="headerlink" title="1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ"></a><a href="https://leetcode-cn.com/problems/binary-tree-coloring-game/" target="_blank" rel="noopener">1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</a></h2><p>æœ‰ä¸¤ä½æå®¢ç©å®¶å‚ä¸äº†ä¸€åœºã€ŒäºŒå‰æ ‘ç€è‰²ã€çš„æ¸¸æˆã€‚æ¸¸æˆä¸­ï¼Œç»™å‡ºäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œæ ‘ä¸Šæ€»å…±æœ‰ <code>n</code> ä¸ªèŠ‚ç‚¹ï¼Œä¸” <code>n</code> ä¸ºå¥‡æ•°ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„å€¼ä» <code>1</code> åˆ° <code>n</code> å„ä¸ç›¸åŒã€‚</p>
<p>æ¸¸æˆä»ã€Œä¸€å·ã€ç©å®¶å¼€å§‹ï¼ˆã€Œä¸€å·ã€ç©å®¶ä¸ºçº¢è‰²ï¼Œã€ŒäºŒå·ã€ç©å®¶ä¸ºè“è‰²ï¼‰ï¼Œæœ€å¼€å§‹æ—¶ï¼Œ</p>
<p>ã€Œä¸€å·ã€ç©å®¶ä» <code>[1, n]</code> ä¸­å–ä¸€ä¸ªå€¼ <code>x</code>ï¼ˆ<code>1 &lt;= x &lt;= n</code>ï¼‰ï¼›</p>
<p>ã€ŒäºŒå·ã€ç©å®¶ä¹Ÿä» <code>[1, n]</code> ä¸­å–ä¸€ä¸ªå€¼ <code>y</code>ï¼ˆ<code>1 &lt;= y &lt;= n</code>ï¼‰ä¸” <code>y != x</code>ã€‚</p>
<p>ã€Œä¸€å·ã€ç©å®¶ç»™å€¼ä¸º <code>x</code> çš„èŠ‚ç‚¹æŸ“ä¸Šçº¢è‰²ï¼Œè€Œã€ŒäºŒå·ã€ç©å®¶ç»™å€¼ä¸º <code>y</code> çš„èŠ‚ç‚¹æŸ“ä¸Šè“è‰²ã€‚</p>
<p>ä¹‹åä¸¤ä½ç©å®¶è½®æµè¿›è¡Œæ“ä½œï¼Œæ¯ä¸€å›åˆï¼Œç©å®¶é€‰æ‹©ä¸€ä¸ªä»–ä¹‹å‰æ¶‚å¥½é¢œè‰²çš„èŠ‚ç‚¹ï¼Œå°†æ‰€é€‰èŠ‚ç‚¹ä¸€ä¸ª <strong>æœªç€è‰²</strong> çš„é‚»èŠ‚ç‚¹ï¼ˆå³å·¦å³å­èŠ‚ç‚¹ã€æˆ–çˆ¶èŠ‚ç‚¹ï¼‰è¿›è¡ŒæŸ“è‰²ã€‚</p>
<p>å¦‚æœå½“å‰ç©å®¶æ— æ³•æ‰¾åˆ°è¿™æ ·çš„èŠ‚ç‚¹æ¥æŸ“è‰²æ—¶ï¼Œä»–çš„å›åˆå°±ä¼šè¢«è·³è¿‡ã€‚</p>
<p>è‹¥ä¸¤ä¸ªç©å®¶éƒ½æ²¡æœ‰å¯ä»¥æŸ“è‰²çš„èŠ‚ç‚¹æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚ç€è‰²èŠ‚ç‚¹æœ€å¤šçš„é‚£ä½ç©å®¶è·å¾—èƒœåˆ© âœŒï¸ã€‚</p>
<p>ç°åœ¨ï¼Œå‡è®¾ä½ æ˜¯ã€ŒäºŒå·ã€ç©å®¶ï¼Œæ ¹æ®æ‰€ç»™å‡ºçš„è¾“å…¥ï¼Œå‡å¦‚å­˜åœ¨ä¸€ä¸ª <code>y</code> å€¼å¯ä»¥ç¡®ä¿ä½ èµ¢å¾—è¿™åœºæ¸¸æˆï¼Œåˆ™è¿”å› <code>true</code>ï¼›è‹¥æ— æ³•è·èƒœï¼Œå°±è¯·è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/25/tpXUW6.png" alt="tpXUW6.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>], n = <span class="number">11</span>, x = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼šTrue</span><br><span class="line">è§£é‡Šï¼šç¬¬äºŒä¸ªç©å®¶å¯ä»¥é€‰æ‹©å€¼ä¸º <span class="number">2</span> çš„èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ä¸º <code>root</code>ï¼Œæ ‘ä¸Šç”± <code>n</code> ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ä¸Šçš„å€¼ä» <code>1</code> åˆ° <code>n</code> å„ä¸ç›¸åŒã€‚</li>
<li><code>n</code> ä¸ºå¥‡æ•°ã€‚</li>
<li><code>1 &lt;= x &lt;= n &lt;= 100</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç¬¬ä¸€ä¸ªé€‰æ‰‹é€‰æ‹©äº†ä¸€ä¸ªèŠ‚ç‚¹ä¹‹åï¼Œå°†äºŒå‰æ ‘å®é™…ä¸Šåˆ’åˆ†ä¸ºäº†3ä¸ªåŒºåŸŸï¼Œå·¦å­©å­åŒºåŸŸï¼Œå³å­©å­åŒºåŸŸï¼Œè¿˜æœ‰çˆ¶èŠ‚ç‚¹æ‰€åœ¨åŒºåŸŸï¼Œä¸‰ä¸ªåŒºåŸŸä»¥xä¸ºç•Œé™ï¼Œæ²¡æœ‰äº¤é›†ï¼Œç¬¬äºŒä¸ªé€‰æ‰‹éœ€è¦åœ¨ä¸‰ä¸ªåŒºåŸŸä¸­é€‰å–ä¸€ä¸ªåŒºåŸŸï¼Œä½¿è‡ªå·±èƒ½èµ¢ï¼Œå¾ˆæ˜æ˜¾æˆ‘ä»¬è‚¯å®šè¦é€‰æœ€å¤§çš„é‚£ä¸ªåŒºåŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æœ€å¤§çš„åŒºåŸŸæ˜¯å¦æ¯”å‰©ä¸‹å…¶ä»–éƒ¨åˆ†å’Œéƒ½è¦å¤§å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">btreeGameWinningMove</span><span class="params">(TreeNode root, <span class="keyword">int</span> n, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    dfs(root,x,n);</span><br><span class="line">    <span class="keyword">return</span> max&gt;n-max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">int</span> x,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left=dfs(root.left,x,n);</span><br><span class="line">    <span class="keyword">int</span> right=dfs(root.right,x,n);</span><br><span class="line">    <span class="keyword">if</span>(root.val==x)&#123;</span><br><span class="line">        max=Math.max(left,max);</span><br><span class="line">        max=Math.max(right,max);</span><br><span class="line">        max=Math.max(n-left-right-<span class="number">1</span>,max);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left+right+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="993-äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹"><a href="#993-äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹" class="headerlink" title="993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹"></a><a href="https://leetcode-cn.com/problems/cousins-in-binary-tree/" target="_blank" rel="noopener">993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</a></h2><p>åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ ¹èŠ‚ç‚¹ä½äºæ·±åº¦ <code>0</code> å¤„ï¼Œæ¯ä¸ªæ·±åº¦ä¸º <code>k</code> çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä½äºæ·±åº¦ <code>k+1</code> å¤„ã€‚</p>
<p>å¦‚æœäºŒå‰æ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹æ·±åº¦ç›¸åŒï¼Œä½†<strong>çˆ¶èŠ‚ç‚¹ä¸åŒ</strong>ï¼Œåˆ™å®ƒä»¬æ˜¯ä¸€å¯¹<em>å ‚å…„å¼ŸèŠ‚ç‚¹</em>ã€‚</p>
<p>æˆ‘ä»¬ç»™å‡ºäº†å…·æœ‰å”¯ä¸€å€¼çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œä»¥åŠæ ‘ä¸­ä¸¤ä¸ªä¸åŒèŠ‚ç‚¹çš„å€¼ <code>x</code> å’Œ <code>y</code>ã€‚</p>
<p>åªæœ‰ä¸å€¼ <code>x</code> å’Œ <code>y</code> å¯¹åº”çš„èŠ‚ç‚¹æ˜¯å ‚å…„å¼ŸèŠ‚ç‚¹æ—¶ï¼Œæ‰è¿”å› <code>true</code>ã€‚å¦åˆ™ï¼Œè¿”å› <code>false</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/06/05/tsO8yR.png" alt="tsO8yR.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], x = <span class="number">4</span>, y = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/06/05/tsOYex.png" alt="tsOYex.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">5</span>], x = <span class="number">5</span>, y = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/06/05/tsOaFO.png" alt="tsOaFO.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>], x = <span class="number">2</span>, y = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ä»‹äº <code>2</code> åˆ° <code>100</code> ä¹‹é—´ã€‚</li>
<li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€èŒƒå›´ä¸º <code>1</code> åˆ° <code>100</code> çš„æ•´æ•°ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>äºŒå‰æ ‘æ°´é¢˜ï¼ˆ3å¤©æ²¡åˆ·æ–°é¢˜äº†ï¼Œå†ä¸åˆ·å‡ é“å®åœ¨æ˜¯è¯´ä¸è¿‡å…¶äº†ï¼Œåˆ·é¢˜è¿˜æ˜¯è¦ä¿æŒæ‰‹æ„Ÿå•Šï¼‰</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isCousins</span><span class="params">(root *TreeNode, x <span class="keyword">int</span>, y <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> depX = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">var</span> pX *TreeNode</span><br><span class="line">    <span class="keyword">var</span> depY = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">var</span> pY *TreeNode</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root, parent *TreeNode, x, y <span class="keyword">int</span>, depth <span class="keyword">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root, parent *TreeNode, x, y <span class="keyword">int</span>, depth <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123; <span class="comment">//æŒ‰é¢˜ç›®è¯´çš„è¿™é‡Œå…¶å®ä¸éœ€è¦</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> root.Val == x &#123;</span><br><span class="line">            depX = depth</span><br><span class="line">            pX = parent</span><br><span class="line">            <span class="comment">//ç»“æŸè¯¥å­æ ‘çš„æœç´¢ï¼ŒåŠ å¿«é€Ÿåº¦ï¼Œä¸‹é¢å³ä½¿æœ‰Yä¹Ÿè‚¯å®šä¸æ˜¯Xçš„å ‚å…„å¼Ÿ</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> root.Val == y &#123;</span><br><span class="line">            depY = depth</span><br><span class="line">            pY = parent</span><br><span class="line">            <span class="comment">//åŒä¸Š</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.Left, root, x, y, depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root.Right, root, x, y, depth+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root, <span class="literal">nil</span>, x, y, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> pX != pY &amp;&amp; depX == depY</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸€ä¸ªå°çš„ä¼˜åŒ–ç‚¹è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå°±æ˜¯returnçš„åœ°æ–¹ï¼Œä¸€å¼€å§‹æ²¡è€ƒè™‘è¿™ä¹ˆå¤šï¼ŒACäº†ä¹‹åæ„Ÿè§‰ä¸å¯¹ï¼Œæ˜¯ä¸æ˜¯LCåˆå°‘CASEäº†ï¼Œç»“æœä»”ç»†ä¸€æƒ³å‘ç°è¿™é‡Œæ˜¯ä¸ªä¼˜åŒ–ç‚¹ğŸ˜</p>
<h2 id="440-å­—å…¸åºçš„ç¬¬Kå°æ•°å­—"><a href="#440-å­—å…¸åºçš„ç¬¬Kå°æ•°å­—" class="headerlink" title="440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—"></a><a href="https://leetcode-cn.com/problems/k-th-smallest-in-lexicographical-order/" target="_blank" rel="noopener">440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—</a></h2><p>ç»™å®šæ•´æ•° <code>n</code> å’Œ <code>k</code>ï¼Œæ‰¾åˆ° <code>1</code> åˆ° <code>n</code> ä¸­å­—å…¸åºç¬¬ <code>k</code> å°çš„æ•°å­—ã€‚</p>
<p>æ³¨æ„ï¼š1 â‰¤ k â‰¤ n â‰¤ 1e9ã€‚</p>
<p><strong>ç¤ºä¾‹ :</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">n: <span class="number">13</span>   k: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">10</span></span><br><span class="line"></span><br><span class="line">è§£é‡Š:</span><br><span class="line">å­—å…¸åºçš„æ’åˆ—æ˜¯ [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]ï¼Œæ‰€ä»¥ç¬¬äºŒå°çš„æ•°å­—æ˜¯ <span class="number">10</span>ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹çœ‹äº†è¯„è®ºåŒºè¯´äº†10å‰æ ‘,ç„¶åæˆ‘å°±é¡ºç€è¿™ä¸ªæ€è·¯å»æƒ³äº†,ç„¶åå°±ç›´æ¥å»å‰åºéå†äº†,ç„¶åå°±Täº†,è¿™é‡Œçœ‹ä¸‹æ•°æ®èŒƒå›´å°±çŸ¥é“è‚¯å®šæ˜¯è¿‡ä¸äº†çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//TLE</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">9</span>;i++) &#123;</span><br><span class="line">        dfs(i,n,k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> idx=<span class="number">0</span>,res=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur,<span class="keyword">int</span> n,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(res!=-<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(cur&gt;n) <span class="keyword">return</span>;</span><br><span class="line">    idx++;</span><br><span class="line">    <span class="keyword">if</span>(k==idx)&#123;</span><br><span class="line">        res=cur;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++) &#123;</span><br><span class="line">        dfs(cur*<span class="number">10</span>+i,n,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ç›´æ¥éå†è‚¯å®šæ˜¯è¡Œä¸é€š,é‚£ä¹ˆå°±åªèƒ½æƒ³åŠæ³•è·³è¿‡ä¸€äº›èŠ‚ç‚¹,è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„ä¸ªæ•°æ¥åˆ¤æ–­ç¬¬kä¸ªæ˜¯ä¸æ˜¯åœ¨è¯¥èŠ‚ç‚¹ä¸‹,è€Œå­èŠ‚ç‚¹çš„ä¸ªæ•°å°±å¯ä»¥ç”¨<code>Min(n+1,next*10)-cur</code>è®¡ç®—å¾—åˆ°,<code>next</code>æ˜¯å’Œcurç›¸é‚»çš„èŠ‚ç‚¹,<code>n</code>æ˜¯æœ€å¤§å€¼,ç”»ä¸ªå›¾å°±æ‡‚äº†<br><img src="http://static.imlgw.top/blog/20200614/3WPecCGnzxQl.png?imageslim" alt="mark"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//UPDATE: 2020.7.29 ä¹‹å‰çš„ä»£ç ç»†èŠ‚æœ‰çš„ä¸å¥½ç†è§£ï¼Œé‡å†™äº†ä¸€ç‰ˆ</span></span><br><span class="line"><span class="comment">//æ­£è§£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findKthNumber</span><span class="params">(n <span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="comment">//kå’Œcountéƒ½æ˜¯ä»1å¼€å§‹</span></span><br><span class="line">    <span class="keyword">var</span> cur = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> k &gt; <span class="number">1</span> &#123;</span><br><span class="line">        count := getChild(cur, n)</span><br><span class="line">        <span class="keyword">if</span> count &lt; k &#123; <span class="comment">//ä¸åœ¨è¯¥èŠ‚ç‚¹ä¸‹ï¼Œåˆ‡æ¢æˆå…„å¼ŸèŠ‚ç‚¹</span></span><br><span class="line">            cur++ </span><br><span class="line">            k-=count</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">//åœ¨è¯¥èŠ‚ç‚¹ä¸‹ï¼Œåˆ‡æ¢æˆå­èŠ‚ç‚¹</span></span><br><span class="line">            cur *= <span class="number">10</span></span><br><span class="line">            k--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å‰èŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘ä¸ªå­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä»¥curå¼€å¤´çš„æœ‰å¤šå°‘ä¸ªï¼ˆåŒ…æ‹¬curï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getChild</span><span class="params">(cur <span class="keyword">int</span>, n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> next = cur+<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> cur &lt;= n &#123;</span><br><span class="line">        count += Min(n+<span class="number">1</span>, next) - cur</span><br><span class="line">        cur *= <span class="number">10</span></span><br><span class="line">        next *= <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="386-å­—å…¸åºæ’æ•°"><a href="#386-å­—å…¸åºæ’æ•°" class="headerlink" title="386. å­—å…¸åºæ’æ•°"></a><a href="https://leetcode-cn.com/problems/lexicographical-numbers/" target="_blank" rel="noopener">386. å­—å…¸åºæ’æ•°</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°Â n, è¿”å›ä»Â 1Â åˆ°Â nÂ çš„å­—å…¸é¡ºåºã€‚</p>
<p>ä¾‹å¦‚ï¼Œ</p>
<p>ç»™å®š n =1 3ï¼Œè¿”å› [1,10,11,12,13,2,3,4,5,6,7,8,9] ã€‚</p>
<p>è¯·å°½å¯èƒ½çš„ä¼˜åŒ–ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ã€‚ è¾“å…¥çš„æ•°æ®Â nÂ å°äºç­‰äºÂ 5,000,000ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…ˆåšçš„ä¸Šé¢é‚£ä¸€é¢˜,å†åšè¿™ä¸€é¢˜å°±ç®€å•å¤šäº†,å‰é¢tleçš„æ–¹æ³•å°±æ˜¯è¿™é‡Œçš„æ­£è§£,åå‰æ ‘çš„å‰åºéå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">lexicalOrder</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">9</span>;i++)&#123;</span><br><span class="line">        dfs(i,n);   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur&gt;n) <span class="keyword">return</span>;</span><br><span class="line">    res.add(cur);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++)&#123;</span><br><span class="line">        dfs(cur*<span class="number">10</span>+i,n);   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1028-ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘"><a href="#1028-ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘" class="headerlink" title="1028. ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/recover-a-tree-from-preorder-traversal/" target="_blank" rel="noopener">1028. ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘</a></h2><p>æˆ‘ä»¬ä»äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ rootÂ å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p>
<p>åœ¨éå†ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å¤„ï¼Œæˆ‘ä»¬è¾“å‡ºÂ DÂ æ¡çŸ­åˆ’çº¿ï¼ˆå…¶ä¸­Â DÂ æ˜¯è¯¥èŠ‚ç‚¹çš„æ·±åº¦ï¼‰ï¼Œç„¶åè¾“å‡ºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚ï¼ˆå¦‚æœèŠ‚ç‚¹çš„æ·±åº¦ä¸º Dï¼Œåˆ™å…¶ç›´æ¥å­èŠ‚ç‚¹çš„æ·±åº¦ä¸º D + 1ã€‚æ ¹èŠ‚ç‚¹çš„æ·±åº¦ä¸º 0ï¼‰ã€‚</p>
<p>å¦‚æœèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¿è¯è¯¥å­èŠ‚ç‚¹ä¸ºå·¦å­èŠ‚ç‚¹ã€‚</p>
<p>ç»™å‡ºéå†è¾“å‡ºÂ Sï¼Œè¿˜åŸæ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹Â rootã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"1-2--3--4-5--6--7"</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"1-2--3---4-5--6---7"</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">7</span>]</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"1-401--349---90--88"</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">401</span>,<span class="keyword">null</span>,<span class="number">349</span>,<span class="number">88</span>,<span class="number">90</span>]</span><br></pre></td></tr></table></figure>
<p><strong>æç¤ºï¼š</strong><br>åŸå§‹æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä»‹äº 1 å’Œ 1000 ä¹‹é—´ã€‚<br>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº 1 å’Œ 10 ^ 9 ä¹‹é—´ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŠ„ç­”æ¡ˆï¼Œç¬¬ä¸€å¤©çœ‹äº†å‡ åˆ†é’Ÿï¼Œä¸€å¼€å§‹æƒ³å†™é€’å½’ï¼Œç›´æ¥çœ‹äº†ç­”æ¡ˆï¼Œç¬¬äºŒå¤©è¿˜æ˜¯æ²¡æœ‰å®Œæ•´çš„å†™å‡ºæ¥ï¼Œå…¶å®è¿™é¢˜è¿­ä»£ä¼šå¥½ç†è§£å¾ˆå¤šï¼Œé€’å½’çš„çœ‹äº†ä¸‹ï¼Œæœ‰ç‚¹ä¸å¥½ç†è§£ï¼Œå¾ˆtrick</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">recoverFromPreorder</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ ˆä¸­å­˜çš„æ˜¯æ·±åº¦ä¸¥æ ¼å•è°ƒé€’å¢ï¼ˆæ­¥ä¼ä¸º1ï¼‰çš„èŠ‚ç‚¹ 0 1 2 3 4....</span></span><br><span class="line">    Deque&lt;TreeNode&gt; stack=<span class="keyword">new</span> ArrayDeque(); </span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;S.length())&#123;</span><br><span class="line">        <span class="keyword">int</span> depth=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;S.length() &amp;&amp; S.charAt(i)==<span class="string">'-'</span>) &#123;</span><br><span class="line">            depth++;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;S.length() &amp;&amp; S.charAt(i)&gt;=<span class="string">'0'</span> &amp;&amp; S.charAt(i)&lt;=<span class="string">'9'</span>)&#123;</span><br><span class="line">            val=val*<span class="number">10</span>+S.charAt(i)-<span class="number">48</span>;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode node=<span class="keyword">new</span> TreeNode(val);</span><br><span class="line">        <span class="keyword">if</span>(depth==stack.size())&#123; <span class="comment">//æ ˆçš„èŠ‚ç‚¹æ•°é‡å°±æ˜¯å½“å‰çš„æ·±åº¦</span></span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty()) stack.peek().left=node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(depth!=stack.size())&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//depth==0çš„åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ˜¯ä¸ä¼šèµ°è¿™ä¸ªåˆ†æ”¯çš„ï¼Œæ‰€ä»¥è¿™é‡Œè‚¯å®šä¸ä¸ºç©º</span></span><br><span class="line">            stack.peek().right=node;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(node);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(stack.size()!=<span class="number">1</span>) stack.pop();</span><br><span class="line">    <span class="keyword">return</span> stack.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="897-é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘"><a href="#897-é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘" class="headerlink" title="897. é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘"></a><a href="https://leetcode-cn.com/problems/increasing-order-search-tree/" target="_blank" rel="noopener">897. é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘</a></h2><p>ç»™ä½ ä¸€ä¸ªæ ‘ï¼Œè¯·ä½  æŒ‰ä¸­åºéå† é‡æ–°æ’åˆ—æ ‘ï¼Œä½¿æ ‘ä¸­æœ€å·¦è¾¹çš„ç»“ç‚¹ç°åœ¨æ˜¯æ ‘çš„æ ¹ï¼Œå¹¶ä¸”æ¯ä¸ªç»“ç‚¹æ²¡æœ‰å·¦å­ç»“ç‚¹ï¼Œåªæœ‰ä¸€ä¸ªå³å­ç»“ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line">       <span class="number">5</span></span><br><span class="line">      / \</span><br><span class="line">    <span class="number">3</span>    <span class="number">6</span></span><br><span class="line">   / \    \</span><br><span class="line">  <span class="number">2</span>   <span class="number">4</span>    <span class="number">8</span></span><br><span class="line">Â /        / \ </span><br><span class="line"><span class="number">1</span>        <span class="number">7</span>   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">4</span>,<span class="keyword">null</span>,<span class="number">5</span>,<span class="keyword">null</span>,<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">7</span>,<span class="keyword">null</span>,<span class="number">8</span>,<span class="keyword">null</span>,<span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"> <span class="number">1</span></span><br><span class="line">Â  \</span><br><span class="line">Â   <span class="number">2</span></span><br><span class="line">Â    \</span><br><span class="line">Â     <span class="number">3</span></span><br><span class="line">Â      \</span><br><span class="line">Â       <span class="number">4</span></span><br><span class="line">Â        \</span><br><span class="line">Â         <span class="number">5</span></span><br><span class="line">Â          \</span><br><span class="line">Â           <span class="number">6</span></span><br><span class="line">Â            \</span><br><span class="line">Â             <span class="number">7</span></span><br><span class="line">Â              \</span><br><span class="line">Â               <span class="number">8</span></span><br><span class="line">Â                \</span><br><span class="line">                 <span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>Â <br><strong>æç¤ºï¼š</strong></p>
<p>ç»™å®šæ ‘ä¸­çš„ç»“ç‚¹æ•°ä»‹äº 1 å’ŒÂ 100 ä¹‹é—´ã€‚æ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ªä» 0 åˆ° 1000 èŒƒå›´å†…çš„å”¯ä¸€æ•´æ•°å€¼ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>goä¸­åºéå†é…åˆå…¨å±€å˜é‡ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼ˆçœ‹è¯„è®ºåŒºå¾ˆå¤šäººç›´æ¥new TreeNodeæ„Ÿè§‰ä¸å¤ªå¥½å§ï¼Œé¢˜ç›®çš„æ„æ€ä¸æ˜¯åœ¨åŸæ ‘ä¸Šæ”¹ä¹ˆï¼Ÿï¼‰</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">increasingBST</span><span class="params">(root *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span></span><br><span class="line">    dummyNode:=&amp;TreeNode&#123;&#125;</span><br><span class="line">    last:=dummyNode</span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.Left)</span><br><span class="line">        root.Left=<span class="literal">nil</span></span><br><span class="line">        last.Right=root</span><br><span class="line">        last = root</span><br><span class="line">        dfs(root.Right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> dummyNode.Right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>è¿™é¢˜å’Œ<a href="https://leetcode-cn.com/problems/binode-lcci/" target="_blank" rel="noopener">é¢è¯•é¢˜ 17.12. BiNode</a>è§£æ³•æ˜¯ä¸€æ‘¸ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªsbé¢˜çš„æè¿°æˆ‘æ˜¯çœŸæ²¡çœ‹æ‡‚ï¼Œç»“åˆè¯„è®ºåŒºå’Œcaseæ‰çŸ¥é“åˆ°åº•è¦å¹²å•¥ï¼Œçœ‹è¯„è®ºåŒºå¥½åƒéƒ½æ•´çš„æŒºæ˜ç™½çš„ï¼Œä¸€åº¦ä»¥ä¸ºæˆ‘ç†è§£èƒ½åŠ›å‡ºäº†é—®é¢˜</p>
</blockquote>
<h2 id="979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"><a href="#979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸" class="headerlink" title="979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"></a><a href="https://leetcode-cn.com/problems/distribute-coins-in-binary-tree/" target="_blank" rel="noopener">979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™å®šä¸€ä¸ªæœ‰ <code>N</code> ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ <code>root</code>ï¼Œæ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹ä¸Šéƒ½å¯¹åº”æœ‰ <code>node.val</code> æšç¡¬å¸ï¼Œå¹¶ä¸”æ€»å…±æœ‰ <code>N</code> æšç¡¬å¸ã€‚</p>
<p>åœ¨ä¸€æ¬¡ç§»åŠ¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸¤ä¸ªç›¸é‚»çš„ç»“ç‚¹ï¼Œç„¶åå°†ä¸€æšç¡¬å¸ä»å…¶ä¸­ä¸€ä¸ªç»“ç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç»“ç‚¹ã€‚(ç§»åŠ¨å¯ä»¥æ˜¯ä»çˆ¶ç»“ç‚¹åˆ°å­ç»“ç‚¹ï¼Œæˆ–è€…ä»å­ç»“ç‚¹ç§»åŠ¨åˆ°çˆ¶ç»“ç‚¹ã€‚)ã€‚</p>
<p>è¿”å›ä½¿æ¯ä¸ªç»“ç‚¹ä¸Šåªæœ‰ä¸€æšç¡¬å¸æ‰€éœ€çš„ç§»åŠ¨æ¬¡æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong><br><img src="https://upload.cc/i1/2020/07/07/w2G7JY.png" alt="UTOOLS1594052444483.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬å°†ä¸€æšç¡¬å¸ç§»åˆ°å®ƒçš„å·¦å­ç»“ç‚¹ä¸Šï¼Œä¸€æšç¡¬å¸ç§»åˆ°å®ƒçš„å³å­ç»“ç‚¹ä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://upload.cc/i1/2020/07/07/kPOvxa.png" alt="UTOOLS1594052495418.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šä»æ ¹ç»“ç‚¹çš„å·¦å­ç»“ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬å°†ä¸¤æšç¡¬å¸ç§»åˆ°æ ¹ç»“ç‚¹ä¸Š [ç§»åŠ¨ä¸¤æ¬¡]ã€‚ç„¶åï¼Œæˆ‘ä»¬æŠŠä¸€æšç¡¬å¸ä»æ ¹ç»“ç‚¹ç§»åˆ°å³å­ç»“ç‚¹ä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src="https://upload.cc/i1/2020/07/07/j4YpZS.png" alt="UTOOLS1594052508155.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<p><img src="https://upload.cc/i1/2020/07/07/DYZ6cE.png" alt="UTOOLS1594052519453.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,null,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> <code>1&lt;= N &lt;= 100</code></li>
<li> <code>0 &lt;= node.val &lt;= N</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹ç›´æ¥æƒ³å‡ºæ¥çš„åšæ³•ï¼Œåé¢çœ‹äº†å…¶ä»–äººçš„è§£æ³•å‘ç°è¿˜ä¸å¤ªä¸€æ ·ğŸ˜‚ï¼Œä¸è¿‡æˆ‘è¿˜æ˜¯æ„Ÿè§‰æˆ‘çš„æ–¹æ³•æ›´å¥½ç†è§£</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é—­åŒ…çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">distributeCoins</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> Abs = <span class="function"><span class="keyword">func</span><span class="params">(a <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> a &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -a</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//dfsè¿”å›æ ‘çš„èŠ‚ç‚¹æ•°é‡ å’Œ é‡‘å¸æ•°é‡</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        lCount, lCoins := dfs(root.Left)</span><br><span class="line">        <span class="comment">//å…¶å®ä¸¤è€…çš„å·®å€¼å°±æ˜¯éœ€è¦ç»è¿‡è¯¥èŠ‚ç‚¹ä¸­è½¬çš„æ¬¡æ•°</span></span><br><span class="line">        <span class="comment">//ç»Ÿè®¡å‡ºæ‰€æœ‰èŠ‚ç‚¹çš„ä¸­è½¬æ¬¡æ•°å°±æ˜¯æ•´ä½“çš„è½¬ç§»æ¬¡æ•°</span></span><br><span class="line">        res += Abs(lCount - lCoins)</span><br><span class="line">        rCount, rCoins := dfs(root.Right)</span><br><span class="line">        res += Abs(rCount - rCoins)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + lCount + rCount, root.Val + lCoins + rCoins</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å…¶ä»–äººçš„åšæ³•ï¼Œdfsè¿”å›èŠ‚ç‚¹çš„ç›ˆäºå€¼ï¼ˆèŠ‚ç‚¹æ•°å’Œé‡‘å¸æ•°çš„å·®å€¼ï¼‰ï¼Œç›ˆäºå€¼ç»å¯¹å€¼ä¹‹å’Œå°±æ˜¯æ€»ä½“çš„è½¬ç§»æ¬¡æ•°ï¼ˆæ‰€ä»¥ä¸¤ç§è§£æ³•å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è®¡ç®—çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œæˆ‘çš„æ˜¯å‡½æ•°è¿”å›åè®¡ç®—ç›ˆäºï¼Œè€Œä¸‹é¢çš„è§£æ³•æ˜¯è¿”å›å‰è®¡ç®—ç›ˆäºï¼Œæ„Ÿè§‰æˆ‘çš„æ›´å¥½ç†è§£ğŸ˜‚ï¼‰</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¦ä¸€ç§åšæ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">distributeCoins</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> Abs = <span class="function"><span class="keyword">func</span><span class="params">(a <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> a &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -a</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span> <span class="title">int</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        left := dfs(root.Left)</span><br><span class="line">        right := dfs(root.Right)</span><br><span class="line">        res += Abs(left) + Abs(right)</span><br><span class="line">        <span class="keyword">return</span> root.Val + left + right - <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="99-æ¢å¤äºŒå‰æœç´¢æ ‘"><a href="#99-æ¢å¤äºŒå‰æœç´¢æ ‘" class="headerlink" title="99. æ¢å¤äºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/recover-binary-search-tree/" target="_blank" rel="noopener">99. æ¢å¤äºŒå‰æœç´¢æ ‘</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>äºŒå‰æœç´¢æ ‘ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹è¢«é”™è¯¯åœ°äº¤æ¢ã€‚</p>
<p>è¯·åœ¨ä¸æ”¹å˜å…¶ç»“æ„çš„æƒ…å†µä¸‹ï¼Œæ¢å¤è¿™æ£µæ ‘ã€‚</p>
<p><strong>ç¤ºä¾‹Â 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,null,null,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">Â   <span class="number">1</span></span><br><span class="line">Â  /</span><br><span class="line">Â <span class="number">3</span></span><br><span class="line">Â  \</span><br><span class="line">Â   <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="number">3</span>,<span class="number">1</span>,null,null,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">Â   <span class="number">3</span></span><br><span class="line">Â  /</span><br><span class="line">Â <span class="number">1</span></span><br><span class="line">Â  \</span><br><span class="line">Â   <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹Â 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,null,null,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">4</span></span><br><span class="line">Â   /</span><br><span class="line">Â  <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,null,null,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">  <span class="number">2</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">4</span></span><br><span class="line">Â   /</span><br><span class="line"> Â <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿›é˜¶:</strong></p>
<ul>
<li>  ä½¿ç”¨ O(<em>n</em>) ç©ºé—´å¤æ‚åº¦çš„è§£æ³•å¾ˆå®¹æ˜“å®ç°ã€‚</li>
<li>  ä½ èƒ½æƒ³å‡ºä¸€ä¸ªåªä½¿ç”¨å¸¸æ•°ç©ºé—´çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸­åºéå†ï¼Œè®°å½•ä¸‹ä½ç½®ä¸å¯¹çš„èŠ‚ç‚¹ï¼Œæœ€åäº¤æ¢ä»–ä»¬çš„å€¼å°±è¡Œäº†</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recoverTree</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> node1 *TreeNode</span><br><span class="line">    <span class="keyword">var</span> node2 *TreeNode</span><br><span class="line">    <span class="comment">//è¿™é‡ŒçŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œä¸€å¼€å§‹ç»™preèµ‹å€¼äº†ä¸€ä¸ªroot,å¯¼è‡´èŠ‚ç‚¹è®°å½•é”™äº†</span></span><br><span class="line">    <span class="keyword">var</span> pre *TreeNode</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.Left)</span><br><span class="line">        <span class="keyword">if</span> pre != <span class="literal">nil</span> &amp;&amp; root.Val &lt; pre.Val &#123;</span><br><span class="line">            <span class="keyword">if</span> node1 == <span class="literal">nil</span> &#123;</span><br><span class="line">                node1 = pre</span><br><span class="line">            &#125;</span><br><span class="line">            node2 = root</span><br><span class="line">        &#125;</span><br><span class="line">        pre = root</span><br><span class="line">        dfs(root.Right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    node1.Val, node2.Val = node2.Val, node1.Val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è§£æ³•ä¸¥æ ¼æ¥è¯´ç©ºé—´å¤æ‚åº¦å¹¶ä¸æ˜¯O(1)ï¼Œé€’å½’ä¼šæœ‰ç³»ç»Ÿæ ˆçš„å¼€é”€ï¼Œç©ºé—´å¤æ‚åº¦åº”è¯¥æ˜¯O(h)ï¼Œhæ˜¯æ ‘çš„é«˜åº¦ï¼ŒçœŸæ­£çš„O(1)çš„åšæ³•åº”è¯¥æ˜¯Morriséå†ï¼Œè¿™ç§è§£æ³•å°±ç§°å¾—ä¸Šhardäº†</p>
<h2 id="1302-å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"><a href="#1302-å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ" class="headerlink" title="1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"></a><a href="https://leetcode-cn.com/problems/deepest-leaves-sum/" target="_blank" rel="noopener">1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œè¯·ä½ è¿”å›å±‚æ•°æœ€æ·±çš„å¶å­èŠ‚ç‚¹çš„å’Œã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/09/06/wmC0aT.png" alt="wmC0aT.png"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot &#x3D; [1,2,3,4,5,null,6,7,null,null,null,null,8]</span><br><span class="line">è¾“å‡ºï¼š15</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨Â <code>1</code>Â åˆ°Â <code>10^4</code>Â ä¹‹é—´ã€‚</li>
<li>  æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨Â <code>1</code>Â åˆ°Â <code>100</code> ä¹‹é—´ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSæ²¡å•¥å¥½è¯´çš„ï¼ŒDFSçš„æŒºæœ‰æ„æ€</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">deepestLeavesSum</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode, <span class="keyword">int</span>)</span></span></span><br><span class="line"> Â  Â <span class="keyword">var</span> maxDep = <span class="number">0</span></span><br><span class="line"> Â  Â <span class="keyword">var</span> sum = <span class="number">0</span></span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode, dep <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">return</span></span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> maxDep == dep &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â sum += root.Val</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> dep &gt; maxDep &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â sum = root.Val</span><br><span class="line"> Â  Â  Â  Â  Â  Â maxDep = dep</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â dfs(root.Left, dep+<span class="number">1</span>)</span><br><span class="line"> Â  Â  Â  Â dfs(root.Right, dep+<span class="number">1</span>)</span><br><span class="line"> Â  Â  Â  Â </span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â dfs(root, <span class="number">0</span>)</span><br><span class="line"> Â  Â <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ ‘å½¢DP-å¤§æ¦‚"><a href="#æ ‘å½¢DP-å¤§æ¦‚" class="headerlink" title="æ ‘å½¢DP(å¤§æ¦‚)"></a><em>æ ‘å½¢DP(å¤§æ¦‚)</em></h2><blockquote>
<p>2020.5.10æ›´æ–°ï¼Œåœ¨çœ‹äº†å·¦ç¥çš„ä¹¦åï¼Œå¤§æ¦‚äº†è§£äº†æ ‘å½¢DPï¼Œæ‰€è°“çš„æ ‘å½¢DPå®é™…ä¸Šå°±æ˜¯æŠŠé€’æ¨æ–¹ç¨‹æ¬åˆ°äº†æ ‘ç»“æ„ä¸Šï¼ŒæŒ‰æˆ‘çš„ç†è§£æ ‘å½¢DPå¾ˆå¤§çš„ç‰¹ç‚¹å°±æ˜¯æœ€ç»ˆçš„è§£å¯èƒ½å­˜åœ¨äºæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹ï¼Œåƒæˆ‘ä¸‹é¢çš„é¢˜æœ‰çš„æš´åŠ›è§£ç”¨çš„å°±æ˜¯åŒé‡é€’å½’ï¼Œå°±æ˜¯dfséå†æ²¡ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†å¯¹æ¯ä¸ªèŠ‚ç‚¹é€’å½’æ±‚è§£ï¼Œä½†æ˜¯å¯¹æ ¹èŠ‚ç‚¹æ±‚è§£çš„æ—¶å€™ï¼Œå®é™…ä¸Šå…¶ä»–çš„å­èŠ‚ç‚¹éƒ½æˆäº†å­é—®é¢˜ï¼Œæ‰€ä»¥åé¢å†å¯¹å­èŠ‚ç‚¹æ±‚è§£çš„æ—¶å€™é—®é¢˜å°±é‡å¤äº†ï¼Œæ‰€ä»¥å°±å¯ä»¥é‡‡ç”¨ååºéå†ï¼Œè‡ªåº•å‘ä¸Šï¼Œå…ˆæ±‚å·¦å³èŠ‚ç‚¹çš„å€¼å†æ›´æ–°æ ¹èŠ‚ç‚¹ï¼Œ<strong>ä¸‹é¢çš„é¢˜å…¶å®æˆ‘ä¸çŸ¥é“åˆ°åº•æ˜¯ä¸æ˜¯å±äºæ ‘å½¢DPï¼Œå¯èƒ½å¤ªç®€å•äº†ï¼Œä½†æ˜¯å†æˆ‘çœ‹æ¥è§£æ³•æ¯”è¾ƒç»Ÿä¸€ï¼Œå¾ˆæœ‰å¥—è·¯æ‰€ä»¥æ•´ç†åˆ°ä¸€èµ·</strong>ï¼Œæˆ‘æŸ¥äº†ä¸‹ç½‘ä¸Šä»‹ç»çš„æ ‘å½¢DPè¿˜æ˜¯æŒºéš¾çš„ï¼Œåé¢æœ‰æ—¶é—´äº†è§£åå†æ¥è®°å½•</p>
</blockquote>
<h2 id="110-å¹³è¡¡äºŒå‰æ ‘"><a href="#110-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="110. å¹³è¡¡äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/balanced-binary-tree/" target="_blank" rel="noopener">110. å¹³è¡¡äºŒå‰æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚</p>
<p>æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š</p>
<blockquote>
<p> ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1</p>
</blockquote>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>è¿”å› true ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ [1,2,2,3,3,null,null,4,4]</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">      <span class="number">1</span></span><br><span class="line">     / \</span><br><span class="line">    <span class="number">2</span>   <span class="number">2</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">3</span>   <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">4</span>   <span class="number">4</span></span><br></pre></td></tr></table></figure>


<p>è¿”å› false ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æš´åŠ›æ³•ï¼Œç»“åˆä¸Šé¢çš„[äºŒå‰æ ‘æœ€å¤§æ·±åº¦](#104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦)ï¼Œ<strong>è‡ªé¡¶å‘ä¸‹</strong>ï¼Œæ±‚å·¦å³å­æ ‘çš„é«˜åº¦å·®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//top 2 bottom</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (Math.abs(hight(root.left)-hight(root.right))&gt;<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isBalanced(root.left) &amp;&amp; isBalanced(root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hight</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(hight(root.right),hight(root.left))+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡ªé¡¶å‘ä¸‹ï¼Œå…ˆåˆ¤æ–­æ ¹èŠ‚ç‚¹ï¼Œç„¶ååˆ¤æ–­å·¦å³å­æ ‘ï¼Œå¾ˆæ˜æ˜¾ã€‚åœ¨åˆ¤æ–­å·¦å³å­æ ‘çš„æ—¶å€™ï¼Œä¼šé‡å¤çš„éå†åˆ¤æ–­æ ¹èŠ‚ç‚¹çš„æ—¶å€™å·²ç»éå†è¿‡çš„èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯<code>O(N^2)</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è‡ªåº•å‘ä¸Šï¼Œåˆ©ç”¨ä¸€ä¸ªå®ä¾‹å˜é‡ä¿å­˜ç»“æœï¼Œå…¶å®å°±æ˜¯åœ¨ä¸Šé¢çš„æ±‚heighè¿‡ç¨‹ä¸­å°†å·¦å³å­æ ‘çš„é«˜åº¦å…ˆå–å‡ºæ¥ç›´æ¥æ¯”è¾ƒï¼Œå¦‚æœå·®è·å¤§äº1å°±ç›´æ¥è®°å½•ä¸‹ç»“æœfalseï¼Œä½†æ˜¯å…¶å®è¿™é‡Œè¿˜æ˜¯å¯ä»¥ä¼˜åŒ–ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> ans=<span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//buttom 2 top</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    hight(root);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hight</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’åˆ†æ²»ï¼Œè‡ªåº•å‘ä¸Šï¼Œåœ¨æ±‚é«˜åº¦çš„è¿‡ç¨‹ä¸­è®¡ç®—å·¦å³é«˜åº¦å·®</span></span><br><span class="line">    <span class="keyword">int</span> left=hight(root.left);</span><br><span class="line">    <span class="keyword">int</span> right=hight(root.right);</span><br><span class="line">    <span class="keyword">if</span> (Math.abs(left-right)&gt;<span class="number">1</span>) &#123;</span><br><span class="line">        ans=<span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(left,right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡ªåº•å‘ä¸Šï¼Œåªéœ€è¦éå†ä¸€éäºŒå‰æ ‘å°±å¯ä»¥å¾—åˆ°ç»“æœï¼Œæ—¶é—´å¤æ‚åº¦<code>O(N)</code> </p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> hight(root)!=-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hight</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=hight(root.left);</span><br><span class="line">    <span class="keyword">if</span> (left==-<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> right=hight(root.right);</span><br><span class="line">    <span class="keyword">if</span> (right==-<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.abs(left-right)&gt;<span class="number">1</span>?-<span class="number">1</span>:Math.max(left,right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸ç¬¦åˆçš„æ—¶å€™ä¸€è·¯<code>return -1</code> èŠ‚çœåé¢çš„è®¡ç®—</p>
<h2 id="563-äºŒå‰æ ‘çš„å¡åº¦"><a href="#563-äºŒå‰æ ‘çš„å¡åº¦" class="headerlink" title="563. äºŒå‰æ ‘çš„å¡åº¦"></a><a href="https://leetcode-cn.com/problems/binary-tree-tilt/" target="_blank" rel="noopener">563. äºŒå‰æ ‘çš„å¡åº¦</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè®¡ç®—æ•´ä¸ªæ ‘çš„å¡åº¦ã€‚</p>
<p>ä¸€ä¸ªæ ‘çš„èŠ‚ç‚¹çš„å¡åº¦å®šä¹‰å³ä¸ºï¼Œè¯¥èŠ‚ç‚¹å·¦å­æ ‘çš„ç»“ç‚¹ä¹‹å’Œå’Œå³å­æ ‘ç»“ç‚¹ä¹‹å’Œçš„å·®çš„ç»å¯¹å€¼ã€‚ç©ºç»“ç‚¹çš„çš„å¡åº¦æ˜¯0ã€‚</p>
<p>æ•´ä¸ªæ ‘çš„å¡åº¦å°±æ˜¯å…¶æ‰€æœ‰èŠ‚ç‚¹çš„å¡åº¦ä¹‹å’Œã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">         <span class="number">1</span></span><br><span class="line">       /   \</span><br><span class="line">      <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br><span class="line">è§£é‡Š: </span><br><span class="line">ç»“ç‚¹çš„å¡åº¦ <span class="number">2</span> : <span class="number">0</span></span><br><span class="line">ç»“ç‚¹çš„å¡åº¦ <span class="number">3</span> : <span class="number">0</span></span><br><span class="line">ç»“ç‚¹çš„å¡åº¦ <span class="number">1</span> : |<span class="number">2</span>-<span class="number">3</span>| = <span class="number">1</span></span><br><span class="line">æ ‘çš„å¡åº¦ : <span class="number">0</span> + <span class="number">0</span> + <span class="number">1</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ol>
<li>ä»»ä½•å­æ ‘çš„ç»“ç‚¹çš„å’Œä¸ä¼šè¶…è¿‡32ä½æ•´æ•°çš„èŒƒå›´ã€‚</li>
<li>å¡åº¦çš„å€¼ä¸ä¼šè¶…è¿‡32ä½æ•´æ•°çš„èŒƒå›´ã€‚. </li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆå¿«å†™å‡ºæ¥çš„è§£æ³•ï¼Œå‘ç°è¿™é¢˜å’Œä¸Šé¢çš„ <strong>å¹³è¡¡äºŒå‰æ ‘</strong> æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é¦–å…ˆæƒ³åˆ°çš„è§£æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTilt</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> findTilt(root.left)+findTilt(root.right)+Math.abs(childSum(root.left)-childSum(root.right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">childSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> childSum(root.left)+childSum(root.right)+root.val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åµŒå¥—é€’å½’ï¼Œç›¸å½“æš´åŠ›</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸Šé¢çš„åšæ³•ç¡®å®æœ‰ç‚¹å¯æƒœï¼Œå…¶å®åœ¨è®¡ç®—childSumçš„æ—¶å€™å°±å¯ä»¥å­—èŠ‚æŠŠå¡åº¦ç®—å‡ºæ¥ç„¶åç´¯åŠ å°±æ˜¯æ•´ä½“çš„å¡åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> tilt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»“æœå‘ç°ä¸Šé¢çš„åšæ³•å‚»é€¼äº†ã€‚ã€‚ã€‚å…¶å®æˆ‘çŸ¥é“æ˜¯ä¸å¯¹çš„,ä½†æ˜¯ä¸çŸ¥é“å’‹æ”¹,ä¸è¿‡å†™äº†ä¸ªåµŒå¥—é€’å½’ä¹Ÿè¿˜è¡Œhahaha</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTilt</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    childSum(root);</span><br><span class="line">    <span class="keyword">return</span> tilt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">childSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=childSum(root.left);</span><br><span class="line">    <span class="keyword">int</span> right=childSum(root.right);</span><br><span class="line">    tilt+=Math.abs(left-right);</span><br><span class="line">    <span class="keyword">return</span> left+right+root.val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="543-äºŒå‰æ ‘çš„ç›´å¾„"><a href="#543-äºŒå‰æ ‘çš„ç›´å¾„" class="headerlink" title="543. äºŒå‰æ ‘çš„ç›´å¾„"></a><a href="https://leetcode-cn.com/problems/diameter-of-binary-tree/" target="_blank" rel="noopener">543. äºŒå‰æ ‘çš„ç›´å¾„</a></h2><p>ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œä½ éœ€è¦è®¡ç®—å®ƒçš„ç›´å¾„é•¿åº¦ã€‚ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ :</strong><br>ç»™å®šäºŒå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">3</span></span><br><span class="line"> / \     </span><br><span class="line"><span class="number">4</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>è¿”å› 3, å®ƒçš„é•¿åº¦æ˜¯è·¯å¾„ [4,2,1,3] æˆ–è€… [5,2,1,3]ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>ä¸¤ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦æ˜¯ä»¥å®ƒä»¬ä¹‹é—´è¾¹çš„æ•°ç›®è¡¨ç¤º</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ ‘çš„é¢˜ç›®åšå¤šäº†ï¼Œå‘ç°å…¶å®ä¹Ÿå°±å‡ ç§é¢˜å‹ï¼Œéƒ½å¾ˆç†Ÿæ‚‰ï¼Œè¿™é¢˜å°±å’Œä¸Šé¢çš„ <a href="">äºŒå‰æ ‘çš„å¡åº¦</a> ï¼Œ<a href="">å¹³è¡¡äºŒå‰æ ‘</a> å¾ˆç±»ä¼¼ï¼Œè¿™é¢˜éœ€è¦æ³¨æ„<strong>ç›´å¾„ä¸ä¸€å®šè¿‡æ ¹èŠ‚ç‚¹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> max=Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    hight(root);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hight</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=hight(node.left);</span><br><span class="line">    <span class="keyword">int</span> right=hight(node.right);</span><br><span class="line">    max=Math.max(left+right,max);</span><br><span class="line">    <span class="keyword">return</span> Math.max(left,right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å’Œä¹‹å‰ä¸€æ ·ï¼Œå…ˆå†™äº†ä¸ªæš´åŠ›çš„åµŒå¥—é€’å½’ğŸ˜‚ï¼Œä»£ç ç¡®å®ç®€ä»‹ï¼Œéš¾é“è¿™å°±æ˜¯æš´åŠ›ç¾å­¦ä¹ˆï¼Œiäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> root==<span class="keyword">null</span>?<span class="number">0</span>:Math.max(hight(root.left)+hight(root.right),Math.max(diameterOfBinaryTree(root.right),diameterOfBinaryTree(root.left)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hight</span><span class="params">(TreeNode node)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> node==<span class="keyword">null</span>?<span class="number">0</span>:Math.max(hight(node.left),hight(node.right))+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a><a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/" target="_blank" rel="noopener">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a></h2><p>ç»™å®šä¸€ä¸ª<strong>éç©º</strong>äºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚</p>
<p>æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">   <span class="number">1</span></span><br><span class="line">  / \</span><br><span class="line"> <span class="number">2</span>   <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [-<span class="number">10</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">   -<span class="number">10</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">9</span>  <span class="number">20</span></span><br><span class="line">    /  \</span><br><span class="line">   <span class="number">15</span>   <span class="number">7</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="number">42</span></span><br></pre></td></tr></table></figure>

<p><strong>é”™è¯¯è§£æ³•</strong></p>
<p>å…ˆä¸Šä¸€ä¸ªé”™è¯¯ç­”æ¡ˆï¼Œè¿‡äº† <code>71/93</code> ä¸ªcaseï¼ˆlcçš„caseå¥½å°‘ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=helper(root);</span><br><span class="line">    <span class="keyword">return</span> Math.max(res,Math.max(maxPathSum(root.left),maxPathSum(root.right)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„æœ€å¤§è·¯å¾„å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> Integer.MIN_VALUE;;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=helper(root.left);</span><br><span class="line">    <span class="keyword">int</span> right=helper(root.right);</span><br><span class="line">    <span class="keyword">return</span> root.val+(left&gt;<span class="number">0</span>?left:<span class="number">0</span>)+(right&gt;<span class="number">0</span>?right:<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯æŒ‰ç…§æ ¹èŠ‚ç‚¹æ¥è®¨è®ºçš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§å€¼å°±æ˜¯ å·¦å³å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼ˆå¤§äº0ï¼‰åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œæ”¹äº†åŠå¤©WAäº†å‡ å‘åå‘ç°æ˜¯æœ‰é—®é¢˜çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">     <span class="number">1</span> </span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">2</span>     <span class="number">3</span></span><br><span class="line"> / \   / \</span><br><span class="line"><span class="number">7</span>   <span class="number">9</span>  <span class="number">5</span>  <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚è¿™æ ·çš„ï¼Œ2ä¸ºæ ¹çš„æœ€é•¿è·¯å¾„æ˜¯1ï¼Œ2ï¼Œ9ä½†æ˜¯è¿™ä¸ªåœ¨1ä¸ºæ ¹çš„èŠ‚ç‚¹ä¸­æ˜¯ä¸åˆæ³•çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„åªæœ‰å•è¾¹çš„è·¯å¾„å’Œï¼Œå¦‚ä¸Šå›¾çš„æ ‘ï¼Œæˆ‘ä»¬éœ€è¦çš„å°±æ˜¯ <code>2-&gt;9</code> è¿™æ¡è·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†æ·»åŠ ä¸€ä¸ªæ±‚æœ€é•¿è·¯å¾„çš„å‡½æ•°</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¯ACï¼Œä½†æ˜¯æ•ˆç‡è¾ƒä½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=helper(root);</span><br><span class="line">    <span class="keyword">return</span> Math.max(res,Math.max(maxPathSum(root.left),maxPathSum(root.right)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„æœ€å¤§è·¯å¾„å’Œ(åŒè¾¹)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=dfs(root.left);</span><br><span class="line">    <span class="keyword">int</span> right=dfs(root.right);</span><br><span class="line">    <span class="keyword">return</span> root.val+(left&gt;<span class="number">0</span>?left:<span class="number">0</span>)+(right&gt;<span class="number">0</span>?right:<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//rootä¸ºèµ·å§‹èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œ(å•è¾¹)</span></span><br><span class="line"><span class="comment">//è¿™é‡Œå¯ä»¥cacheä¸€ä¸‹</span></span><br><span class="line"><span class="comment">//cache å‰ 219ms</span></span><br><span class="line"><span class="comment">//cache å 30ms</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>  HashMap&lt;String,Integer&gt; cache=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache.containsKey(root.toString())) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache.get(root.toString());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=dfs(root.left);</span><br><span class="line">    <span class="keyword">int</span> right=dfs(root.right);</span><br><span class="line">    <span class="keyword">int</span> max=Math.max(left,right);</span><br><span class="line">    cache.put(root.toString(),root.val+(max&gt;<span class="number">0</span>?max:<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> root.val+(max&gt;<span class="number">0</span>?max:<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿™ä¸ªè§£æ³•å…¶å®å°±æ˜¯å°†æˆ‘å‰é¢çš„ä»£ç é€»è¾‘ç®€åŒ–äº†ï¼Œæ ¸å¿ƒçš„æ€è·¯è¿˜æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> res=Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    helper(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›ä»¥å½“å‰èŠ‚ç‚¹ä¸º*èµ·ç‚¹*çš„æœ€å¤§è·¯å¾„å’Œ(å•è¾¹,å·¦å³å­æ ‘ä¸­é€‰æœ€å¤§çš„ä¸€ä¸ª)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left=Math.max(helper(root.left),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> right=Math.max(helper(root.right),<span class="number">0</span>);</span><br><span class="line">    res=Math.max(res,root.val+left+right); <span class="comment">//åœ¨è¿™é‡Œè®°å½•æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">return</span> root.val+Math.max(left,right); <span class="comment">//è¿”å›çš„å®é™…ä¸Šæ˜¯æˆ‘ä¸Šé¢dfsçš„ç»“æœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨é€’å½’å‡½æ•°ä¸­ç”¨å…¨å±€å˜é‡è®°å½•æœ€å¤§å€¼ï¼Œæœ€åè¿”å›çš„å´æ˜¯<strong>å•è¾¹</strong>çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä¸Šé¢å†™çš„dfså‡½æ•°è¿”å›çš„å€¼ï¼Œå¯ä»¥è¯´æ˜¯ç›¸å½“å·§å¦™äº†ï¼Œé™¤æ­¤å¤–å¯¹é€’å½’çš„å‡ºå£ä¹Ÿè¿›è¡Œäº†ç®€åŒ–</p>
<p><strong>Update: 2020.6.21</strong></p>
<p>ç”¨goé‡å†™ä¸€ä¸‹ï¼Œæœ€è¿‘å¾ˆå–œæ¬¢å†™è¿™ç§é—­åŒ…çš„ç»“æ„ï¼Œæ„Ÿè§‰æ¯”è¾ƒç®€æ´</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxPathSum</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    res:=<span class="number">-1</span>&lt;&lt;<span class="number">31</span></span><br><span class="line">    <span class="keyword">var</span> Max =<span class="function"><span class="keyword">func</span><span class="params">(a,b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> a&gt;b&#123;</span><br><span class="line">            <span class="keyword">return</span> a   </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä»¥rootå¼€å¤´æœ€å¤§å•ä¾§è·¯å¾„</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>&lt;&lt;<span class="number">31</span> <span class="comment">//è¿”å›çš„å°äº0å°±è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        left:=Max(<span class="number">0</span>,dfs(root.Left))</span><br><span class="line">        right:=Max(<span class="number">0</span>,dfs(root.Right))</span><br><span class="line">        res=Max(res,left+right+root.Val)</span><br><span class="line">        <span class="keyword">return</span> root.Val+Max(left,right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="687-æœ€é•¿åŒå€¼è·¯å¾„"><a href="#687-æœ€é•¿åŒå€¼è·¯å¾„" class="headerlink" title="687. æœ€é•¿åŒå€¼è·¯å¾„"></a><a href="https://leetcode-cn.com/problems/longest-univalue-path/" target="_blank" rel="noopener">687. æœ€é•¿åŒå€¼è·¯å¾„</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾åˆ°æœ€é•¿çš„è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒå€¼ã€‚ è¿™æ¡è·¯å¾„å¯ä»¥ç»è¿‡ä¹Ÿå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ç”±å®ƒä»¬ä¹‹é—´çš„è¾¹æ•°è¡¨ç¤ºã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p>è¾“å…¥:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">1</span>   <span class="number">1</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<p>è¾“å…¥:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">1</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">5</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">4</span>   <span class="number">4</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong> ç»™å®šçš„äºŒå‰æ ‘ä¸è¶…è¿‡10000ä¸ªç»“ç‚¹ã€‚ æ ‘çš„é«˜åº¦ä¸è¶…è¿‡1000ã€‚</p>
<p><strong>é”™è¯¯è§£æ³•</strong></p>
<p>å…¶å®å†™äº†ä¸€ä¼šå„¿å°±æ„è¯†åˆ°å’Œä¸Šé¢çš„<a href="#124-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C">124.äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ</a>ï¼Œ<a href="#543-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84">543.äºŒå‰æ ‘çš„ç›´å¾„</a>æ˜¯ä¸€æ ·çš„æ€è·¯ï¼Œä½†æ˜¯è‡ªå·±è¿˜æ˜¯æ²¡å†™å¥½ï¼Œé€’å½’å‡½æ•°çš„å†™ç€å†™ç€å°±å†™å˜äº†ï¼Œè„±ç¦»äº†æœ€å¼€å§‹çš„å®šä¹‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é”™è¯¯è§£æ³•ï¼Œå…¶å®æ•´ä½“æ€è·¯æ˜¯å¯¹çš„ï¼Œä½†æ˜¯ç»†èŠ‚æ²¡å¤„ç†å¥½</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestUnivaluePath</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftMax=dfs(root.left);</span><br><span class="line">    <span class="keyword">int</span> rightMax=dfs(root.right);</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(root.left!=<span class="keyword">null</span> &amp;&amp; root.left.val==root.val)&#123;</span><br><span class="line">        flag++;</span><br><span class="line">        leftMax++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.right!=<span class="keyword">null</span> &amp;&amp; root.right.val==root.val)&#123;</span><br><span class="line">        flag++;</span><br><span class="line">        rightMax++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag==<span class="number">2</span>)&#123;</span><br><span class="line">        res=Math.max(res,leftMax+rightMax);</span><br><span class="line">    &#125;</span><br><span class="line">    res=Math.max(res,Math.max(leftMax,rightMax));</span><br><span class="line">    <span class="keyword">return</span> flag==<span class="number">0</span>?<span class="number">0</span>:Math.max(leftMax,rightMax);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>åœ¨çœ‹äº†é¢˜è§£åå¯¹ä¸Šé¢é”™è¯¯è§£æ³•çš„çº æ­£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestUnivaluePath</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥rootå¼€å¤´çš„åŒå€¼è·¯å¾„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftMax=dfs(root.left);</span><br><span class="line">    <span class="keyword">int</span> rightMax=dfs(root.right);</span><br><span class="line">    <span class="keyword">if</span>(root.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">//ä¸ç›¸ç­‰å°±ç›´æ¥è®¾ç½®æˆ0</span></span><br><span class="line">        leftMax=root.left.val==root.val?leftMax+<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        rightMax=root.right.val==root.val?rightMax+<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…¶å®3ç§æƒ…å†µéƒ½åŒ…å«äº†</span></span><br><span class="line">    res=Math.max(res,leftMax+rightMax);</span><br><span class="line">    <span class="keyword">return</span> Math.max(leftMax,rightMax);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„dfså‡½æ•°çš„å®šä¹‰ï¼š<em><strong>ä»¥rootå¼€å¤´çš„æœ€é•¿åŒå€¼è·¯å¾„</strong></em></p>
<p>æ—¢ç„¶æ˜¯ä»¥rootå¼€å¤´ï¼Œæ‰€ä»¥ä»£è¡¨çš„å…¶å®æ˜¯<strong>å•ä¾§</strong>çš„æœ€é•¿è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè·¯å¾„ä¸èƒ½ç©¿è¿‡rootï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åˆ†åˆ«æ±‚å·¦å³çš„å€¼ï¼Œç„¶åå–æœ€å¤§å€¼ï¼Œå†åˆ¤æ–­å’Œå·¦å³èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰</p>
<p>å†ç„¶åæˆ‘ä»¬éœ€è¦åˆ¤æ–­rootå’Œå·¦å³èŠ‚ç‚¹å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå’Œå·¦å³èŠ‚ç‚¹ä¸æƒ³ç­‰ï¼Œé‚£ä¹ˆ<code>leftMax</code>å’Œ<code>rightMax</code>åº”è¯¥ç›´æ¥ç½®ä¸º0ï¼Œä¸åº”è¯¥å†ä»£å…¥åšè®¡ç®—ï¼Œä¸Šé¢çš„é”™è¯¯è§£æ³•å°±æ˜¯é”™åœ¨è¿™é‡Œï¼Œå¦‚æœç›¸ç­‰é‚£å°±åº”è¯¥+1ï¼Œç„¶åç»Ÿè®¡æœ€å¤§å€¼çš„æ—¶å€™ä¹Ÿå°±å¯ä»¥å¾ˆè½»æ¾çš„åŒ…å«æ‰€æœ‰çš„3ç§æƒ…å†µ</p>
<blockquote>
<p>è¿™é‡Œä¸ºä»€ä¹ˆè¦å…ˆæ±‚æœ€å¤§å€¼ï¼Œå†åˆ¤æ–­ï¼Œå…ˆåˆ¤æ–­åœ¨æ±‚æœ€å¤§å€¼ä¸è¡Œä¹ˆï¼Ÿ</p>
<p>å…¶å®æƒ³æƒ³å°±çŸ¥é“ä¸è¡Œï¼Œå…ˆåˆ¤æ–­å…¶å®ç›¸å½“äº<code>å‰åºéå†</code>ï¼Œåœ¨è®¿é—®èŠ‚ç‚¹ç¬¬ä¸€æ¬¡çš„æ—¶å€™å¦‚æœä¸ç¬¦åˆæ¡ä»¶å°±ç›´æ¥è¿”å›äº†ï¼Œè¿™æ ·æ ¹æœ¬æ— æ³•éå†å®Œæ‰€æœ‰çš„èŠ‚ç‚¹è‡ªç„¶æ˜¯ä¸è¡Œï¼Œæ‰€ä»¥è¿™ç§ç±»å‹çš„ä¸€èˆ¬éƒ½æ˜¯<code>ååºéå†</code>ï¼Œå¾…å­èŠ‚ç‚¹éƒ½å¤„ç†å®Œä¹‹åå†è¿”å›æ ¹èŠ‚ç‚¹åšå¤„ç†ï¼Œå’Œåˆ†æ²»çš„æ€æƒ³å¾ˆåƒ</p>
</blockquote>
<p><strong>Update: 2020.6.21</strong></p>
<p>goé‡å†™ä¸€éï¼Œæ¢äº†ä¸ªæ–¹å¼ï¼Œç»Ÿè®¡èŠ‚ç‚¹ä¸ªæ•°æœ€åå‡ä¸€</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestUnivaluePath</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> Max=<span class="function"><span class="keyword">func</span><span class="params">(a,b <span class="keyword">int</span>)</span><span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> a&gt;b&#123;<span class="keyword">return</span> a&#125;</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> res=<span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span><span class="title">int</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span> <span class="params">(root *TreeNode)</span><span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//rootå’Œå·¦å³å­èŠ‚ç‚¹èƒ½å½¢æˆçš„æœ€é•¿åŒå€¼è·¯å¾„(è‡³å°‘æ˜¯1)</span></span><br><span class="line">        left := <span class="number">1</span>+dfs(root.Left) </span><br><span class="line">        right := <span class="number">1</span>+dfs(root.Right)</span><br><span class="line">        <span class="keyword">if</span> root.Left==<span class="literal">nil</span> || root.Val!=root.Left.Val&#123;</span><br><span class="line">            left=<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> root.Right==<span class="literal">nil</span> || root.Val!=root.Right.Val&#123;</span><br><span class="line">            right=<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        res=Max(res,left+right<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> Max(left,right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res<span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¦ä¸€ç§dfsçš„æ€è·¯ï¼Œä»£ç æ›´åŠ ç®€æ´ä¸€ç‚¹ï¼Œä½†æ˜¯ç¨å¾®æœ‰ä¸€ç‚¹ä¸å¥½æƒ³</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestUnivaluePath</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//èµ·ç‚¹çš„å€¼æ— æ‰€è°“,rootèŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ä¸ç”¨å‘ä¸Šå±‚å‡½æ•°è¿”å›å€¼</span></span><br><span class="line">    dfs(root,-<span class="number">1</span>); </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥ rootçˆ¶èŠ‚ç‚¹å’Œroot å¼€å§‹çš„åŒå€¼è·¯å¾„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">int</span> parent)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftMax=dfs(root.left,root.val);</span><br><span class="line">    <span class="keyword">int</span> rightMax=dfs(root.right,root.val);</span><br><span class="line">    <span class="comment">//è¿™é‡Œresçš„è®¡ç®—å…¶å®3ç§æƒ…å†µéƒ½åŒ…å«äº†</span></span><br><span class="line">    res=Math.max(res,leftMax+rightMax);</span><br><span class="line">    <span class="keyword">if</span>(root.val==parent)&#123;</span><br><span class="line">        <span class="comment">//å’Œçˆ¶èŠ‚ç‚¹åŒå€¼,è¿”å›å·¦å³æœ€å¤§å€¼+1</span></span><br><span class="line">        <span class="keyword">return</span> Math.max(leftMax,rightMax)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å’Œçˆ¶èŠ‚ç‚¹ä¸åŒå€¼ï¼Œç›´æ¥è¿”å›0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„dfså‡½æ•°çš„å®šä¹‰ï¼š<em><strong>ä»¥nodeçˆ¶èŠ‚ç‚¹å’Œnodeå¼€å§‹çš„åŒå€¼è·¯å¾„é•¿åº¦</strong></em></p>
<p>åœ¨å‡½æ•°ä¸­æ·»åŠ ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼ï¼Œç„¶ååœ¨éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™åˆ¤æ–­å½“å‰èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹çš„å…³ç³»å°±è¡Œäº†ï¼Œå¦‚æœå’Œçˆ¶èŠ‚ç‚¹ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›0ï¼Œç›¸ç­‰å°±è¿”å›å·¦å³æœ€å¤§å€¼+1ï¼ˆè¿™ä¸ª+1åŠ çš„æ˜¯å½“å‰èŠ‚ç‚¹ï¼‰ï¼Œç„¶ååŒæ ·é‡‡ç”¨ååºéå†ï¼Œè¿™ä¸ªæ€è·¯æ²¡æœ‰é‚£ä¹ˆè‡ªç„¶ï¼Œä¸è¿‡ä¹ŸæŒºä¸é”™çš„</p>
<blockquote>
<p>è¿˜æœ‰ä¸€ç§æš´åŠ›è§£æ³•ï¼Œè¿™é‡Œå°±ä¸è´´äº†</p>
</blockquote>
<h2 id="595-äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰"><a href="#595-äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰" class="headerlink" title="595. äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰"></a><a href="https://www.lintcode.com/problem/binary-tree-longest-consecutive-sequence/description?ordering=-updated_at" target="_blank" rel="noopener">595. äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰</a></h2><p><strong>æè¿°</strong></p>
<p>ç»™ä¸€æ£µäºŒå‰æ ‘ï¼Œæ‰¾åˆ°æœ€é•¿è¿ç»­è·¯å¾„çš„é•¿åº¦ã€‚<br>è¿™æ¡è·¯å¾„æ˜¯æŒ‡ ä»»ä½•çš„èŠ‚ç‚¹åºåˆ—ä¸­çš„èµ·å§‹èŠ‚ç‚¹åˆ°æ ‘ä¸­çš„ä»»ä¸€èŠ‚ç‚¹éƒ½å¿…é¡»éµå¾ª çˆ¶-å­ è”ç³»ã€‚æœ€é•¿çš„è¿ç»­è·¯å¾„å¿…é¡»æ˜¯ä»çˆ¶äº²èŠ‚ç‚¹åˆ°å­©å­èŠ‚ç‚¹ï¼ˆ<code>ä¸èƒ½é€†åº</code>ï¼‰ã€‚</p>
<p><strong>æ ·ä¾‹1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">&#123;1,#,3,2,4,#,#,#,5&#125;</span><br><span class="line">è¾“å‡º:<span class="number">3</span></span><br><span class="line">è¯´æ˜:</span><br><span class="line">è¿™æ£µæ ‘å¦‚å›¾æ‰€ç¤º</span><br><span class="line">   <span class="number">1</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">3</span></span><br><span class="line">    / \</span><br><span class="line">   <span class="number">2</span>   <span class="number">4</span></span><br><span class="line">        \</span><br><span class="line">         <span class="number">5</span></span><br><span class="line">æœ€é•¿è¿ç»­åºåˆ—æ˜¯<span class="number">3</span>-<span class="number">4</span>-<span class="number">5</span>ï¼Œæ‰€ä»¥è¿”å›<span class="number">3</span>.</span><br></pre></td></tr></table></figure>

<p><strong>æ ·ä¾‹2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">&#123;2,#,3,2,#,1,#&#125;</span><br><span class="line">è¾“å‡º:<span class="number">2</span></span><br><span class="line">è¯´æ˜:</span><br><span class="line">è¿™æ£µæ ‘å¦‚å›¾æ‰€ç¤ºï¼š</span><br><span class="line">   <span class="number">2</span></span><br><span class="line">    \</span><br><span class="line">     <span class="number">3</span></span><br><span class="line">    / </span><br><span class="line">   <span class="number">2</span>    </span><br><span class="line">  / </span><br><span class="line"> <span class="number">1</span></span><br><span class="line">æœ€é•¿è¿ç»­åºåˆ—æ˜¯<span class="number">2</span>-<span class="number">3</span>ï¼Œè€Œä¸æ˜¯<span class="number">3</span>-<span class="number">2</span>-<span class="number">1</span>ï¼Œæ‰€ä»¥è¿”å›<span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šä¸€é¢˜æœ€é•¿åŒå€¼è·¯å¾„å‡ ä¹ä¸€æ‘¸ä¸€æ ·ï¼Œè¿™é¢˜leetCodeä¹Ÿæœ‰ï¼Œ<a href="https://leetcode-cn.com/problems/binary-tree-longest-consecutive-sequence" target="_blank" rel="noopener">ä½†æ˜¯æ˜¯ä¼šå‘˜é¢˜</a>ï¼Œå‰å‡ å¤©æ¯æ—¥ä¸€é¢˜å‡ºäº†è¿™ä¸ªï¼ˆåæ¥æ”¹äº†ï¼‰ï¼Œç„¶åæˆ‘åœ¨lintcodeæ‰¾åˆ°äº†ï¼Œåº”è¯¥æ˜¯åŒä¸€é¢˜ï¼Œéšæ‰‹åšä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// write your code here</span></span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»¥rootå¼€å§‹çš„æœ€é•¿è¿ç»­åºåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¿è¯è‡³å°‘æ˜¯1</span></span><br><span class="line">    <span class="keyword">int</span> leftMax = Math.max(<span class="number">1</span>,dfs(root.left));</span><br><span class="line">    <span class="keyword">int</span> rightMax = Math.max(<span class="number">1</span>,dfs(root.right));</span><br><span class="line">    <span class="keyword">if</span>(root.left!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        leftMax = root.val==root.left.val-<span class="number">1</span> ? leftMax+<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.right!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        rightMax = root.val==root.right.val-<span class="number">1</span> ? rightMax+<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    max=Math.max(max,Math.max(leftMax,rightMax));</span><br><span class="line">    <span class="keyword">return</span> Math.max(leftMax,rightMax);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®ä¸€å¼€å§‹å†™äº†ä¸€ä¸ªå¾ˆå¤æ‚çš„ï¼Œdfsçš„å®šä¹‰åˆå’Œçˆ¶èŠ‚ç‚¹è€¦åˆäº†ï¼Œæ„Ÿè§‰å’Œçˆ¶èŠ‚ç‚¹è€¦åˆä¹‹åå°±å¾ˆéš¾æï¼Œå¾ˆå®¹æ˜“ææ™•ï¼Œæ‰€ä»¥å°½é‡ä¸å’Œçˆ¶èŠ‚ç‚¹è€¦åˆï¼Œç›´æ¥ä»¥å½“å‰èŠ‚ç‚¹å®šä¹‰</p>
<p><strong>Update: 2020.6.21</strong></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestConsecutive</span> <span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> Max = <span class="function"><span class="keyword">func</span><span class="params">(a,b <span class="keyword">int</span>)</span><span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> a&gt;b&#123;<span class="keyword">return</span> a&#125;</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span></span><br><span class="line">    <span class="keyword">var</span> res=<span class="number">0</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span><span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> root ==<span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        left:= <span class="number">1</span>+dfs(root.Left)</span><br><span class="line">        right:= <span class="number">1</span>+dfs(root.Right)</span><br><span class="line">        <span class="keyword">if</span> root.Left==<span class="literal">nil</span> ||root.Left.Val!=root.Val+<span class="number">1</span>&#123;</span><br><span class="line">            left=<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> root.Right==<span class="literal">nil</span> ||root.Right.Val!=root.Val+<span class="number">1</span>&#123;</span><br><span class="line">            right=<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        res=Max(res,Max(left,right))</span><br><span class="line">        <span class="keyword">return</span> Max(left,right)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="337-æ‰“å®¶åŠ«èˆ-III"><a href="#337-æ‰“å®¶åŠ«èˆ-III" class="headerlink" title="337. æ‰“å®¶åŠ«èˆ III"></a><a href="https://leetcode-cn.com/problems/house-robber-iii/" target="_blank" rel="noopener">337. æ‰“å®¶åŠ«èˆ III</a></h2><p>åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚</p>
<p>è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">1</span>]</span><br><span class="line"> 	 <span class="number">3</span></span><br><span class="line">	/ \</span><br><span class="line">   <span class="number">2</span>   <span class="number">3</span></span><br><span class="line">    \   \ </span><br><span class="line">     <span class="number">3</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="number">7</span> </span><br><span class="line">è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = <span class="number">3</span> + <span class="number">3</span> + <span class="number">1</span> = <span class="number">7</span>.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="keyword">null</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"> 	 <span class="number">3</span></span><br><span class="line">	/ \</span><br><span class="line">   <span class="number">4</span>   <span class="number">5</span></span><br><span class="line">  / \   \ </span><br><span class="line"> <span class="number">1</span>   <span class="number">3</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º: <span class="number">9</span></span><br><span class="line">è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = <span class="number">4</span> + <span class="number">5</span> = <span class="number">9</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æš´åŠ›é€’å½’ï¼Œåº”è¯¥è¿˜æ˜¯å†™å¾—å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ACäº†,ä½†æ˜¯æ•ˆç‡å¾ˆä½</span></span><br><span class="line"><span class="comment">//å¯ä»¥ç”¨hashMapç¼“å­˜ä¸€ä¸‹æ¯ä¸ªèŠ‚ç‚¹robçš„å€¼,ä½†æ˜¯æ²¡å¿…è¦</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> tryRob(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">tryRob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.left==<span class="keyword">null</span> &amp;&amp; root.right==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å·å–å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> res=root.val;</span><br><span class="line">    <span class="keyword">if</span> (root.left!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        res+=tryRob(root.left.left)+tryRob(root.left.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.right!=<span class="keyword">null</span>) &#123;</span><br><span class="line">        res+=tryRob(root.right.left)+tryRob(root.right.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸å·å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> res2=<span class="number">0</span>;</span><br><span class="line">    res2=tryRob(root.left)+tryRob(root.right);</span><br><span class="line">    <span class="keyword">return</span> Math.max(res,res2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>çœ‹è¯„è®ºåŒºè¯´æ˜¯å•¥æ ‘å½¢dp ? çŸ¥è¯†ç›²åŒºäº†hahaha</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res=tryRob(root);</span><br><span class="line">    <span class="keyword">return</span> Math.max(res[<span class="number">0</span>],res[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‘å½¢dp???</span></span><br><span class="line"><span class="comment">//çœ‹çš„æ‡‚ï¼Œä½†æ˜¯è‚¯å®šå†™ä¸å‡ºæ¥ ã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] tryRob(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] dp=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> dp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] left=tryRob(root.left);</span><br><span class="line">    <span class="keyword">int</span>[] right=tryRob(root.right);</span><br><span class="line">    <span class="comment">//ä¸åŒ…å«å½“å‰èŠ‚ç‚¹çš„æœ€å¤§å€¼</span></span><br><span class="line">    dp[<span class="number">0</span>]=Math.max(left[<span class="number">0</span>],left[<span class="number">1</span>])+Math.max(right[<span class="number">0</span>],right[<span class="number">1</span>]);</span><br><span class="line">    <span class="comment">//åŒ…å«å½“å‰èŠ‚ç‚¹çš„æœ€å¤§å€¼</span></span><br><span class="line">    dp[<span class="number">1</span>]=left[<span class="number">0</span>]+right[<span class="number">0</span>]+root.val;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>ä¸æ˜¯æˆ‘å¹ï¼Œå°±è¿™æ ·çš„é¢˜ç›®ï¼Œå†é‡è§å¤šå°‘æ¬¡æˆ‘éƒ½å†™ä¸å‡ºæ¥è¿™æ ·çš„è§£ï¼ˆç¬‘</del></p>
<blockquote>
<p>2020.5.10æ›´æ–°ï¼Œåœ¨çœ‹äº†å·¦ç¥çš„ä¹¦åï¼Œäº†è§£åˆ°è¿™ç§å…¶å®å°±æ˜¯æ ‘å½¢DPï¼Œæ‰€è°“çš„æ ‘å½¢DPå®é™…ä¸Šå°±æ˜¯æŠŠé€’æ¨æ–¹ç¨‹æ¬åˆ°äº†æ ‘ç»“æ„ä¸Šï¼ŒæŒ‰æˆ‘çš„ç†è§£æ ‘å½¢DPå¾ˆå¤§çš„ç‰¹ç‚¹å°±æ˜¯æœ€ç»ˆçš„è§£å¯èƒ½å­˜åœ¨äºæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸ªå­é—®é¢˜ï¼Œå¯ä»¥ä»å­é—®é¢˜æ¨å‡ºçˆ¶é—®é¢˜</p>
</blockquote>
<h2 id="1372-äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„"><a href="#1372-äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„" class="headerlink" title="1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„"></a><a href="https://leetcode-cn.com/problems/longest-zigzag-path-in-a-binary-tree/" target="_blank" rel="noopener">1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„</a></h2><p>ç»™ä½ ä¸€æ£µä»¥ <code>root</code> ä¸ºæ ¹çš„äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘ä¸­çš„äº¤é”™è·¯å¾„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>é€‰æ‹©äºŒå‰æ ‘ä¸­ <strong>ä»»æ„</strong> èŠ‚ç‚¹å’Œä¸€ä¸ªæ–¹å‘ï¼ˆå·¦æˆ–è€…å³ï¼‰ã€‚</li>
<li>å¦‚æœå‰è¿›æ–¹å‘ä¸ºå³ï¼Œé‚£ä¹ˆç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹çš„çš„å³å­èŠ‚ç‚¹ï¼Œå¦åˆ™ç§»åŠ¨åˆ°å®ƒçš„å·¦å­èŠ‚ç‚¹ã€‚</li>
<li>æ”¹å˜å‰è¿›æ–¹å‘ï¼šå·¦å˜å³æˆ–è€…å³å˜å·¦ã€‚</li>
<li>é‡å¤ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ï¼Œç›´åˆ°ä½ åœ¨æ ‘ä¸­æ— æ³•ç»§ç»­ç§»åŠ¨ã€‚</li>
</ul>
<p>äº¤é”™è·¯å¾„çš„é•¿åº¦å®šä¹‰ä¸ºï¼š<strong>è®¿é—®è¿‡çš„èŠ‚ç‚¹æ•°ç›® - 1</strong>ï¼ˆå•ä¸ªèŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ä¸º 0 ï¼‰ã€‚</p>
<p>è¯·ä½ è¿”å›ç»™å®šæ ‘ä¸­æœ€é•¿ <strong>äº¤é”™è·¯å¾„</strong> çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/22/YX1tJO.png" alt="YX1tJO.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šè“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå³ -&gt; å·¦ -&gt; å³ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/22/YX1NWD.png" alt="YX1NWD.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šè“è‰²èŠ‚ç‚¹ä¸ºæ ‘ä¸­æœ€é•¿äº¤é”™è·¯å¾„ï¼ˆå·¦ -&gt; å³ -&gt; å·¦ -&gt; å³ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ¯æ£µæ ‘æœ€å¤šæœ‰ <code>50000</code> ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼åœ¨ <code>[1, 100]</code> ä¹‹é—´ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŸæ¬¡å‘¨èµ›çš„T3ï¼Œæ ‘å½¢DP</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestZigZag</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> max-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å‰èŠ‚ç‚¹å·¦å³äº¤é”™è·¯å¾„çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] dfs(TreeNode root)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    res[<span class="number">0</span>]=dfs(root.left)[<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">    res[<span class="number">1</span>]=dfs(root.right)[<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">    max=Math.max(max,Math.max(res[<span class="number">0</span>],res[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Update: 2020.6.21</strong></p>
<p>ç”¨goé‡å†™ï¼ˆå›é¡¾ï¼‰ä¸‹</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestZigZag</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> Max = <span class="function"><span class="keyword">func</span><span class="params">(a,b <span class="keyword">int</span>)</span><span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> a&gt;b&#123;<span class="keyword">return</span> a&#125;</span><br><span class="line">        <span class="keyword">return</span> b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span>[]<span class="title">int</span></span></span><br><span class="line">    <span class="keyword">var</span> res = <span class="number">0</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span>[]<span class="title">int</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> root==<span class="literal">nil</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="keyword">int</span>&#123;<span class="number">0</span>,<span class="number">0</span>&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//0ï¼šå‘å·¦èµ°æœ€é•¿äº¤é”™ 1ï¼šå‘å³æœ€é•¿äº¤é”™è·¯å¾„</span></span><br><span class="line">        left := dfs(root.Left)</span><br><span class="line">        right := dfs(root.Right)</span><br><span class="line">        res=Max(res,Max(left[<span class="number">1</span>]+<span class="number">1</span>,right[<span class="number">0</span>]+<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> []<span class="keyword">int</span>&#123;left[<span class="number">1</span>]+<span class="number">1</span>,right[<span class="number">0</span>]+<span class="number">1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line">    <span class="keyword">return</span> res<span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>ç›´æ¥æœç´¢çš„åšæ³•ï¼Œå…¶å®è¿™ç§åšæ³•æ²¡æœ‰ä¸Šé¢æ ‘å½¢dpå¥½ç†è§£ï¼Œdfså‡½æ•°çš„å®šä¹‰ä¼šå’Œçˆ¶èŠ‚ç‚¹æ··åˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestZigZag</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root,<span class="keyword">false</span>);<span class="comment">//true falseéƒ½æ— æ‰€è°“ï¼Œrootæ²¡æœ‰çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> res-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½“å‰èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹å½¢æˆçš„äº¤é”™è·¯å¾„é•¿åº¦ï¼ŒisRightä»£è¡¨çˆ¶èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„èµ°å‘æ˜¯ä¸æ˜¯right</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root,<span class="keyword">boolean</span> isRight)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> l=dfs(root.left,<span class="keyword">false</span>);</span><br><span class="line">    <span class="keyword">int</span> r=dfs(root.right,<span class="keyword">true</span>);</span><br><span class="line">    res=Math.max(res,Math.max(l+<span class="number">1</span>,r+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span>(isRight)&#123;</span><br><span class="line">        <span class="keyword">return</span> l+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="968-ç›‘æ§äºŒå‰æ ‘"><a href="#968-ç›‘æ§äºŒå‰æ ‘" class="headerlink" title="968. ç›‘æ§äºŒå‰æ ‘"></a><a href="https://leetcode-cn.com/problems/binary-tree-cameras/" target="_blank" rel="noopener">968. ç›‘æ§äºŒå‰æ ‘</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚</p>
<p>èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†<strong>å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚</strong></p>
<p>è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/09/23/wjBgQ1.png" alt="wjBgQ1.png"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">0</span>,null,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/09/23/wjBfeK.png" alt="wjBfeK.png"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">0</span>,null,<span class="number">0</span>,null,<span class="number">0</span>,null,null,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šéœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> ç»™å®šæ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯Â <code>[1, 1000]</code>ã€‚</li>
<li> æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 0ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ ‘å½¢DP</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * type TreeNode struct &#123;</span></span><br><span class="line"><span class="comment"> * Â  Â  Val int</span></span><br><span class="line"><span class="comment"> * Â  Â  Left *TreeNode</span></span><br><span class="line"><span class="comment"> * Â  Â  Right *TreeNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//0: è¦†ç›–æ•´æ£µæ ‘ï¼Œrootå¿…é¡»è®¾ç½®ç›‘æ§</span></span><br><span class="line"><span class="comment">//1: è¦†ç›–æ•´æ£µæ ‘ï¼Œæ— è®ºrootæ˜¯å¦è®¾ç½®ç›‘æ§</span></span><br><span class="line"><span class="comment">//2: è¦†ç›–ä¸¤é¢—å­æ ‘ï¼Œæ— è®ºrootæ˜¯å¦è¢«è¦†ç›–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minCameraCover</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> Min = <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;<span class="keyword">if</span> a &lt; b &#123;<span class="keyword">return</span> a&#125;; <span class="keyword">return</span> b&#125;</span><br><span class="line"> Â  Â <span class="keyword">var</span> INF = <span class="number">0x3f3f3f3f</span></span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(root *TreeNode)</span> [3]<span class="title">int</span></span> </span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span> <span class="params">(root *TreeNode)</span> [3]<span class="title">int</span></span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">var</span> res [<span class="number">3</span>]<span class="keyword">int</span></span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">return</span> [<span class="number">3</span>]<span class="keyword">int</span>&#123;INF, <span class="number">0</span>, <span class="number">0</span>&#125;</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â left := dfs(root.Left)</span><br><span class="line"> Â  Â  Â  Â right := dfs(root.Right)</span><br><span class="line"> Â  Â  Â  Â res[<span class="number">0</span>] = left[<span class="number">2</span>] + right[<span class="number">2</span>] + <span class="number">1</span></span><br><span class="line"> Â  Â  Â  Â res[<span class="number">1</span>] = Min(res[<span class="number">0</span>], Min(left[<span class="number">0</span>]+right[<span class="number">1</span>], left[<span class="number">1</span>]+right[<span class="number">0</span>]))</span><br><span class="line"> Â  Â  Â  Â res[<span class="number">2</span>] = Min(res[<span class="number">0</span>], left[<span class="number">1</span>] + right[<span class="number">1</span>])</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> res</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â r := dfs(root)</span><br><span class="line"> Â  Â <span class="keyword">return</span> r[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰"><a href="#æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰" class="headerlink" title="æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰"></a><em>æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰</em></h2><p>æš‚æ—¶å…ˆæ”¾åœ¨è¿™é‡Œï¼Œç­‰ä»¥åç´¯è®¡å¤šäº†å†å•ç‹¬å¼€è¾Ÿä¸“é¢˜</p>
<h2 id="315-è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"><a href="#315-è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°" class="headerlink" title="315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"></a><a href="https://leetcode-cn.com/problems/count-of-smaller-numbers-after-self/" target="_blank" rel="noopener">315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <em>nums_ï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„Â _counts_ã€‚æ•°ç»„ _counts</em> æœ‰è¯¥æ€§è´¨ï¼š <code>counts[i]</code> çš„å€¼æ˜¯Â  <code>nums[i]</code> å³ä¾§å°äºÂ <code>nums[i]</code> çš„å…ƒç´ çš„æ•°é‡ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"><span class="number">5</span> çš„å³ä¾§æœ‰ <span class="number">2</span> ä¸ªæ›´å°çš„å…ƒç´  (<span class="number">2</span> å’Œ <span class="number">1</span>)</span><br><span class="line"><span class="number">2</span> çš„å³ä¾§ä»…æœ‰ <span class="number">1</span> ä¸ªæ›´å°çš„å…ƒç´  (<span class="number">1</span>)</span><br><span class="line"><span class="number">6</span> çš„å³ä¾§æœ‰ <span class="number">1</span> ä¸ªæ›´å°çš„å…ƒç´  (<span class="number">1</span>)</span><br><span class="line"><span class="number">1</span> çš„å³ä¾§æœ‰ <span class="number">0</span> ä¸ªæ›´å°çš„å…ƒç´ </span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  <code>0 &lt;= nums.length &lt;= 10^5</code></li>
<li>  <code>-10^4Â &lt;= nums[i] &lt;= 10^4</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜æœ‰<a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/#315-%E8%AE%A1%E7%AE%97%E5%8F%B3%E4%BE%A7%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0">æ›´å¥½çš„åšæ³•</a>ï¼Œç›´æ¥å½’å¹¶å°±è¡Œäº†ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†å­¦ä¹ BIT</p>
<p>æš´åŠ›çš„åšæ³•: å…¶å®å°±æ˜¯æ¡¶æ’åºçš„æ€æƒ³ï¼Œæˆ‘ä»¬ä»å³å‘å·¦æ‰«æ•°ç»„ï¼Œæ‰«æä¸€ä¸ªå°±åœ¨å¯¹åº”çš„æ¡¶+1ï¼ŒåŒæ—¶è®¡ç®—è¯¥ä½ç½®å·¦è¾¹çš„å‰ç¼€å’Œï¼Œå°±æ˜¯å³è¾¹æ¯”å½“å‰å…ƒç´ å°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç»“æœï¼Œä½†æ˜¯é—®é¢˜æ˜¯è¿™ä¸ª<code>bit</code>æ•°ç»„æ˜¯ä¸€ç›´åœ¨å˜åŒ–çš„ï¼Œæ‰«æä¸€ä¸ªå…ƒç´ å°±ä¼šåœ¨bitæ•°ç»„å¯¹åº”çš„ä½ç½®ä¸Š+1ï¼Œæ¯æ¬¡å˜åŒ–åéƒ½éœ€è¦O(N)æ¥é‡æ–°è®¡ç®—åç¼€å’Œï¼Œè¿™æ ·æ•´ä½“çš„å¤æ‚åº¦å°±æ˜¯O(N^2)ï¼Œæ•°æ®é‡1e5ï¼Œè¿‡ä¸äº†OJ</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åŒºé—´å’Œï¼Œä½†æ˜¯çº¿æ®µæ ‘ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œå¸¸æ•°ä¹Ÿæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥è¿™é‡Œå­¦ä¸€ä¸‹æ–°ç§‘æŠ€ï¼š**<a href="https://blog.csdn.net/Yaokai_AssultMaster/article/details/79492190" target="_blank" rel="noopener">æ ‘çŠ¶æ•°ç»„</a>**ï¼ŒåŒºé—´æŸ¥è¯¢ï¼Œå•ç‚¹ä¿®æ”¹æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯logNï¼Œä¸”ä»£ç ç®€å•ã€‚</p>
<p>åŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æŒ‰ç…§å€¼æ¥å®šä½æ˜¯ä¸åˆé€‚çš„ï¼Œæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œç›´æ¥æŒ‰ç…§å…ƒç´ å€¼æ¥å®šä½ä¼šé€ æˆå¾ˆå¤§ç©ºé—´çš„æµªè´¹ï¼Œå¹¶ä¸”é¢˜ç›®ä¹Ÿä¸å…è®¸å¼€è¿™ä¹ˆå¤§çš„ç©ºé—´ï¼Œæ‰€ä»¥è¿˜éœ€è¦ç¦»æ•£åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬åªå…³ç³»å…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬æ¢æˆæ¯ä¸ªå…ƒç´ è¯´å¯¹åº”çš„rankå°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i &amp; -i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//updateç´¢å¼•iä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> delta)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= n) &#123;</span><br><span class="line">        tree[i] += delta;</span><br><span class="line">        i += lowbit(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ä»1å¼€å§‹</span></span><br><span class="line">    <span class="keyword">while</span> (i &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        sum += tree[i];</span><br><span class="line">        i -= lowbit(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æš´åŠ›çš„åšæ³•: å…¶å®å°±æ˜¯æ¡¶æ’åºçš„æ€æƒ³ï¼Œæˆ‘ä»¬ä»å³å‘å·¦æ‰«æ•°ç»„ï¼Œæ‰«æä¸€ä¸ªå°±åœ¨å¯¹åº”çš„æ¡¶+1ï¼Œ</span></span><br><span class="line"><span class="comment">åŒæ—¶è®¡ç®—è¯¥ä½ç½®å·¦è¾¹çš„å‰ç¼€å’Œï¼Œå°±æ˜¯å³è¾¹æ¯”å½“å‰å…ƒç´ å°çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç»“æœï¼Œ</span></span><br><span class="line"><span class="comment">ä½†æ˜¯é—®é¢˜æ˜¯è¿™ä¸ª`bit`æ•°ç»„æ˜¯ä¸€ç›´åœ¨å˜åŒ–çš„ï¼Œæ‰«æä¸€ä¸ªå…ƒç´ å°±ä¼šåœ¨bitæ•°ç»„å¯¹åº”çš„ä½ç½®ä¸Š+1ï¼Œ</span></span><br><span class="line"><span class="comment">æ¯æ¬¡å˜åŒ–åéƒ½éœ€è¦O(N)æ¥é‡æ–°è®¡ç®—åç¼€å’Œï¼Œè¿™æ ·æ•´ä½“çš„å¤æ‚åº¦å°±æ˜¯O(N^2)ï¼Œæ•°æ®é‡1e5ï¼Œè¿‡ä¸äº†OJ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åŒºé—´å’Œï¼Œä½†æ˜¯çº¿æ®µæ ‘ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œå¸¸æ•°ä¹Ÿæ¯”è¾ƒå¤§</span></span><br><span class="line"><span class="comment">æ‰€ä»¥è¿™é‡Œå­¦ä¸€ä¸‹æ–°ç§‘æŠ€ï¼š**æ ‘çŠ¶æ•°ç»„**ï¼ŒåŒºé—´æŸ¥è¯¢ï¼Œå•ç‚¹ä¿®æ”¹æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯logNï¼Œä¸”ä»£ç ç®€å•ã€‚</span></span><br><span class="line"><span class="comment">åŒæ—¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æŒ‰ç…§å€¼æ¥å®šä½æ˜¯ä¸åˆé€‚çš„ï¼Œæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œ</span></span><br><span class="line"><span class="comment">ç›´æ¥æŒ‰ç…§å…ƒç´ å€¼æ¥å®šä½ä¼šé€ æˆå¾ˆå¤§ç©ºé—´çš„æµªè´¹ï¼Œå¹¶ä¸”é¢˜ç›®ä¹Ÿä¸å…è®¸å¼€è¿™ä¹ˆå¤§çš„ç©ºé—´</span></span><br><span class="line"><span class="comment">æ‰€ä»¥è¿˜éœ€è¦ç¦»æ•£åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬åªå…³ç³»å…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬è½¬æ¢æˆæ¯ä¸ªå…ƒç´ è¯´å¯¹åº”çš„rankå°±è¡Œäº†</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    n = nums.length;</span><br><span class="line">    tree = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] rank = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="comment">//temp[0]: index temp[1]: val</span></span><br><span class="line">    <span class="keyword">int</span>[][] temp = <span class="keyword">new</span> <span class="keyword">int</span>[n][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        temp[i] = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, nums[i]&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¦»æ•£åŒ–</span></span><br><span class="line">    Arrays.sort(temp, (t1, t2) -&gt; t1[<span class="number">1</span>]-t2[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        rank[temp[i][<span class="number">0</span>]] = i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="comment">//O(NlogN)æ„å»ºBIT(å¯ä»¥ä¼˜åŒ–æˆO(N))</span></span><br><span class="line">        update(rank[i], <span class="number">1</span>);</span><br><span class="line">        res.add(<span class="number">0</span>, query(rank[i]-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#LeetCode-äºŒå‰æ ‘"><span class="toc-text">LeetCode äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#144-äºŒå‰æ ‘çš„å‰åºéå†"><span class="toc-text">144. äºŒå‰æ ‘çš„å‰åºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#589-Nå‰æ ‘çš„å‰åºéå†"><span class="toc-text">589. Nå‰æ ‘çš„å‰åºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#94-äºŒå‰æ ‘çš„ä¸­åºéå†"><span class="toc-text">94. äºŒå‰æ ‘çš„ä¸­åºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#145-äºŒå‰æ ‘çš„ååºéå†"><span class="toc-text">145. äºŒå‰æ ‘çš„ååºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#590-Nå‰æ ‘çš„ååºéå†"><span class="toc-text">590. Nå‰æ ‘çš„ååºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#102-äºŒå‰æ ‘çš„å±‚æ¬¡éå†"><span class="toc-text">102. äºŒå‰æ ‘çš„å±‚æ¬¡éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#429-Nå‰æ ‘çš„å±‚åºéå†"><span class="toc-text">429. Nå‰æ ‘çš„å±‚åºéå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#107-äºŒå‰æ ‘çš„å±‚æ¬¡éå†-II"><span class="toc-text">107. äºŒå‰æ ‘çš„å±‚æ¬¡éå† II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†"><span class="toc-text">103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#199-äºŒå‰æ ‘çš„å³è§†å›¾"><span class="toc-text">199. äºŒå‰æ ‘çš„å³è§†å›¾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#637-äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼"><span class="toc-text">637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#104-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><span class="toc-text">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#559-Nå‰æ ‘çš„æœ€å¤§æ·±åº¦"><span class="toc-text">559. Nå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#111-äºŒå‰æ ‘çš„æœ€å°æ·±åº¦"><span class="toc-text">111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#226-ç¿»è½¬äºŒå‰æ ‘"><span class="toc-text">226. ç¿»è½¬äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#100-ç›¸åŒçš„æ ‘"><span class="toc-text">100. ç›¸åŒçš„æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#951-ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘"><span class="toc-text">951. ç¿»è½¬ç­‰ä»·äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#572-å¦ä¸€ä¸ªæ ‘çš„å­æ ‘"><span class="toc-text">572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜26-æ ‘çš„å­ç»“æ„"><span class="toc-text">é¢è¯•é¢˜26. æ ‘çš„å­ç»“æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#222-å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°"><span class="toc-text">222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#112-è·¯å¾„æ€»å’Œ"><span class="toc-text">112. è·¯å¾„æ€»å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#404-å·¦å¶å­ä¹‹å’Œ"><span class="toc-text">404. å·¦å¶å­ä¹‹å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"><span class="toc-text">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#113-è·¯å¾„æ€»å’Œ-II"><span class="toc-text">113. è·¯å¾„æ€»å’Œ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#894-æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘"><span class="toc-text">894. æ‰€æœ‰å¯èƒ½çš„æ»¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#129-æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ"><span class="toc-text">129. æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1022-ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ"><span class="toc-text">1022. ä»æ ¹åˆ°å¶çš„äºŒè¿›åˆ¶æ•°ä¹‹å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#437-è·¯å¾„æ€»å’Œ-III"><span class="toc-text">437. è·¯å¾„æ€»å’Œ III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#235-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><span class="toc-text">235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#98-éªŒè¯äºŒå‰æœç´¢æ ‘"><span class="toc-text">98. éªŒè¯äºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#958-äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ"><span class="toc-text">958. äºŒå‰æ ‘çš„å®Œå…¨æ€§æ£€éªŒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#108-å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘"><span class="toc-text">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#109-æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘"><span class="toc-text">109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#230-äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ "><span class="toc-text">230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><span class="toc-text">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#101-å¯¹ç§°äºŒå‰æ ‘"><span class="toc-text">101. å¯¹ç§°äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#513-æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼"><span class="toc-text">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><span class="toc-text">105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><span class="toc-text">106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#889-æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘"><span class="toc-text">889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨"><span class="toc-text">114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"><span class="toc-text">é¢è¯•é¢˜36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#116-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ"><span class="toc-text">116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#117-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ-II"><span class="toc-text">117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#450-åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹"><span class="toc-text">450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#701-äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ"><span class="toc-text">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#662-äºŒå‰æ ‘æœ€å¤§å®½åº¦"><span class="toc-text">662. äºŒå‰æ ‘æœ€å¤§å®½åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#671-äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹"><span class="toc-text">671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#938-äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ"><span class="toc-text">938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#617-åˆå¹¶äºŒå‰æ ‘"><span class="toc-text">617. åˆå¹¶äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#530-äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®"><span class="toc-text">530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#501-äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°"><span class="toc-text">501. äºŒå‰æœç´¢æ ‘ä¸­çš„ä¼—æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#515-åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼"><span class="toc-text">515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#173-äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨"><span class="toc-text">173. äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#95-ä¸åŒçš„äºŒå‰æœç´¢æ ‘-II"><span class="toc-text">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#538-æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘"><span class="toc-text">538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#508-å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"><span class="toc-text">508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#606-æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²"><span class="toc-text">606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1315-ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ"><span class="toc-text">1315. ç¥–çˆ¶èŠ‚ç‚¹å€¼ä¸ºå¶æ•°çš„èŠ‚ç‚¹å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1026-èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼"><span class="toc-text">1026. èŠ‚ç‚¹ä¸å…¶ç¥–å…ˆä¹‹é—´çš„æœ€å¤§å·®å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1325-åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹"><span class="toc-text">1325. åˆ é™¤ç»™å®šå€¼çš„å¶å­èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1305-ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ "><span class="toc-text">1305. ä¸¤æ£µäºŒå‰æœç´¢æ ‘ä¸­çš„æ‰€æœ‰å…ƒç´ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1339-åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯"><span class="toc-text">1339. åˆ†è£‚äºŒå‰æ ‘çš„æœ€å¤§ä¹˜ç§¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><span class="toc-text">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘"><span class="toc-text">449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><span class="toc-text">é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#654-æœ€å¤§äºŒå‰æ ‘"><span class="toc-text">654. æœ€å¤§äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#998-æœ€å¤§äºŒå‰æ ‘-II"><span class="toc-text">998. æœ€å¤§äºŒå‰æ ‘ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#652-å¯»æ‰¾é‡å¤çš„å­æ ‘"><span class="toc-text">652. å¯»æ‰¾é‡å¤çš„å­æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#653-ä¸¤æ•°ä¹‹å’Œ-IV-è¾“å…¥-BST"><span class="toc-text">653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#872-å¶å­ç›¸ä¼¼çš„æ ‘"><span class="toc-text">872. å¶å­ç›¸ä¼¼çš„æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5398-ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®"><span class="toc-text">5398. ç»Ÿè®¡äºŒå‰æ ‘ä¸­å¥½èŠ‚ç‚¹çš„æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#669-ä¿®å‰ªäºŒå‰æœç´¢æ ‘"><span class="toc-text">669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#814-äºŒå‰æ ‘å‰ªæ"><span class="toc-text">814. äºŒå‰æ ‘å‰ªæ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#965-å•å€¼äºŒå‰æ ‘"><span class="toc-text">965. å•å€¼äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1145-äºŒå‰æ ‘ç€è‰²æ¸¸æˆ"><span class="toc-text">1145. äºŒå‰æ ‘ç€è‰²æ¸¸æˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#993-äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹"><span class="toc-text">993. äºŒå‰æ ‘çš„å ‚å…„å¼ŸèŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#440-å­—å…¸åºçš„ç¬¬Kå°æ•°å­—"><span class="toc-text">440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#386-å­—å…¸åºæ’æ•°"><span class="toc-text">386. å­—å…¸åºæ’æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1028-ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘"><span class="toc-text">1028. ä»å…ˆåºéå†è¿˜åŸäºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#897-é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘"><span class="toc-text">897. é€’å¢é¡ºåºæŸ¥æ‰¾æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"><span class="toc-text">979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#99-æ¢å¤äºŒå‰æœç´¢æ ‘"><span class="toc-text">99. æ¢å¤äºŒå‰æœç´¢æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1302-å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ"><span class="toc-text">1302. å±‚æ•°æœ€æ·±å¶å­èŠ‚ç‚¹çš„å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ ‘å½¢DP-å¤§æ¦‚"><span class="toc-text">æ ‘å½¢DP(å¤§æ¦‚)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#110-å¹³è¡¡äºŒå‰æ ‘"><span class="toc-text">110. å¹³è¡¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#563-äºŒå‰æ ‘çš„å¡åº¦"><span class="toc-text">563. äºŒå‰æ ‘çš„å¡åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#543-äºŒå‰æ ‘çš„ç›´å¾„"><span class="toc-text">543. äºŒå‰æ ‘çš„ç›´å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><span class="toc-text">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#687-æœ€é•¿åŒå€¼è·¯å¾„"><span class="toc-text">687. æœ€é•¿åŒå€¼è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#595-äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰"><span class="toc-text">595. äºŒå‰æ ‘æœ€é•¿è¿ç»­åºåˆ—ï¼ˆLintCodeï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#337-æ‰“å®¶åŠ«èˆ-III"><span class="toc-text">337. æ‰“å®¶åŠ«èˆ III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1372-äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„"><span class="toc-text">1372. äºŒå‰æ ‘ä¸­çš„æœ€é•¿äº¤é”™è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#968-ç›‘æ§äºŒå‰æ ‘"><span class="toc-text">968. ç›‘æ§äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰"><span class="toc-text">æ ‘çŠ¶æ•°ç»„ï¼ˆBITï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#315-è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"><span class="toc-text">315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</span></a></li></ol>
  </div>


  </div>
</div>

    <section id="comments" style="margin:10px;padding:10px;background:#fff;">
      
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'imlgw';
    
    var disqus_url = 'http://imlgw.top/2019/11/06/leetcode-er-cha-shu/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script id="dsq-count-scr" src="//imlgw.disqus.com/count.js" async></script>



    </section>
<div class="copyright">
    <span>æœ¬ä½œå“é‡‡ç”¨</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>
    <span>è¿›è¡Œè®¸å¯ã€‚ è½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ã€‚</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2019/10/10/leetcode-hui-su/" rel="next" title="LeetCodeå›æº¯&amp;é€’å½’">
          LeetCodeå›æº¯&amp;é€’å½’
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/11/08/er-fen-sou-suo-shu/" rel="prev" title="äºŒåˆ†æœç´¢æ ‘">
            äºŒåˆ†æœç´¢æ ‘
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  

    </div>

    
  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/imlgw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="/links">å‹æƒ…é“¾æ¥</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://imlgw.avosapps.us/" target="_blank" rel="noopener">åšå®¢è¯„è®ºç®¡ç†</a>
    </div>
    <div id="bottom-inner">
        <a class="bottom-item" href="http://beian.miit.gov.cn/publish/query/indexFirst.action" target="_blank">é„‚ICPå¤‡18011208å·</a>
    </div>
</footer>

  
  
  <script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * ç»™logoè®¾ç½®ç‚¹å‡»äº‹ä»¶
     * 
     * - å›åˆ°é¡¶éƒ¨
     * - å‡ºç°çˆ±å¿ƒ
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>
  
  



  

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>
</html>
