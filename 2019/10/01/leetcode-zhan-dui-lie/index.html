
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="LeetCode," />
  

  
    <meta name="description" content="å¤§æ‚²æ— æ³ªï¼Œå¤§æ‚Ÿæ— è¨€ï¼Œå¤§ç¬‘æ— å£°ã€‚" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/img/cat.ico">
  
  <title>LeetCodeæ ˆ&amp;é˜Ÿåˆ— [ iMlGw0 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
    <span class="title" style="text-transform:none">iMlGw0</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">é¦–é¡µ</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="post" class="pure-menu-link">æ–‡ç« </a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">åˆ†ç±»</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">å½’æ¡£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">æ ‡ç­¾</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="LC" class="pure-menu-link">LC</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/" style="color:#202020;" class="pure-menu-link">æ•°ç»„</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/02/27/leetcode-lian-biao/" style="color:#202020;" class="pure-menu-link">é“¾è¡¨</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/01/leetcode-zhan-dui-lie/" style="color:#202020;" class="pure-menu-link">æ ˆ&amp;é˜Ÿåˆ—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/15/leetcode-cha-zhao/" style="color:#202020;" class="pure-menu-link">æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/" style="color:#202020;" class="pure-menu-link">æ»‘åŠ¨çª—å£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/" style="color:#202020;" class="pure-menu-link">åŠ¨æ€è§„åˆ’</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/12/06/leetcode-er-fen-cha-zhao/" style="color:#202020;" class="pure-menu-link">äºŒåˆ†æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/06/leetcode-er-cha-shu/" style="color:#202020;" class="pure-menu-link">äºŒå‰æ ‘</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/29/leetcode-bei-bao-wen-ti/" style="color:#202020;" class="pure-menu-link">èƒŒåŒ…é—®é¢˜</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/10/leetcode-hui-su/" style="color:#202020;" class="pure-menu-link">å›æº¯</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/01/21/leetcode-tan-xin/" style="color:#202020;" class="pure-menu-link">è´ªå¿ƒ</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/project" class="pure-menu-link">é¡¹ç›®</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/search" class="pure-menu-link">æœç´¢</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">å…³äº</a></li>
            
          
      
  </ul>
   
</nav>

  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        LeetCodeæ ˆ&amp;é˜Ÿåˆ—
      </h1>
      <span>
        
        <time class="time" datetime="2019-09-30T16:00:00.000Z">
        2019-10-01
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> ç‚¹å‡»
    </span>
      <span class="slash">/</span>
      <span class="read">é˜…è¯»è€—æ—¶ 142 åˆ†é’Ÿ</span>
    </header>

    <div class="post-content">
      <h2 id="20-æœ‰æ•ˆçš„æ‹¬å·"><a href="#20-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="20. æœ‰æ•ˆçš„æ‹¬å·"></a><a href="https://leetcode-cn.com/problems/valid-parentheses/" target="_blank" rel="noopener">20. æœ‰æ•ˆçš„æ‹¬å·</a></h2><p>Given a string containing just the characters <code>&#39;(&#39;</code>, <code>&#39;)&#39;</code>, <code>&#39;{&#39;</code>, <code>&#39;}&#39;</code>, <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code>, determine if the input string is valid.</p>
<p>An input string is valid if:</p>
<ol>
<li>Open brackets must be closed by the same type of brackets.</li>
<li>Open brackets must be closed in the correct order.</li>
</ol>
<p>Note that an empty string is also considered valid.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">"()"</span></span><br><span class="line">Output: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">"()[]&#123;&#125;"</span></span><br><span class="line">Output: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">"(]"</span></span><br><span class="line">Output: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">"([)]"</span></span><br><span class="line">Output: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 5:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">"&#123;[]&#125;"</span></span><br><span class="line">Output: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é“é¢˜åªè¦å­¦è¿‡æ•°æ®ç»“æ„çš„è‚¯å®šä¼šåšï¼Œå…¸å‹çš„åˆ©ç”¨æ ˆçš„é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid2</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Character&gt; stack=<span class="keyword">new</span> Stack();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==<span class="string">'('</span> || s.charAt(i)==<span class="string">'&#123;'</span> || s.charAt(i)==<span class="string">'['</span>)&#123;</span><br><span class="line">            stack.push(s.charAt(i));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//æ³¨æ„è¿™ç§æƒ…å†µï¼Œä¸€å¼€å§‹å°±æ˜¯])&#125;</span></span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">char</span> p=s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>( (p==<span class="string">')'</span> &amp;&amp; stack.pop()!=<span class="string">'('</span>) || (p==<span class="string">']'</span> &amp;&amp; stack.pop()!=<span class="string">'['</span>) || (p==<span class="string">'&#125;'</span> &amp;&amp; stack.pop()!=<span class="string">'&#123;'</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å…¶å®å’Œä¸Šé¢çš„è§£æ³•æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ˜¯ç”¨çš„stackæ˜¯è‡ªå·±ç”¨æ•°ç»„ç®€å•å°è£…çš„æ ˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    T [] objValues=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> top=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">(<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        objValues= (T[]) <span class="keyword">new</span> Object[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T obj)</span></span>&#123;</span><br><span class="line">        objValues[++top]=obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"stack is isEmpty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"stack is isEmpty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¦†ç›–</span></span><br><span class="line">        <span class="keyword">return</span> objValues[top--];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3msï¼Œ94%ï¼Œæ¯”ä¹‹å‰å¿«äº†ä¸€ç‚¹ï¼Œå»çœ‹äº†ä¸‹Stackçš„æºç ï¼Œå®ƒçš„popæ˜¯çœŸçš„åˆ é™¤ï¼Œæˆ‘çš„åªæ˜¯ç§»åŠ¨äº†æŒ‡é’ˆï¼Œæ‰€ä»¥æ•ˆç‡ä¼šé«˜å¾ˆå¤š</p>
<blockquote>
<p>åé¢çš„é¢˜å¯èƒ½è¿˜ä¼šåˆ©ç”¨è¿™ä¸ª<code>MyStack</code></p>
</blockquote>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ä»Šå¤©çœ‹é¢ç­‹çœ‹åˆ°ä¸€ä¸ªå†™è¿™é“é¢˜ï¼Œè¦æ±‚O(1)çš„ç©ºé—´å¤æ‚åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> len=s.length();</span><br><span class="line">        s=s.replace(<span class="string">"&#123;&#125;"</span>,<span class="string">""</span>);</span><br><span class="line">        s=s.replace(<span class="string">"()"</span>,<span class="string">""</span>);</span><br><span class="line">        s=s.replace(<span class="string">"[]"</span>,<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">if</span> (len==s.length()) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span>.equals(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>100msï¼Œæ•ˆç‡æ„Ÿäººï¼Œæ„Ÿè§‰åº”è¯¥è¯´çš„æ˜¯è¿™ç§åšæ³•å§ï¼Œå½“ç„¶è¿˜å¯ä»¥å†™æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ï¼Œä½†æ˜¯æˆ‘ä¸å¤ªä¼šå†™ã€‚ã€‚ã€‚</p>
<h2 id="678-æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"><a href="#678-æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²" class="headerlink" title="678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"></a><a href="https://leetcode-cn.com/problems/valid-parenthesis-string/" target="_blank" rel="noopener">678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªåªåŒ…å«ä¸‰ç§å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼šï¼ˆ ï¼Œï¼‰ å’Œ *ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚æœ‰æ•ˆå­—ç¬¦ä¸²å…·æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>ä»»ä½•å·¦æ‹¬å· <code>(</code> å¿…é¡»æœ‰ç›¸åº”çš„å³æ‹¬å· <code>)</code>ã€‚</li>
<li>ä»»ä½•å³æ‹¬å· <code>)</code> å¿…é¡»æœ‰ç›¸åº”çš„å·¦æ‹¬å· <code>(</code> ã€‚</li>
<li>å·¦æ‹¬å· <code>(</code> å¿…é¡»åœ¨å¯¹åº”çš„å³æ‹¬å·ä¹‹å‰ <code>)</code>ã€‚</li>
<li><code>*</code> å¯ä»¥è¢«è§†ä¸ºå•ä¸ªå³æ‹¬å· <code>)</code> ï¼Œæˆ–å•ä¸ªå·¦æ‹¬å· <code>(</code> ï¼Œæˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¹Ÿè¢«è§†ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"()"</span></span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"(*)"</span></span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"(*))"</span></span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>


<p><strong>æ³¨æ„:</strong></p>
<ol>
<li>å­—ç¬¦ä¸²å¤§å°å°†åœ¨ [1ï¼Œ100] èŒƒå›´å†…ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>çœ‹é¢ç­‹çœ‹åˆ°çš„è¿™ä¸€é¢˜ï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œè¯„è®ºåŒºæœ‰äººè¯´äº†åŒæ ˆï¼Œç„¶åä»Šå¤©æ¥è¯•äº†ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; bracketStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; starStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">'('</span>) &#123;</span><br><span class="line">            bracketStack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(i)==<span class="string">'*'</span>)&#123;</span><br><span class="line">            starStack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (bracketStack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (starStack.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                starStack.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                bracketStack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¶ˆé™¤å·¦æ‹¬å·</span></span><br><span class="line">    <span class="keyword">while</span>(!starStack.isEmpty() &amp;&amp; !bracketStack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(starStack.peek()&gt;bracketStack.peek())&#123; <span class="comment">//è¿™é‡Œçš„é€»è¾‘ä¸å¤ªå¥½ï¼Œå…¶å®å¯ä»¥å¾ˆç®€å•</span></span><br><span class="line">            bracketStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        starStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bracketStack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå¯æƒœæ²¡æœ‰<code>bugfree</code>ï¼Œæœ€åå¯¹å·¦æ‹¬å·çš„åˆ¤æ–­æ”¹äº†å¥½å‡ æ¬¡ï¼Œä¸€å¼€å§‹å†™çš„<code>bracketStack.size()&lt;=starStack().size()</code>  ç„¶åæäº¤åæ‰æ„è¯†åˆ°è¿˜è¦ <code>&quot;*(&quot;</code> è¿™æ ·çš„æƒ…å†µï¼Œç„¶åè¦æ¶ˆé™¤è¿™ç§æƒ…å†µä¹Ÿç®€å•ï¼Œä¸€å¼€å§‹æˆ‘å†æ ˆä¸­å­˜çš„å°±æ˜¯indexï¼Œä»staræ ˆé‡Œé¢å–æ¯”bracketæ ˆindexå¤§çš„ï¼Œç„¶åæ¶ˆé™¤ï¼Œæœ€åå†çœ‹æ‹¬å·æ ˆæ˜¯ä¸æ˜¯ç©º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2020.4.10é‡å†™ä¸€ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    Deque&lt;Integer&gt; helpStack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==<span class="string">'('</span>)&#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(i)==<span class="string">')'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(helpStack.isEmpty())&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                helpStack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            helpStack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; !helpStack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.pop()&gt;helpStack.pop())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="394-å­—ç¬¦ä¸²è§£ç "><a href="#394-å­—ç¬¦ä¸²è§£ç " class="headerlink" title="394. å­—ç¬¦ä¸²è§£ç "></a><a href="https://leetcode-cn.com/problems/decode-string/" target="_blank" rel="noopener">394. å­—ç¬¦ä¸²è§£ç </a></h2><p>ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚</p>
<p>ç¼–ç è§„åˆ™ä¸º: <code>k[encoded_string]</code>ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ <code>encoded_string</code> æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚</p>
<p>ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚</p>
<p>æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ 3a æˆ– 2[4] çš„è¾“å…¥ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"3[a]2[bc]"</span>, è¿”å› <span class="string">"aaabcbc"</span>.</span><br><span class="line">s = <span class="string">"3[a2[c]]"</span>, è¿”å› <span class="string">"accaccacc"</span>.</span><br><span class="line">s = <span class="string">"2[abc]3[cd]ef"</span>, è¿”å› <span class="string">"abcabccdcdcdef"</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å€ŸåŠ©æ ˆç›´æ¥åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è½¬æ¢ä¸ºStringBuilderæ¯”è¾ƒå¥½å¤„ç†,ä¸”æ•ˆç‡è¾ƒé«˜</span></span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">    Stack&lt;Integer&gt;  stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;<span class="comment">//éå†ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">while</span>(i&lt;sb.length()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sb.charAt(i)==<span class="string">'['</span>) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sb.charAt(i)==<span class="string">']'</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> left=stack.pop();<span class="comment">//å¯¹åº”å·¦æ‹¬å·ç´¢å¼•</span></span><br><span class="line">            String temp=sb.substring(left+<span class="number">1</span>,i);<span class="comment">//ç›¸é‚»æ‹¬å·ä¸­çš„å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">int</span> preInt=left;</span><br><span class="line">            <span class="comment">//'['å‰çš„æ•°å­—,ä¸€å¼€å§‹ä»¥ä¸ºåªæ˜¯ä¸ªä½æ•°,è¿˜æ˜¯æŒºéº»çƒ¦çš„</span></span><br><span class="line">            <span class="keyword">while</span>(preInt-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; sb.charAt(preInt-<span class="number">1</span>)&gt;=<span class="string">'0'</span> &amp;&amp; sb.charAt(preInt-<span class="number">1</span>) &lt;=<span class="string">'9'</span>)&#123;</span><br><span class="line">                preInt--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//repeatæ¬¡æ•°</span></span><br><span class="line">            <span class="keyword">int</span> repeat=Integer.valueOf(sb.substring(preInt,left));</span><br><span class="line">            <span class="comment">//åˆ é™¤ k[encoded_string] </span></span><br><span class="line">            sb.delete(preInt,Math.min(i+<span class="number">1</span>,sb.length()));</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;repeat;j++) &#123;</span><br><span class="line">                <span class="comment">//ä»kä½ç½®é‡æ–°æ’å…¥å­—ç¬¦</span></span><br><span class="line">                sb.insert(preInt,temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//é‡æ–°å®šä½ç´¢å¼•åˆ°å°¾éƒ¨</span></span><br><span class="line">            i=preInt+(repeat*temp.length())-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å¼€å§‹æ˜¯æƒ³ç”¨ä¸€ä¸ªé¢å¤–çš„Stringæ¥ä¿å­˜ç»“æœï¼Œç»“æœå‘ç°æ¯”è¾ƒéº»çƒ¦ï¼Œç´¢æ€§ç›´æ¥å°†åŸå­—ç¬¦è½¬æ¢ä¸ºStringBuilderï¼Œç„¶åå€ŸåŠ©apiç›´æ¥åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨ï¼Œå› ä¸ºæ˜¯åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨ï¼Œæ‰€ä»¥ç´¢å¼•çš„å˜åŒ–éœ€è¦é¢å¤–çš„æ³¨æ„ï¼Œè¿™ä¹Ÿæ˜¯æœ€éº»çƒ¦çš„ä¸€ç‚¹ï¼Œéœ€è¦åœä¸‹æ¥ç¨å¾®æ€è€ƒä¸‹æ‰èƒ½ç¡®å®šï¼Œå…¶ä»–çš„è¿˜å¥½ï¼Œæ­£å¸¸çš„æ€è·¯ï¼Œæœ€åˆWAäº†ä¸€å‘æ˜¯å› ä¸ºå¿½ç•¥äº†å‰é¢çš„æ•°å­—å¯èƒ½æ˜¯å¤šä½æ•°ğŸ˜‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’çš„æ–¹å¼ï¼Œæ”¹æˆ<code>StringBuilder</code>åº”è¯¥ä¼šå¥½ä¸€ç‚¹ğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> index=<span class="number">0</span>; <span class="comment">//å­—ç¬¦ç´¢å¼•ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String sb=<span class="string">""</span>;</span><br><span class="line">    <span class="keyword">while</span>(index&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(index)==<span class="string">']'</span>) &#123; <span class="comment">//é‡åˆ°å³æ‹¬å·å°±ç»“æŸ</span></span><br><span class="line">            index++;<span class="comment">//indexå®šä½åˆ°å³æ‹¬å·ä¸‹ä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">return</span> sb;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(index)&gt;=<span class="string">'0'</span> &amp;&amp; s.charAt(index)&lt;=<span class="string">'9'</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp=index;</span><br><span class="line">            <span class="keyword">while</span>(index&lt;s.length() &amp;&amp; s.charAt(index)!=<span class="string">'['</span>)&#123;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> repeat=Integer.valueOf(s.substring(temp,index));</span><br><span class="line">            index++;<span class="comment">//è·³è¿‡'['</span></span><br><span class="line">            String rs=decodeString(s);<span class="comment">//ä»å·¦æ‹¬å·å¼€å§‹</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;repeat;i++) &#123;</span><br><span class="line">                sb+=rs;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sb+=s.charAt(index++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="344-åè½¬å­—ç¬¦ä¸²"><a href="#344-åè½¬å­—ç¬¦ä¸²" class="headerlink" title="344. åè½¬å­—ç¬¦ä¸²"></a><a href="https://leetcode-cn.com/problems/reverse-string/" target="_blank" rel="noopener">344. åè½¬å­—ç¬¦ä¸²</a></h2><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚</p>
<p>ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»<strong>åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„</strong>ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚</p>
<p> <strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">"h"</span>,<span class="string">"e"</span>,<span class="string">"l"</span>,<span class="string">"l"</span>,<span class="string">"o"</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"o"</span>,<span class="string">"l"</span>,<span class="string">"l"</span>,<span class="string">"e"</span>,<span class="string">"h"</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">"H"</span>,<span class="string">"a"</span>,<span class="string">"n"</span>,<span class="string">"n"</span>,<span class="string">"a"</span>,<span class="string">"h"</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"h"</span>,<span class="string">"a"</span>,<span class="string">"n"</span>,<span class="string">"n"</span>,<span class="string">"a"</span>,<span class="string">"H"</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆä¹…ä¹‹å‰åšçš„äº†ï¼Œæœ¬æ¥æ˜¯æƒ³å•ç‹¬æä¸€ä¸ªé€’å½’ä¸“é¢˜ï¼Œæ„Ÿè§‰æ²¡å•¥å¿…è¦å°±ç›´æ¥åŠ åˆ°ä¸€èµ·äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(<span class="keyword">char</span>[] s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length&lt;=<span class="number">1</span>)<span class="keyword">return</span>;</span><br><span class="line">    reverseString(s,<span class="number">0</span>,s.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverseString</span><span class="params">(<span class="keyword">char</span>[] s,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> temp=s[l];</span><br><span class="line">    s[l]=s[r];</span><br><span class="line">    s[r]=temp;</span><br><span class="line">    reverseString(s,++l,--r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"><a href="#150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"></a><a href="https://leetcode-cn.com/problems/evaluate-reverse-polish-notation/" target="_blank" rel="noopener">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></h2><p>æ ¹æ®<a href="https://baike.baidu.com/item/%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F/128437" target="_blank" rel="noopener">é€†æ³¢å…°è¡¨ç¤ºæ³•</a>ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚</p>
<p>æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ <code>+, -, *, /</code> ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼</p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚</li>
<li>ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="string">"2"</span>, <span class="string">"1"</span>, <span class="string">"+"</span>, <span class="string">"3"</span>, <span class="string">"*"</span>]</span><br><span class="line">è¾“å‡º: <span class="number">9</span></span><br><span class="line">è§£é‡Š: ((<span class="number">2</span> + <span class="number">1</span>) * <span class="number">3</span>) = <span class="number">9</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="string">"4"</span>, <span class="string">"13"</span>, <span class="string">"5"</span>, <span class="string">"/"</span>, <span class="string">"+"</span>]</span><br><span class="line">è¾“å‡º: <span class="number">6</span></span><br><span class="line">è§£é‡Š: (<span class="number">4</span> + (<span class="number">13</span> / <span class="number">5</span>)) = <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="string">"10"</span>, <span class="string">"6"</span>, <span class="string">"9"</span>, <span class="string">"3"</span>, <span class="string">"+"</span>, <span class="string">"-11"</span>, <span class="string">"*"</span>, <span class="string">"/"</span>, <span class="string">"*"</span>, <span class="string">"17"</span>, <span class="string">"+"</span>, <span class="string">"5"</span>, <span class="string">"+"</span>]</span><br><span class="line">è¾“å‡º: <span class="number">22</span></span><br><span class="line">è§£é‡Š: </span><br><span class="line">  ((<span class="number">10</span> * (<span class="number">6</span> / ((<span class="number">9</span> + <span class="number">3</span>) * -<span class="number">11</span>))) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * (<span class="number">6</span> / (<span class="number">12</span> * -<span class="number">11</span>))) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * (<span class="number">6</span> / -<span class="number">132</span>)) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * <span class="number">0</span>) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= (<span class="number">0</span> + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= <span class="number">17</span> + <span class="number">5</span></span><br><span class="line">= <span class="number">22</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ä¸Šé¢è‡ªå·±å°è£…çš„Stack</span></span><br><span class="line">    MyStack&lt;Integer&gt; stack=<span class="keyword">new</span> MyStack&lt;&gt;(tokens.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tokens.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"+"</span>.equals(tokens[i]))&#123;</span><br><span class="line">            stack.push(stack.pop()+stack.pop());</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"-"</span>.equals(tokens[i]))&#123;</span><br><span class="line">            <span class="keyword">int</span> rd1=stack.pop();</span><br><span class="line">            <span class="keyword">int</span> rd2=stack.pop();</span><br><span class="line">            stack.push(rd2-rd1);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"*"</span>.equals(tokens[i]))&#123;</span><br><span class="line">            stack.push(stack.pop()*stack.pop());</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"/"</span>.equals(tokens[i]))&#123;</span><br><span class="line">            <span class="keyword">int</span> div1=stack.pop();</span><br><span class="line">            <span class="keyword">int</span> div2=stack.pop();</span><br><span class="line">            stack.push(div2/div1);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(Integer.valueOf(tokens[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.peek();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>12msï¼Œ90%ï¼Œå…¶å®ä¸€å¼€å§‹çœ‹åˆ°è¿™ä¸ªé¢˜æˆ‘æ˜¯æ‹’ç»çš„ï¼Œæˆ‘ä»¥ä¸ºåˆæ˜¯å•¥æ•°å­¦é¢˜ï¼Œç„¶åä»”ç»†çœ‹äº†ä¸‹å‘ç°æŒºç®€å•çš„ï¼Œæ€è·¯å°±æ˜¯åˆ©ç”¨æ ˆï¼Œæ¯æ¬¡é‡åˆ°ç¬¦å·å°±popä¸¤ä¸ªå‡ºæ¥è¿›è¡Œè¿ç®—ï¼Œç„¶åå†å…¥æ ˆï¼Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å‡æ³•å’Œé™¤æ³•çš„é¡ºåº</p>
<h2 id="71-ç®€åŒ–è·¯å¾„"><a href="#71-ç®€åŒ–è·¯å¾„" class="headerlink" title="71. ç®€åŒ–è·¯å¾„"></a><a href="https://leetcode-cn.com/problems/simplify-path/" target="_blank" rel="noopener">71. ç®€åŒ–è·¯å¾„</a></h2><p>ä»¥ Unix é£æ ¼ç»™å‡ºä¸€ä¸ªæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œä½ éœ€è¦ç®€åŒ–å®ƒã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œå°†å…¶è½¬æ¢ä¸ºè§„èŒƒè·¯å¾„ã€‚</p>
<p>åœ¨ Unix é£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ï¼›æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ ï¼ˆ..ï¼‰ è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ï¼›ä¸¤è€…éƒ½å¯ä»¥æ˜¯å¤æ‚ç›¸å¯¹è·¯å¾„çš„ç»„æˆéƒ¨åˆ†ã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a href="https://blog.csdn.net/u011327334/article/details/50355600" target="_blank" rel="noopener">Linux / Unixä¸­çš„ç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„</a></p>
<p>è¯·æ³¨æ„ï¼Œè¿”å›çš„è§„èŒƒè·¯å¾„å¿…é¡»å§‹ç»ˆä»¥æ–œæ  / å¼€å¤´ï¼Œå¹¶ä¸”ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ  <code>/</code>ã€‚æœ€åä¸€ä¸ªç›®å½•åï¼ˆå¦‚æœå­˜åœ¨ï¼‰<strong>ä¸èƒ½</strong>ä»¥ / ç»“å°¾ã€‚æ­¤å¤–ï¼Œè§„èŒƒè·¯å¾„å¿…é¡»æ˜¯è¡¨ç¤ºç»å¯¹è·¯å¾„çš„<strong>æœ€çŸ­</strong>å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/home/"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/home"</span></span><br><span class="line">è§£é‡Šï¼šæ³¨æ„ï¼Œæœ€åä¸€ä¸ªç›®å½•ååé¢æ²¡æœ‰æ–œæ ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/../"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/"</span></span><br><span class="line">è§£é‡Šï¼šä»æ ¹ç›®å½•å‘ä¸Šä¸€çº§æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºæ ¹æ˜¯ä½ å¯ä»¥åˆ°è¾¾çš„æœ€é«˜çº§ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/home//foo/"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/home/foo"</span></span><br><span class="line">è§£é‡Šï¼šåœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/a/./b/../../c/"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/c"</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/a/../../b/../c//.//"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/c"</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 6ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">"/a//b////c/d//././/.."</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"/a/b/c"</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">simplifyPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    MyStack&lt;String&gt; stack=<span class="keyword">new</span> MyStack&lt;&gt;(path.length());</span><br><span class="line">    StringBuilder str=<span class="keyword">new</span> StringBuilder(path);</span><br><span class="line">    <span class="comment">//è¿™é‡Œåˆ’åˆ†å‡ºæ¥æœ‰ä¸€éƒ¨åˆ†æ˜¯ç©ºçš„ ""</span></span><br><span class="line">    String[] s=path.split(<span class="string">"/"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty() &amp;&amp; s[i].equals(<span class="string">".."</span>)) &#123;</span><br><span class="line">            <span class="comment">//.. å›æº¯</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="string">"."</span>.equals(s[i]) &amp;&amp; !<span class="string">""</span>.equals(s[i]) &amp;&amp; !s[i].equals(<span class="string">".."</span>) ) &#123;</span><br><span class="line">            <span class="comment">//æ™®é€šçš„è‹±æ–‡å­—ç¬¦abcd</span></span><br><span class="line">            stack.push(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder res=<span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;stack.size(); i++) &#123;</span><br><span class="line">        res.append(<span class="string">"/"</span>+stack.get(i));   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå·±å°è£…çš„stack</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    T [] objValues=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> top=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">(<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        objValues= (T[]) <span class="keyword">new</span> Object[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(T obj)</span></span>&#123;</span><br><span class="line">        objValues[++top]=obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">peek</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"stack is isEmpty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"stack is isEmpty"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¦†ç›–</span></span><br><span class="line">        <span class="keyword">return</span> objValues[top--];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index&gt;top || index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"index is wrong"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æœ¬æ¥æ˜¯å¾ˆç®€å•çš„ï¼Œä½†æ˜¯æˆ‘é’»åˆ°ç‰›è§’å°–å»äº†ï¼Œä¸€ç›´æƒ³ç€æ€ä¹ˆåœ¨éå†è¿‡ç¨‹ä¸­å¤„ç†ï¼Œå†™äº†ä¸€å †ifelseã€‚ã€‚ã€‚è¿˜æ˜¯å¤ªèœäº†å•Šï¼Œå…¶å®ç›´æ¥æŒ‰ç…§<code>&quot;/&quot;</code> åˆ’åˆ†splitå­—ç¬¦ä¸²ç„¶åå¤„ç†é‚£ä¸ªæ•°ç»„å°±å¯ä»¥äº†</p>
<h2 id="225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a><a href="https://leetcode-cn.com/problems/implement-stack-using-queues/" target="_blank" rel="noopener">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a></h2><p>Implement the following operations of a stack using queues.</p>
<ul>
<li>push(x) â€“ Push element x onto stack.</li>
<li>pop() â€“ Removes the element on top of the stack.</li>
<li>top() â€“ Get the top element.</li>
<li>empty() â€“ Return whether the stack is empty.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MyStack stack = <span class="keyword">new</span> MyStack();</span><br><span class="line"></span><br><span class="line">stack.push(<span class="number">1</span>);</span><br><span class="line">stack.push(<span class="number">2</span>);  </span><br><span class="line">stack.top();   <span class="comment">// returns 2</span></span><br><span class="line">stack.pop();   <span class="comment">// returns 2</span></span><br><span class="line">stack.empty(); <span class="comment">// returns false</span></span><br></pre></td></tr></table></figure>

<p><strong>Notes:</strong></p>
<ul>
<li>You must use <em>only</em> standard operations of a queue â€“ which means only <code>push to back</code>, <code>peek/pop from front</code>, <code>size</code>, and <code>is empty</code> operations are valid.</li>
<li>Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue.</li>
<li>You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack).</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆç»å…¸çš„é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ArrayDeque&lt;Integer&gt; queue=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        queue=<span class="keyword">new</span> ArrayDeque();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        queue.add(x);</span><br><span class="line">        <span class="keyword">int</span> size=queue.size();</span><br><span class="line">        <span class="comment">//é™¤äº†æ–°åŠ å…¥çš„å…ƒç´ ï¼Œå…¶ä»–çš„å…ƒç´ éƒ½å‡ºé˜Ÿå†å…¥é˜Ÿï¼Œå°†æ–°åŠ å…¥çš„å…ƒç´ æ¨ç½®é˜Ÿåˆ—å¤´</span></span><br><span class="line">        <span class="keyword">while</span>(size-- &gt;<span class="number">1</span>)&#123;</span><br><span class="line">            queue.add(queue.pop());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span>  queue.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå·§å¦™çš„åšæ³•ï¼Œå°†å…ƒç´ å‰n-1ä¸ªå‡ºé˜Ÿåå†é‡æ–°å…¥é˜Ÿï¼Œ<code>1 2 --&gt; 2 1</code> ç›´æ¥å°†å †é¡¶æ¨ç½®é˜Ÿåˆ—å¤´ ï¼Œå°†æ¯æ¬¡æ–°åŠ å…¥çš„å…ƒç´ éƒ½æ”¾ç½®é˜Ÿåˆ—å¤´è€Œä¸æ˜¯é˜Ÿå°¾ï¼Œè¿™æ ·å®é™…ä¸Šå°±å®Œæˆäº†é€†åºçš„æ“ä½œ</p>
<p>è¿™æ ·pushå‹æ ˆæ—¶é—´å¤æ‚åº¦<code>O(N)</code> ï¼Œ<code>pop/peek</code> æ—¶é—´å¤æ‚åº¦<code>O(1)</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€‚ç”¨äºpushé¢‘ç¹çš„stack</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyStack</span></span>&#123;</span><br><span class="line">   <span class="comment">//å½¢å¼ä¸Šq1æ˜¯è´Ÿè´£è¿›æ ˆ q2è´Ÿè´£å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">private</span> LinkedList inQueue=<span class="keyword">new</span> LinkedList(); </span><br><span class="line">    <span class="keyword">private</span> LinkedList outQueue=<span class="keyword">new</span> LinkedList();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span>  <span class="keyword">void</span>  <span class="title">add</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">        inQueue.add(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Object <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// q1 ----&gt; q2 ç•™ä¸€ä¸ª</span></span><br><span class="line">        <span class="keyword">while</span>(inQueue.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            outQueue.add(inQueue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢q1,q2çš„å¼•ç”¨</span></span><br><span class="line">        LinkedList temp;</span><br><span class="line">        temp=inQueue;</span><br><span class="line">        inQueue=outQueue;</span><br><span class="line">        outQueue=temp;</span><br><span class="line">        <span class="keyword">return</span> outQueue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Object <span class="title">peek</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//q1 ---&gt;q2 ç•™ä¸€ä¸ª,æœ€åä¸€ä¸ªä¸poll,æœ€åpoll</span></span><br><span class="line">        <span class="keyword">while</span>(inQueue.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            outQueue.add(inQueue.poll());</span><br><span class="line">            <span class="keyword">if</span>(inQueue.size()==<span class="number">1</span>)&#123;</span><br><span class="line">                outQueue.add(inQueue.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢q1,q2çš„å¼•ç”¨</span></span><br><span class="line">        LinkedList temp;</span><br><span class="line">        temp=inQueue;</span><br><span class="line">        inQueue=outQueue;</span><br><span class="line">        outQueue=temp;</span><br><span class="line">        <span class="keyword">return</span> outQueue.poll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpushå‹æ ˆæ—¶é—´å¤æ‚åº¦<code>O(1)</code>ï¼Œpop/pushå‡ºæ ˆæ—¶é—´å¤æ‚åº¦<code>O(N)</code> ï¼Œå‡ºæ ˆçš„æ—¶å€™å°†ä¸€ä¸ªé˜Ÿåˆ—çš„å‰n-1ä¸ªå…ƒç´ å…¨éƒ¨åŠ å…¥åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ä¸­ä½œä¸ºç¼“å­˜ï¼Œç„¶åå°†æœ€åä¸€ä¸ªå…ƒç´ å‡ºæ ˆï¼Œæœ€ååˆ«å¿˜äº†äº¤æ¢ä¸¤ä¸ªé˜Ÿåˆ—çš„å¼•ç”¨ï¼Œä¸ç„¶pushçš„æ—¶å€™å°±ä¼šå‡ºé—®é¢˜ï¼Œè¦ä¿è¯<code>inQueue</code> ä¸€ç›´æ˜¯å…¥æ ˆçš„é˜Ÿåˆ—ï¼Œå…¶ä¸­å­˜æ”¾ç€æ‰€æœ‰çš„å…ƒç´ </p>
<h2 id="232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#232-ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="232. ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a><a href="https://leetcode-cn.com/problems/implement-queue-using-stacks/" target="_blank" rel="noopener">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</a></h2><p>Implement the following operations of a queue using stacks.</p>
<ul>
<li>push(x) â€“ Push element x to the back of queue.</li>
<li>pop() â€“ Removes the element from in front of queue.</li>
<li>peek() â€“ Get the front element.</li>
<li>empty() â€“ Return whether the queue is empty.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MyQueue queue = <span class="keyword">new</span> MyQueue();</span><br><span class="line"></span><br><span class="line">queue.push(<span class="number">1</span>);</span><br><span class="line">queue.push(<span class="number">2</span>);  </span><br><span class="line">queue.peek();  <span class="comment">// returns 1</span></span><br><span class="line">queue.pop();   <span class="comment">// returns 1</span></span><br><span class="line">queue.empty(); <span class="comment">// returns false</span></span><br></pre></td></tr></table></figure>

<p><strong>Notes:</strong></p>
<ul>
<li>You must use <em>only</em> standard operations of a stack â€“ which means only <code>push to top</code>, <code>peek/pop from top</code>, <code>size</code>, and <code>is empty</code> operations are valid.</li>
<li>Depending on your language, stack may not be supported natively. You may simulate a stack by using a list or deque (double-ended queue), as long as you use only standard operations of a stack.</li>
<li>You may assume that all operations are valid (for example, no pop or peek operations will be called on an empty queue).</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyQueue</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; inStack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; outStack=<span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Stack2Queue232</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        inStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        outStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Push element x to the back of queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        inStack.push(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Removes the element from in front of queue and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        s2s();</span><br><span class="line">        <span class="keyword">return</span> outStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Get the front element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        s2s();</span><br><span class="line">        <span class="keyword">return</span> outStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns whether the queue is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> outStack.isEmpty() &amp;&amp; inStack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">s2s</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (outStack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span>(!inStack.isEmpty()) &#123;</span><br><span class="line">                outStack.push(inStack.pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆä¸Šé¢ä¸€é¢˜æ˜¯å§Šå¦¹é¢˜ï¼Œéœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯<code>s2s</code>çš„æ—¶å€™è¦ç¡®ä¿stack2æ ˆæ˜¯ç©ºçš„æ‰èƒ½push</p>
<h2 id="155-æœ€å°æ ˆ"><a href="#155-æœ€å°æ ˆ" class="headerlink" title="155. æœ€å°æ ˆ"></a><a href="https://leetcode-cn.com/problems/min-stack/" target="_blank" rel="noopener">155. æœ€å°æ ˆ</a></h2><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒ pushï¼Œpopï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p>
<ul>
<li><p>push(x) â€“ å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚</p>
</li>
<li><p>pop() â€“ åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚</p>
</li>
<li><p>top() â€“ è·å–æ ˆé¡¶å…ƒç´ ã€‚</p>
</li>
<li><p>getMin() â€“ æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚</p>
</li>
</ul>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">MinStack minStack = <span class="keyword">new</span> MinStack();</span><br><span class="line">minStack.push(-<span class="number">2</span>);</span><br><span class="line">minStack.push(<span class="number">0</span>);</span><br><span class="line">minStack.push(-<span class="number">3</span>);</span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -<span class="number">3</span>.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      --&gt; è¿”å› <span class="number">0</span>.</span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -<span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>åˆ©ç”¨è¾…åŠ©æ ˆï¼ŒåŒæ­¥çš„pushå’Œpop</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; helpStack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        helpStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        stack.push(x);</span><br><span class="line">        <span class="keyword">if</span> (helpStack.isEmpty()) &#123;</span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (helpStack.peek()&gt;x) &#123;</span><br><span class="line">                helpStack.push(x);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                helpStack.push(helpStack.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack.pop();</span><br><span class="line">        helpStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> helpStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šè¿›è¡Œç©ºé—´çš„ä¼˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; helpStack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        helpStack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        stack.push(x);</span><br><span class="line">        <span class="keyword">if</span> (helpStack.isEmpty()) &#123;</span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (x&lt;=helpStack.peek()) &#123;</span><br><span class="line">            <span class="comment">//ç›¸ç­‰çš„ä¹Ÿè¦å…¥æ ˆ,ä¸ç„¶ä¸å¥½æ§åˆ¶åé¢å‡ºæ ˆ</span></span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> top=stack.pop();</span><br><span class="line">        <span class="comment">//å’Œè¾…åŠ©æ ˆæ ˆé¡¶ç›¸åŒå°±å‡ºæ ˆ</span></span><br><span class="line">        <span class="keyword">if</span>(top==helpStack.peek())&#123;</span><br><span class="line">            helpStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        if(stack.pop()==helpStack.peek())&#123;</span></span><br><span class="line"><span class="comment">            helpStack.pop();</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> helpStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹æŠŠæˆ‘å¡äº†ä¸€ä¼šå„¿ï¼Œå°±æ˜¯å‡ºæ ˆçš„æ—¶å€™ï¼Œæˆ‘å¼€å§‹ä¸ºäº†ç®€æ´ifçš„æ¡ä»¶å†™çš„</p>
<p><code>stack.pop()==helpStack.peek()</code> ç„¶åå¡åœ¨äº†ä¸€ä¸ªcaseä¸Šï¼Œæƒ³äº†åŠå¤©æ‰æ„è¯†åˆ°æ˜¯<code>Integer</code>çš„é—®é¢˜ï¼Œè¿™é‡Œå¼¹å‡ºæ¥çš„æ˜¯ä¸¤ä¸ª<code>Integer</code>å¹¶ä¸ä¼šè‡ªåŠ¨æ‹†ç®±ï¼Œè€Œä¸”å€¼æ˜¯ä¸åœ¨ -128~127ä¹‹é—´çš„ï¼Œæ‰€ä»¥å°±falseäº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>å¸…åœ°ä¸Šçœ‹è§çš„è§£æ³•ï¼Œåœ¨æ ˆä¸­å­˜ä¸€ä¸ªdiffå·®å€¼ï¼Œä»£è¡¨å½“å‰å…ƒç´ å’Œå…¥æ ˆå‰çš„minçš„å·®å€¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä½†æ˜¯è¿™ç§åšæ³•é™åˆ¶æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚æ•°æ®çš„å¤§å°ä¼šæœ‰é™åˆ¶ï¼ŒåŒæ—¶è²Œä¼¼ä¹Ÿæ— æ³•åš<code>peek()</code>æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinStack155_2</span></span>&#123;</span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> min=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack155_2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">            min=x;</span><br><span class="line">            stack.push(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> diff=x-min;</span><br><span class="line">            min=diff&gt;<span class="number">0</span>?min:x;</span><br><span class="line">            stack.push(diff);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> diff=stack.pop();</span><br><span class="line">        <span class="comment">//å°äºç­‰äº0è¯´æ˜ minå°±æ˜¯å½“å‰çœŸå®çš„æ ˆé¡¶å…ƒç´ ,ä¹Ÿå°±æ˜¯è¯´ min-minPre=diff</span></span><br><span class="line">        min=diff&lt;=<span class="number">0</span>?min-diff:min;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*public int top() &#123;</span></span><br><span class="line"><span class="comment">        int diff=stack.peek();</span></span><br><span class="line"><span class="comment">        return diff&lt;=0?min:diff-min;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="779-ç¬¬Kä¸ªè¯­æ³•ç¬¦å·"><a href="#779-ç¬¬Kä¸ªè¯­æ³•ç¬¦å·" class="headerlink" title="779. ç¬¬Kä¸ªè¯­æ³•ç¬¦å·"></a><a href="https://leetcode-cn.com/problems/k-th-symbol-in-grammar/" target="_blank" rel="noopener">779. ç¬¬Kä¸ªè¯­æ³•ç¬¦å·</a></h2><p>On the first row, we write a <code>0</code>. Now in every subsequent row, we look at the previous row and replace each occurrence of <code>0</code> with <code>01</code>, and each occurrence of <code>1</code> with <code>10</code>.</p>
<p>Given row <code>N</code> and index <code>K</code>, return the <code>K</code>-th indexed symbol in row <code>N</code>. (The values of <code>K</code> are 1-indexed.) (1 indexed).</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Examples:</span><br><span class="line">Input: N = <span class="number">1</span>, K = <span class="number">1</span></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">2</span>, K = <span class="number">1</span></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">2</span>, K = <span class="number">2</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">4</span>, K = <span class="number">5</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">row <span class="number">1</span>: <span class="number">0</span></span><br><span class="line">row <span class="number">2</span>: <span class="number">01</span></span><br><span class="line">row <span class="number">3</span>: <span class="number">0110</span></span><br><span class="line">row <span class="number">4</span>: <span class="number">01101001</span></span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li><code>N</code> will be an integer in the range <code>[1, 30]</code>.</li>
<li><code>K</code> will be an integer in the range <code>[1, 2^(N-1)]</code>.</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ‰¾è§„å¾‹ï¼Œå‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„ï¼ŒæŠŠå‰å…­è¡Œéƒ½å†™å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œ: <span class="number">0</span></span><br><span class="line">ç¬¬äºŒè¡Œ: <span class="number">01</span></span><br><span class="line">ç¬¬ä¸‰è¡Œ: <span class="number">01</span>|<span class="number">10</span></span><br><span class="line">ç¬¬å››è¡Œ: <span class="number">01</span> <span class="number">10</span>|<span class="number">10</span> <span class="number">01</span></span><br><span class="line">ç¬¬äº”è¡Œ: <span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span>|<span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span></span><br><span class="line">ç¬¬å…­è¡Œ: <span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span> <span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span> | <span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span> <span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span></span><br></pre></td></tr></table></figure>

<p>  N%2!=0 å¯¹ç§°, ç¬¬Kä¸ªç­‰äº 2^(N-1)-K+1<br>  N%2==0 äº’è¡¥å¯¹ç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthGrammar</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(K==<span class="number">1</span> || N==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(K==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="number">1</span>&lt;&lt;(N-<span class="number">1</span>); <span class="comment">//å½“å‰è¡Œé•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span>(K&gt;len/<span class="number">2</span>)&#123; <span class="comment">//å¤§äº1/2</span></span><br><span class="line">        <span class="comment">//ç»“åˆä¸Šé¢çš„è§„å¾‹ï¼Œæ‰¾å‰åŠéƒ¨åˆ†å’Œè‡ªå·±ç­‰ä»·çš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span>(N%<span class="number">2</span>!=<span class="number">0</span>)&#123; </span><br><span class="line">            K=len-K+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(K%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                K=len-K+<span class="number">2</span>;  </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                K=len-K;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å»ä¸Šä¸€è¡Œç»§ç»­</span></span><br><span class="line">    <span class="keyword">return</span> kthGrammar(N-<span class="number">1</span>,K);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚ç¬¬O(N)ï¼Œæ€è·¯è¿˜ç®—æ¸…æ™°ï¼Œæœ€å¼€å§‹æ²¡æƒ³åˆ°ç”¨<code>ä½è¿ç®—</code>æ¥ç®—é•¿åº¦ï¼Œç”¨çš„<code>pow()</code>æœ€åæ•ˆç‡å·®ä¸å¤šï¼Œå¯èƒ½æ˜¯åº•å±‚åšäº†ä¼˜åŒ–ã€‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ç§è§£æ³•å®é™…ä¸Šå°±æ˜¯æŠŠæ•´ä¸ªåºåˆ—çœ‹ä½œä¸€é¢—æ»¡äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼å’Œçˆ¶èŠ‚ç‚¹å…¶å®æ˜¯æœ‰å¯¹åº”å…³ç³»çš„ï¼Œå¦‚æœKæ˜¯å¶æ•°é‚£ä¹ˆå°±å’Œçˆ¶èŠ‚ç‚¹çš„å€¼ç›¸åï¼Œå¦åˆ™å°±ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€’å½’çš„å»æ‰¾çˆ¶èŠ‚ç‚¹å¯¹åº”çš„indexçš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//01æ’åˆ—</span></span><br><span class="line"><span class="comment">//              0</span></span><br><span class="line"><span class="comment">//          /        \   </span></span><br><span class="line"><span class="comment">//      0                1</span></span><br><span class="line"><span class="comment">//    /   \            /    \</span></span><br><span class="line"><span class="comment">//  0       1        1       0</span></span><br><span class="line"><span class="comment">// / \     /  \     /  \    / \ </span></span><br><span class="line"><span class="comment">//0   1   1    0   1    0  0   1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthGrammar</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (K==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//(K+1)/2æ˜¯å¯¹åº”çˆ¶èŠ‚ç‚¹çš„index</span></span><br><span class="line">    <span class="keyword">int</span> parent=kthGrammar(N-<span class="number">1</span>,(K+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//å–å</span></span><br><span class="line">    <span class="keyword">int</span> f_parent=-(parent-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (K%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> f_parent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯<code>O(N)</code> ä½†æ˜¯æ¯”ä¸Šé¢é‚£ç§è¦æ›´æ¸…æ™°æ˜äº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿™ä¸ªè§£æ³•å…¶å®å’Œä¸Šé¢çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨çˆ¶èŠ‚ç‚¹å’ŒKçš„å¥‡å¶æ¥åˆ¤æ–­ï¼Œå…¶å®ä»”ç»†çœ‹ä¸Šé¢çš„ä»£ç ä½ ä¼šå‘ç°Nå…¶å®å¹¶æ²¡æœ‰å®é™…çš„æ„ä¹‰ï¼Œå…·ä½“Kçš„å€¼åªå’ŒKæœ¬èº«æœ‰å…³ï¼Œä¸‹é¢çš„è§£æ³•å°±æ²¡æœ‰ç”¨åˆ°N.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">kthGrammar3</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> r=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(K&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (K%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">            K=K/<span class="number">2</span>;</span><br><span class="line">            r=!r;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            K=(K+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜å…¶å®è¿˜æœ‰ä¸€ç§è§£æ³•ï¼Œåˆ©ç”¨äºŒè¿›åˆ¶ï¼Œå¯¹Kåšå¥‡å¶æ£€éªŒï¼Œè²Œä¼¼æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ã€‚</p>
<h2 id="50-Pow-x-n"><a href="#50-Pow-x-n" class="headerlink" title="50. Pow(x, n)"></a><a href="https://leetcode-cn.com/problems/powx-n/" target="_blank" rel="noopener">50. Pow(x, n)</a></h2><p>å®ç° pow(<em>x</em>, <em>n</em>) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é‡Œå°±è¦ä»‹ç»ä¸€ç§å¿«é€Ÿå¹‚ç®—æ³•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">fastPow</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>/x;</span><br><span class="line">        n=-n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> res=fastPow(x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res*res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res*res*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ <code>x^n=(x^2/n)^2</code>ï¼Œå¸¸è§„ç´¯ä¹˜çš„æ–¹å¼è®¡ç®—æ—¶é—´å¤æ‚åº¦æ˜¯O(N)å› ä¸ºè¦éå†æ‰€æœ‰çš„å…ƒç´ ï¼Œä½†æ˜¯å…¶å®çŸ¥é“äº†<code>x^n/2</code>ä¹‹å <code>x^n</code>å°±å¯ä»¥ç›´æ¥å¹³æ–¹å¾—åˆ°äº†ä¸ç”¨ç»§ç»­éå†ï¼Œæ•´ä½“æ—¶é—´å¤æ‚åº¦ä¸ºO(logN) </p>
<p>2019.8.20ï¼Œåˆå†™äº†ä¸€éï¼Œæäº¤ç„¶åæ²¡è¿‡ã€‚çœ‹äº†ä¸‹ç»™çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæœ€åä¸€ä¸ªç»™çš„næ˜¯ <code>-2^31</code> ä¹Ÿå°±æ˜¯intæ•´æ•°çš„æœ€å°å€¼ï¼Œintç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ <code>-2^31 ~ 2^31-1</code> è€Œè¿™ä¸ªè´Ÿå€¼åœ¨è¿™é‡Œå–åä¹‹åä¼šç›´æ¥æº¢å‡ºæœ€åå¾—åˆ°çš„è¿˜æ˜¯ <code>-2^31</code> ï¼Œæ‰€ä»¥è¿™é‡Œè¿™æ ·å†™ ifä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œxå°±åˆä¼šå˜å›æ¥ï¼Œæ‰€ä»¥ç»“æœç›´æ¥å°±æ˜¯<code>Infinity</code>æ— ç©·å¤§äº†ï¼Œæ‰€ä»¥ä¸ºäº†ä¿è¯ifåªä¼šæ‰§è¡Œä¸€æ¬¡å¯ä»¥å°†å…¶å°è£…ä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>/x;</span><br><span class="line">        n=-n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fastPow(x,n);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">fastPow</span><span class="params">(<span class="keyword">double</span> x,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span>  half=fastPow(x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> half*half;</span><br><span class="line">    <span class="keyword">return</span> half*half*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5222-åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²"><a href="#5222-åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²" class="headerlink" title="5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²"></a>5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²</h2><p>åœ¨ä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ä¸­ï¼Œâ€™Lâ€™ å’Œ â€˜Râ€™ å­—ç¬¦çš„æ•°é‡æ˜¯ç›¸åŒçš„ã€‚</p>
<p>ç»™å‡ºä¸€ä¸ªå¹³è¡¡å­—ç¬¦ä¸² <code>s</code>ï¼Œè¯·ä½ å°†å®ƒåˆ†å‰²æˆå°½å¯èƒ½å¤šçš„å¹³è¡¡å­—ç¬¦ä¸²ã€‚</p>
<p>è¿”å›å¯ä»¥é€šè¿‡åˆ†å‰²å¾—åˆ°çš„å¹³è¡¡å­—ç¬¦ä¸²çš„æœ€å¤§æ•°é‡</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"RLRRLLRLRL"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šs å¯ä»¥åˆ†å‰²ä¸º <span class="string">"RL"</span>, <span class="string">"RRLL"</span>, <span class="string">"RL"</span>, <span class="string">"RL"</span>, æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„ <span class="string">'L'</span> å’Œ <span class="string">'R'</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"RLLLLRRRLR"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šs å¯ä»¥åˆ†å‰²ä¸º <span class="string">"RL"</span>, <span class="string">"LLLRRR"</span>, <span class="string">"LR"</span>, æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„ <span class="string">'L'</span> å’Œ <span class="string">'R'</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"LLLLRRRR"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šs åªèƒ½ä¿æŒåŸæ · <span class="string">"LLLLRRRR"</span>.</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s[i] = &#39;L&#39; æˆ– &#39;R&#39;</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>19.10.13çš„å‘¨èµ›çš„ç¬¬1é¢˜ï¼Œæœç„¶æ¯”èµ›å’Œåˆ·é¢˜è¿˜æ˜¯ä¸ä¸€æ ·ï¼Œå·®ç‚¹æ²¡åšå‡ºæ¥ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">balancedStringSplit</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length()%<span class="number">2</span>==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Character&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty() )&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)==stack.peek()) &#123;</span><br><span class="line">                stack.push(s.charAt(i));    </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1249-ç§»é™¤æ— æ•ˆçš„æ‹¬å·"><a href="#1249-ç§»é™¤æ— æ•ˆçš„æ‹¬å·" class="headerlink" title="1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·"></a><a href="https://leetcode-cn.com/problems/minimum-remove-to-make-valid-parentheses/" target="_blank" rel="noopener">1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·</a></h2><p>ç»™ä½ ä¸€ä¸ªç”± â€˜(â€˜ã€â€™)â€™ å’Œå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² sã€‚</p>
<p>ä½ éœ€è¦ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤æœ€å°‘æ•°ç›®çš„ â€˜(â€˜ æˆ–è€… â€˜)â€™ ï¼ˆå¯ä»¥åˆ é™¤ä»»æ„ä½ç½®çš„æ‹¬å·)ï¼Œä½¿å¾—å‰©ä¸‹çš„ã€Œæ‹¬å·å­—ç¬¦ä¸²ã€æœ‰æ•ˆã€‚</p>
<p>è¯·è¿”å›ä»»æ„ä¸€ä¸ªåˆæ³•å­—ç¬¦ä¸²ã€‚</p>
<p>æœ‰æ•ˆã€Œæ‹¬å·å­—ç¬¦ä¸²ã€åº”å½“ç¬¦åˆä»¥ä¸‹ <strong>ä»»æ„ä¸€æ¡</strong> è¦æ±‚ï¼š</p>
<ul>
<li>ç©ºå­—ç¬¦ä¸²æˆ–åªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²</li>
<li>å¯ä»¥è¢«å†™ä½œ ABï¼ˆA è¿æ¥ Bï¼‰çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ A å’Œ B éƒ½æ˜¯æœ‰æ•ˆã€Œæ‹¬å·å­—ç¬¦ä¸²ã€</li>
<li>å¯ä»¥è¢«å†™ä½œ (A) çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ A æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ã€Œæ‹¬å·å­—ç¬¦ä¸²ã€</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"lee(t(c)o)de)"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"lee(t(c)o)de"</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"lee(t(co)de)"</span> , <span class="string">"lee(t(c)ode)"</span> ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¡Œç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"a)b(c)d"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"ab(c)d"</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"))(("</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">""</span></span><br><span class="line">è§£é‡Šï¼šç©ºå­—ç¬¦ä¸²ä¹Ÿæ˜¯æœ‰æ•ˆçš„</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"(a(b(c)d)"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">"a(b(c)d)"</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 10^5</code></li>
<li><code>s[i]</code> å¯èƒ½æ˜¯ <code>&#39;(&#39;</code>ã€<code>&#39;)&#39;</code> æˆ–è‹±æ–‡å°å†™å­—æ¯ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>11.3å‘¨èµ›ç¬¬ä¸‰é¢˜ï¼Œè¿™é¢˜å€’æ˜¯æ²¡ä»€ä¹ˆéšœç¢ï¼Œç”¨æ ˆå°±okï¼Œä¸è¿‡æˆ‘è¿™é‡Œå®ç°çš„ä¸å¤ªå¥½ï¼Œreplaceæ—¶é—´å¤æ‚åº¦ç•¥é«˜ï¼Œåº”è¯¥ç”¨ä¸€ä¸ªæ•°ç»„åšmarkæœ€åç”¨StringBuilderåšappendåº”è¯¥æ•ˆç‡ä¼šé«˜å¾ˆå¤š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minRemoveToMakeValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)&gt;=<span class="string">'a'</span> &amp;&amp; s.charAt(i)&lt;=<span class="string">'z'</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">')'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                sb.replace(i,i+<span class="number">1</span>,<span class="string">"*"</span>);    </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">'('</span>) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> temp=stack.pop();</span><br><span class="line">        sb.replace(temp,temp+<span class="number">1</span>,<span class="string">"*"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    String res=sb.toString().replace(<span class="string">"*"</span>,<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="856-æ‹¬å·çš„åˆ†æ•°"><a href="#856-æ‹¬å·çš„åˆ†æ•°" class="headerlink" title="856. æ‹¬å·çš„åˆ†æ•°"></a><a href="https://leetcode-cn.com/problems/score-of-parentheses/" target="_blank" rel="noopener">856. æ‹¬å·çš„åˆ†æ•°</a></h2><p>ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² Sï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š</p>
<ul>
<li>() å¾— 1 åˆ†ã€‚</li>
<li>AB å¾— A + B åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚</li>
<li>(A) å¾— 2 * A åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">"()"</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">"(())"</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">2</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">"()()"</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">2</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">"(()(()))"</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>S æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ï¼Œä¸”åªå«æœ‰ ( å’Œ ) ã€‚</li>
<li>2 &lt;= S.length &lt;= 50</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;S.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(S.charAt(i)==<span class="string">'('</span>)&#123;</span><br><span class="line">            stack.push(-<span class="number">11111</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//é‡åˆ°å³æ‹¬å·,ä¸‹é¢çš„åˆ†æ”¯éƒ½æ˜¯å¤„ç† ")"</span></span><br><span class="line">            <span class="keyword">int</span> top=stack.peek();</span><br><span class="line">            <span class="keyword">if</span>(top == -<span class="number">11111</span>)&#123; <span class="comment">//æ ˆé¡¶æ˜¯å·¦æ‹¬å·ï¼Œå°† ( --&gt; 1</span></span><br><span class="line">                stack.pop();</span><br><span class="line">                stack.push(<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">int</span> sum=<span class="number">0</span>; <span class="comment">//é‡åˆ°æ•°å€¼äº†</span></span><br><span class="line">                <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">                    <span class="keyword">int</span> temp=stack.pop();</span><br><span class="line">                    <span class="comment">//å¼¹å‡ºå»,ç›´åˆ°é‡åˆ° "("å°±*2,å…¶å®å°±æ˜¯æŠŠ"(1"--&gt;2</span></span><br><span class="line">                    <span class="keyword">if</span>(temp==-<span class="number">11111</span>)&#123; </span><br><span class="line">                        sum*=<span class="number">2</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    sum+=temp;</span><br><span class="line">                &#125;</span><br><span class="line">                stack.push(sum);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty()) res+=stack.pop();</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è§£æ³•ä¸€å¼€å§‹ä¹Ÿæ²¡æƒ³å‡ºæ¥ï¼Œå…¶å®è¿™ç§å°±ç±»ä¼¼äºæ¶ˆæ¶ˆä¹æ¸¸æˆä¸€æ ·ï¼Œå°±æŒ‰ç…§é¢˜ç›®çš„é€»è¾‘æ¥å†™ï¼Œä»å·¦å‘å³ï¼Œæ ˆä¸­å­˜æ ‡è¯†å·¦æ‹¬å·çš„æ•°å€¼ï¼Œè¿™é‡Œæˆ‘ç”¨çš„<code>-11111</code> è¡¨ç¤º<code>ï¼ˆ</code> ï¼Œç„¶åå‘å³ç§»åŠ¨ï¼Œä¸€è¾¹ç§»åŠ¨ä¸€è¾¹å°†<code>ï¼ˆï¼‰</code>ç»™æ¶ˆé™¤æ‰ï¼Œå…¶å®ä¸Šé¢çš„é€»è¾‘è‡ªå·±èµ°ä¸€è¾¹å°±é€šäº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ä¸ªè§£æ³•å°±å¸¦æœ‰ç‚¹æŠ€å·§æ€§äº†ï¼Œçœ‹æ‡‚ä¸Šé¢çš„æ³¨é‡Šï¼Œä¸‹é¢çš„ä»£ç å°±å¾ˆç®€å•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// (()(())) = 2*()+2*(())= (())+((()))</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">0</span>,res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;S.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S.charAt(i)==<span class="string">'('</span>) &#123;</span><br><span class="line">            k++; <span class="comment">//kç”¨æ¥è®¡ç®—æ‹¬å·çš„æ·±åº¦</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            k--;</span><br><span class="line">            <span class="keyword">if</span> (S.charAt(i-<span class="number">1</span>)==<span class="string">'('</span>) &#123;</span><br><span class="line">                <span class="comment">//"()"é—­åˆçš„æ—¶å€™è®¡ç®—ä¸€æ³¢</span></span><br><span class="line">                res+= <span class="number">1</span>&lt;&lt;k; <span class="comment">//2^k</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="946-éªŒè¯æ ˆåºåˆ—"><a href="#946-éªŒè¯æ ˆåºåˆ—" class="headerlink" title="946. éªŒè¯æ ˆåºåˆ—"></a><a href="https://leetcode-cn.com/problems/validate-stack-sequences/" target="_blank" rel="noopener">946. éªŒè¯æ ˆåºåˆ—</a></h2><p>ç»™å®š <code>pushed</code> å’Œ <code>popped</code> ä¸¤ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„ å€¼éƒ½ä¸é‡å¤ï¼Œåªæœ‰å½“å®ƒä»¬å¯èƒ½æ˜¯åœ¨æœ€åˆç©ºæ ˆä¸Šè¿›è¡Œçš„æ¨å…¥ <code>push</code> å’Œå¼¹å‡º pop æ“ä½œåºåˆ—çš„ç»“æœæ—¶ï¼Œè¿”å› <code>true</code> å¦åˆ™ï¼Œè¿”å› <code>false</code> </p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], popped = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">true</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</span><br><span class="line">push(<span class="number">1</span>), push(<span class="number">2</span>), push(<span class="number">3</span>), push(<span class="number">4</span>), pop() -&gt; <span class="number">4</span>,</span><br><span class="line">push(<span class="number">5</span>), pop() -&gt; <span class="number">5</span>, pop() -&gt; <span class="number">3</span>, pop() -&gt; <span class="number">2</span>, pop() -&gt; <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], popped = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">false</span></span><br><span class="line">è§£é‡Šï¼š<span class="number">1</span> ä¸èƒ½åœ¨ <span class="number">2</span> ä¹‹å‰å¼¹å‡ºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= pushed.length == popped.length &lt;= 1000</code></li>
<li><code>0 &lt;= pushed[i], popped[i] &lt; 1000</code></li>
<li><code>pushed</code> æ˜¯ <code>popped</code> çš„æ’åˆ—</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›´æ¥ç”¨æ ˆæ¨¡æ‹Ÿï¼Œå¯æƒœæ²¡æœ‰bugfreeâ€¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validateStackSequences</span><span class="params">(<span class="keyword">int</span>[] pushed, <span class="keyword">int</span>[] popped)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pushed==<span class="keyword">null</span> || pushed.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> popIndex=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pushIndex=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//pushed = [1,2,3,4,5], popped = [4,5,3,2,1]</span></span><br><span class="line">    <span class="comment">//[1,2,3,4,5]      [4,3,5,1,2]</span></span><br><span class="line">    <span class="comment">//[1,0] [1,0]</span></span><br><span class="line">    <span class="keyword">while</span>(pushIndex&lt;pushed.length)&#123;</span><br><span class="line">        stack.push(pushed[pushIndex++]);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty()&amp;&amp;popped[popIndex]==stack.peek())&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯è¿›ä¸€ä¸ªå…ƒç´ å°±åˆ¤æ–­æ ˆé¡¶å’Œå‡ºæ ˆé¡ºåºçš„å¤´æ˜¯å¦ç›¸ç­‰ï¼Œç„¶åå‡ºæ ˆï¼Œæœ€åçœ‹æ ˆä¸­æ˜¯å¦ä¸ºç©ºå°±ok</p>
<h2 id="BFSå¹¿æœ"><a href="#BFSå¹¿æœ" class="headerlink" title="BFSå¹¿æœ"></a><em>BFSå¹¿æœ</em></h2><h2 id="279-å®Œå…¨å¹³æ–¹æ•°"><a href="#279-å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="279. å®Œå…¨å¹³æ–¹æ•°"></a><a href="https://leetcode-cn.com/problems/perfect-squares/" target="_blank" rel="noopener">279. å®Œå…¨å¹³æ–¹æ•°</a></h2><p>ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: n = <span class="number">12</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span> </span><br><span class="line">è§£é‡Š: <span class="number">12</span> = <span class="number">4</span> + <span class="number">4</span> + <span class="number">4</span>.</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: n = <span class="number">13</span></span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line">è§£é‡Š: <span class="number">13</span> = <span class="number">4</span> + <span class="number">9</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜åœ¨ä¸Šä¸€ç¯‡<a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/">dpä¸“é¢˜</a>ä¸­æœ‰è®²è¿‡ï¼Œä¸è¿‡æ˜¯dpçš„è§£æ³•ï¼Œè¿™é‡Œä¸»è¦è®°å½•BFSçš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">numSquares2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    queue.add(<span class="keyword">new</span> Pair(n,<span class="number">0</span>));</span><br><span class="line">    visit[n]=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">int</span> num=pair.num;</span><br><span class="line">        <span class="keyword">int</span> step=pair.step;</span><br><span class="line">        <span class="comment">//nums=0è¯´æ˜æ‰¾åˆ°äº†ï¼Œå¹¶ä¸”ä¸€å®šæ˜¯æœ€çŸ­çš„</span></span><br><span class="line">        <span class="keyword">if</span> (num==<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i*i&lt;=num;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp=num-i*i;</span><br><span class="line">            <span class="comment">//æ³¨æ„ä¸è¦æ·»åŠ é‡å¤çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span> (!visit[temp]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(temp,step+<span class="number">1</span>));</span><br><span class="line">                visit[temp]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> num,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num=num;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>30ms 90%ï¼Œæ¯”dpçš„æ–¹å¼ä¼šå¿«å¾ˆå¤šï¼Œæ€è·¯å°±æ˜¯å°†è¿™ä¸ªé—®é¢˜è½¬æ¢ä¸ºæ±‚å›¾çš„æœ€çŸ­è·¯å¾„çš„é—®é¢˜ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€çŸ­çš„ä»nåˆ°0çš„ä»¥å¹³æ–¹æ•°ä¸ºå·®çš„è·¯å¾„</p>
<h2 id="127-å•è¯æ¥é¾™"><a href="#127-å•è¯æ¥é¾™" class="headerlink" title="127. å•è¯æ¥é¾™"></a><a href="https://leetcode-cn.com/problems/word-ladder/" target="_blank" rel="noopener">127. å•è¯æ¥é¾™</a></h2><p>Given two words (<em>beginWord</em> and <em>endWord</em>), and a dictionaryâ€™s word list, find the length of shortest transformation sequence from <em>beginWord</em> to <em>endWord</em>, such that:</p>
<ol>
<li>Only one letter can be changed at a time.</li>
<li>Each transformed word must exist in the word list. Note that <em>beginWord</em> is <em>not</em> a transformed word.</li>
</ol>
<p><strong>Note:</strong></p>
<ul>
<li>Return 0 if there is no such transformation sequence.</li>
<li>All words have the same length.</li>
<li>All words contain only lowercase alphabetic characters.</li>
<li>You may assume no duplicates in the word list.</li>
<li>You may assume <em>beginWord</em> and <em>endWord</em> are non-empty and are not the same.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span>,</span><br><span class="line">endWord = <span class="string">"cog"</span>,</span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>,<span class="string">"cog"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is <span class="string">"hit"</span> -&gt; <span class="string">"hot"</span> -&gt; <span class="string">"dot"</span> -&gt; <span class="string">"dog"</span> -&gt; <span class="string">"cog"</span>,</span><br><span class="line"><span class="keyword">return</span> its length <span class="number">5</span>.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span></span><br><span class="line">endWord = <span class="string">"cog"</span></span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Explanation: The endWord <span class="string">"cog"</span> is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®å¾ˆä¹…ä»¥å‰å°±å†™è¿‡äº†ï¼Œå½“æ—¶æ˜¯çœ‹äº†å•Šå“ˆç®—æ³•çš„ä¸€äº›BFSç®—æ³•ç„¶åä»¿ç…§ä¹¦ä¸Šçš„å†™çš„ï¼Œä¹¦ä¸Šæ˜¯Cè¯­è¨€å†™çš„ï¼Œæ‰€ä»¥æœ€åæˆ‘å†™çš„æ—¶å€™ä¹ŸæŒ‰ç…§Cçš„æ ¼å¼å»å†™äº†ğŸ˜…ï¼Œå†™çš„è´¼å•°å—¦ï¼Œç°åœ¨åˆç”¨â€Javaâ€çš„æ–¹å¼åˆé‡æ–°å†™äº†ä¸€é</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] mark;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span>     </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸å­˜åœ¨</span></span><br><span class="line">    mark = <span class="keyword">new</span> <span class="keyword">int</span>[wordList.size() + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    <span class="keyword">int</span> head = <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–é˜Ÿåˆ—</span></span><br><span class="line">    Que[] que = <span class="keyword">new</span> Que[wordList.size() + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// å¾ªç¯ä¿ƒä½¿è¯è¿°ç¥–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; que.length; i++) &#123;</span><br><span class="line">        que[i] = <span class="keyword">new</span> Que();</span><br><span class="line">    &#125;</span><br><span class="line">    que[tail].word = beginWord;</span><br><span class="line">    que[tail].step = <span class="number">1</span>;</span><br><span class="line">    tail++;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head &lt; tail) &#123;</span><br><span class="line">        <span class="comment">// éå†å­—å…¸</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordList.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mark[i] == <span class="number">0</span> &amp;&amp; cmp(wordList.get(i), que[head].word)) &#123;</span><br><span class="line">                que[tail].word = wordList.get(i);</span><br><span class="line">                <span class="comment">//è¿™é‡Œæ˜¯ä»headå¼€å§‹çš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯headçš„æ­¥æ•°+1</span></span><br><span class="line">                que[tail].step=que[head].step+<span class="number">1</span>;</span><br><span class="line">                <span class="comment">// æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span></span><br><span class="line">                mark[i] = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// ç»Ÿè®¡æœ€å°æ­¥æ•°</span></span><br><span class="line">               <span class="keyword">if</span> (que[tail].word.equals(endWord)) &#123;</span><br><span class="line">                <span class="comment">//è·³å‡ºå¾ªç¯</span></span><br><span class="line">                    flag=<span class="number">1</span>;</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                tail++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡æ£€æŸ¥å®Œä¸€ä¸ªå•è¯å°±å°†å…¶å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        head++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> que[tail].step;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™ä¸€ä¸ªå‡½æ•°åˆ¤æ®µæ²¡åƒæ˜¯å¦åªå˜åŒ–äº†ä¸€ä¸ªå­—æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">cmp</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†…éƒ¨ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Que</span> </span>&#123;</span><br><span class="line">    String word;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯å½“æ—¶å†™çš„è§£æ³•ï¼Œæ€è·¯å°±æ˜¯BFSï¼Œåªä¸è¿‡å†™çš„å¤æ‚äº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span>     </span>&#123;</span><br><span class="line">    <span class="comment">//visitæ•°ç»„</span></span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[wordList.size()];</span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> Pair(beginWord,<span class="number">1</span>));</span><br><span class="line">    <span class="comment">//int flag=0;</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡æœ€å°æ­¥æ•°,æ”¾åœ¨å†…å¾ªç¯ä¸­ä¼šå¿«ä¸€ç‚¹</span></span><br><span class="line">        <span class="comment">/*if (pair.word.equals(endWord)) &#123;</span></span><br><span class="line"><span class="comment">            return pair.step;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        <span class="comment">// éå†å­—å…¸</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordList.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visit[i] &amp;&amp; cmp(wordList.get(i),pair.word)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (wordList.get(i).equals(endWord)) &#123;</span><br><span class="line">                    <span class="comment">//è¿™é‡ŒåŠ 1 æ˜¯å› ä¸ºå–çš„æ˜¯pairçš„step</span></span><br><span class="line">                    <span class="comment">//åˆ°å½“å‰è¿™ä¸ªå•è¯è¿˜è¦å¤šèµ°ä¸€æ­¥</span></span><br><span class="line">                    <span class="keyword">return</span> pair.step+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(wordList.get(i),pair.step+<span class="number">1</span>));</span><br><span class="line">                <span class="comment">//æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span></span><br><span class="line">                visit[i] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¯å¦åªå˜åŒ–äº†ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">cmp</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">if</span> (count&gt;<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Pair</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">    String word;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(String word,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.word=word;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>273msï¼Œ47%ä¸­è§„ä¸­çŸ©çš„åšæ³•ï¼Œè¿ç»­å†™äº†å¥½å‡ é¢˜BFSçš„ï¼Œæ€»ç®—æ˜¯å¯¹BFSçš„æ¿å­æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œè¿™é¢˜è¿˜æœ‰ä¸¤ä¸ªå¯ä»¥ä¼˜åŒ–çš„ç‚¹ â‘  <em>åŒç«¯BFS</em> â‘¡ _å¯»æ‰¾ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ–¹å¼_ï¼Œåªä¸è¿‡æˆ‘æ²¡å’‹çœ‹æ‡‚ï¼Œç­‰çœ‹æ‡‚äº†å†æ¥è¡¥å……ï¼Œé‚£ç§æ–¹å¼æ—¶é—´å¥½åƒå¯ä»¥ç¼©å‡åˆ° 20mså†…â€¦..</p>
<blockquote>
<p>è¿™é¢˜æœ‰ä¸ªå›°éš¾ç‰ˆæœ¬ï¼Œéœ€è¦æ‰“å°å‡ºæ‰€æœ‰çš„æœ€çŸ­åºåˆ—ï¼Œè¿™ä¸ªåœ¨æˆ‘å¾ˆä¹…ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­ä¹Ÿæœ‰è®²ï¼Œä½†æ˜¯è‡³ä»Šæˆ‘ä¹Ÿè¿˜æ²¡æœ‰ACï¼Œä¸€ç›´æ˜¯TLEï¼Œç°åœ¨å›å¤´çœ‹æˆ‘ä¹‹å‰çš„ä»£ç å·²ç»çœ‹ä¸æ‡‚äº†ã€‚ã€‚ã€‚å†™äº†100å¤šè¡Œï¼Œç•¥å¤æ‚BFS+DFSçš„åšæ³•ï¼Œå¯èƒ½æ˜¯æ²¡å¤„ç†å¥½æ‰€ä»¥TLEäº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹<a href="http://imlgw.top/2018/10/31/yi-dao-leetcode-yin-fa-de-can-an/#2-%E5%8A%A0%E5%BC%BA%E7%89%88-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99-2">é‚£ç¯‡æ–‡ç« </a></p>
</blockquote>
<h2 id="542-01-çŸ©é˜µ"><a href="#542-01-çŸ©é˜µ" class="headerlink" title="542. 01 çŸ©é˜µ"></a><a href="https://leetcode-cn.com/problems/01-matrix/" target="_blank" rel="noopener">542. 01 çŸ©é˜µ</a></h2><p>ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µï¼Œæ‰¾å‡ºæ¯ä¸ªå…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»ã€‚</p>
<p>ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1 </p>
<p><strong>ç¤ºä¾‹ 1:</strong><br>è¾“å…¥:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong><br>è¾“å…¥:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>


<p>è¾“å‡º:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>æ³¨æ„:</strong></p>
<ul>
<li>ç»™å®šçŸ©é˜µçš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡ 10000</li>
<li>ç»™å®šçŸ©é˜µä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯ 0</li>
<li>çŸ©é˜µä¸­çš„å…ƒç´ åªåœ¨å››ä¸ªæ–¹å‘ä¸Šç›¸é‚»: ä¸Šã€ä¸‹ã€å·¦ã€å³</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ†¨æ†¨çš„BFSè§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éå†æ¯ä¸€ä¸ª1,BFSå¯»æ‰¾ç¦»ä»–æœ€è¿‘çš„0,ä¸€æ¬¡åªèƒ½ç¡®å®šä¸€ä¸ª1,æ•ˆç‡ç•¥ä½</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] updateMatrix(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length &lt;=<span class="number">0</span> || matrix[<span class="number">0</span>].length &lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;matrix[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                matrix[i][j]=findMinDis(matrix,i,j);   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] direction=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinDis</span><span class="params">(<span class="keyword">int</span>[][] matrix,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">//boolean[][] visit=new boolean[matrix.length][matrix[0].length];</span></span><br><span class="line">    queue.add(<span class="keyword">new</span> Pair(x,y,<span class="number">0</span>));</span><br><span class="line">    <span class="comment">//visit[x][y]=true;</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> nx=pair.x + direction[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> ny=pair.y + direction[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (isValid(matrix,nx,ny) <span class="comment">/*&amp;&amp; !visit[nx][ny]*/</span>) &#123;</span><br><span class="line">                <span class="comment">//visit[nx][ny]=true;</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[nx][ny] == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> pair.step+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//é¢˜ç›®è¯´äº†ä¸€å®šæœ‰0,æ‰€ä»¥ä¸ä¼šèµ°åˆ°è¿™é‡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">int</span>[][] matrix,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;matrix.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;matrix[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä»£ç ä¸­æœ‰å¾ˆæ˜æ˜¾çš„æ”¹åŠ¨ç—•è¿¹ï¼Œæœ€å¼€å§‹æ˜¯ç”¨visitæ•°ç»„ä¿è¯æ¯ä¸€ä¸ªå…ƒç´ åªä¼šè¿›é˜Ÿåˆ—ä¸€æ¬¡ï¼Œä¸ä¼šé‡å¤çš„è¿›é˜Ÿåˆ—ï¼Œä½†æ˜¯è¿™é‡Œä¸ºä»€ä¹ˆæˆ‘å»æ‰äº†å‘¢ï¼Ÿ</p>
<p>å…¶å®ä¸»è¦æ˜¯ä¸€å¼€å§‹æäº¤çš„è§£æ³•è¶…æ—¶äº†ï¼ŒæŠŠvisitæ•°ç»„å»æ‰å°±è¿‡äº†ï¼Œåœ¨æ•°ç»„è¿‡å¤§çš„æ—¶å€™æ¯æ¬¡BFSéƒ½è¦å¼€è¾Ÿä¸€ä¸ªmatrixå¤§å°çš„booleanæ•°ç»„ï¼Œè¿™æ— ç–‘ä¼šæå…¶è€—è´¹æ—¶é—´ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸åŠ visitæ•°ç»„ä¸ä¼šæ­»å¾ªç¯å‘¢ï¼Ÿ</p>
<p>ç¡®å®ï¼Œå¦‚æœä¸åŠ visitæ•°ç»„é‚£ä¹ˆç¡®å®æ˜¯æœ‰å¯èƒ½ä¼šå¯¼è‡´æ­»å¾ªç¯çš„ï¼Œä¸¤ä¸ªèŠ‚ç‚¹äº’ç›¸é‡å¤æ·»åŠ å¯¹æ–¹ï¼Œä½†æ˜¯è¿™ä¸€é¢˜æœ‰ä¸ªå¾ˆå…³é”®çš„åœ°æ–¹ï¼Œé¢˜ç›®è¯´æ˜äº†ä¸€å®šä¼šæœ‰0ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å®šä¼šè§£ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæ­»å¾ªç¯ï¼Œä¸¾ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­</p>
<p><code>ã€0ï¼Œ1ï¼Œ1ã€‘</code> è¿™é‡Œæˆ‘ä»¬å…ˆè€ƒè™‘ä¸­é—´çš„1ï¼Œç„¶åæˆ‘ä»¬æŒ‰ç…§ä¸‹å³ä¸Šå·¦çš„é¡ºåºå»æ·»åŠ å‘¨å›´çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆé˜Ÿåˆ—ä¸­å°±ä¸ºæœ«å°¾çš„<code>[1]</code> ï¼Œå½“éå†åˆ°å³çš„æ—¶å€™å‘ç°æ˜¯0ï¼Œç›´æ¥returnï¼Œç„¶åæˆ‘ä»¬è€ƒè™‘ä¸‹ä¸€ä¸ª1ï¼Œè½¬äº†ä¸€åœˆé˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªä¸­é—´çš„<code>[1]</code> ï¼Œ ç„¶åæˆ‘ä»¬åˆé‡å¤åˆšåˆšçš„æ­¥éª¤ä¼šå°†æœ«å°¾çš„1åˆåŠ å…¥é˜Ÿåˆ—ï¼Œä½†æ˜¯ä¸‹ä¸€æ¬¡éå†å°±ä¼šæ‰¾åˆ°æœ€å·¦è¾¹çš„0ï¼Œç„¶åè¿”å›ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæ­»å¾ªç¯ï¼Œå½“ç„¶è¿™æ ·åšçš„å‰ææ˜¯ä¸€å®šè¦æœ‰è§£ï¼</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¦ä¸€ç§æ›´å¥½çš„åšæ³•ï¼Œä»¥0ä½œä¸ºæºï¼Œå‘å››å‘¨BFSï¼ŒåŒæ—¶æ›´æ–°å‘¨å›´çš„1çš„å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.4.15</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dir=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] updateMatrix(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> matrix;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[matrix.length][matrix[<span class="number">0</span>].length];</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;matrix[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(i,j,<span class="number">0</span>));</span><br><span class="line">                visit[i][j]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                matrix[i][j]=Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;dir.length;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> nx=pair.x+dir[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> ny=pair.y+dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(matrix,nx,ny) &amp;&amp; !visit[nx][ny])&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">                matrix[nx][ny]=pair.step+<span class="number">1</span>; <span class="comment">//è¿™é‡Œä¸ç”¨åˆ¤æ–­æ˜¯ä¸æ˜¯å˜å°ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°çš„å°±æ˜¯æœ€è¿‘çš„</span></span><br><span class="line">                visit[nx][ny]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span>[][] matrix,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;matrix.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;matrix[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ æŠŠæ‰€æœ‰1éƒ½ç½®ä¸ºæœ€å¤§å€¼, æŠŠæ‰€æœ‰ä¸º0çš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ä¸­, æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­poll ä¸€ä¸ªèŠ‚ç‚¹, æ›´æ–°å…¶å››å‘¨çš„èŠ‚ç‚¹, <del>å¦‚æœè¢«æ›´æ–°çš„èŠ‚ç‚¹è·ç¦»å˜å°äº†å°±å°†å…¶ä¹ŸåŠ å…¥é˜Ÿåˆ—å‡†å¤‡æ›´æ–°å…¶é‚»æ¥ç‚¹</del> stepæ˜¯é€’å¢çš„ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°çš„ä¸€å®šæ˜¯æœ€è¿‘çš„</p>
<p>å¤šæºBFSï¼Œå‚è€ƒä¸‹é¢çš„ <a href="">994. è…çƒ‚çš„æ©˜å­</a>  å’Œ <a href="">1162. åœ°å›¾åˆ†æ</a></p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<blockquote>
<p>è¿™é¢˜çš„æœ€ä¼˜è§£åº”è¯¥æ˜¯åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œæˆ‘å®åœ¨æ˜¯æ‡’å¾—å†™ï¼ˆèœï¼‰ï¼Œå…¶å®å’Œå“ªä¸ª ä¸åŒè·¯å¾„æœ‰ç‚¹ç±»ä¼¼ï¼Œæ¯ä¸ª1ç¦»ä»–æœ€è¿‘çš„0çš„è·ç¦»å…¶å®å°±æ˜¯å®ƒå‘¨å›´çš„å…ƒç´ ç¦»0æœ€è¿‘çš„è·ç¦»+1</p>
<p>ä¹Ÿå°±æ˜¯ <code>matrix[i][j] =min(dp[i][j-1],dp[i-1][j],dp[i+1][j],dp[i][j+1]) + 1</code> ä½†æ˜¯æˆ‘ä»¬ä¸å¯èƒ½åŒæ—¶æ±‚å‡ºæ˜¯ä¸ªæ–¹å‘çš„æœ€å°å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸¤æ¬¡éå†ï¼Œç¬¬ä¸€éä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œç¬¬äºŒéä»å³ä¸‹åˆ°å·¦ä¸Šï¼Œä¸¤æ¬¡éå†å°±å¯ä»¥ç¡®å®šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œä»£ç ä»¥åæœ‰æ—¶é—´å†æ¥å†™</p>
</blockquote>
<h2 id="1306-è·³è·ƒæ¸¸æˆ-III"><a href="#1306-è·³è·ƒæ¸¸æˆ-III" class="headerlink" title="1306. è·³è·ƒæ¸¸æˆ III"></a><a href="https://leetcode-cn.com/problems/jump-game-iii/" target="_blank" rel="noopener">1306. è·³è·ƒæ¸¸æˆ III</a></h2><p>è¿™é‡Œæœ‰ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ <code>arr</code>ï¼Œä½ æœ€å¼€å§‹ä½äºè¯¥æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡ <code>start</code> å¤„ã€‚å½“ä½ ä½äºä¸‹æ ‡ i å¤„æ—¶ï¼Œä½ å¯ä»¥è·³åˆ° <code>i + arr[i]</code> æˆ–è€… <code>i - arr[i]</code>ã€‚</p>
<p>è¯·ä½ åˆ¤æ–­è‡ªå·±æ˜¯å¦èƒ½å¤Ÿè·³åˆ°å¯¹åº”å…ƒç´ å€¼ä¸º 0 çš„ <code>ä»»æ„</code> ä¸‹æ ‡å¤„ã€‚</p>
<p>æ³¨æ„ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½ éƒ½æ— æ³•è·³åˆ°æ•°ç»„ä¹‹å¤–</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">true</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">3</span> æœ‰ä»¥ä¸‹å¯èƒ½æ–¹æ¡ˆï¼š </span><br><span class="line">ä¸‹æ ‡ <span class="number">5</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span> </span><br><span class="line">ä¸‹æ ‡ <span class="number">5</span> -&gt; ä¸‹æ ‡ <span class="number">6</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">true</span> </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">3</span> æœ‰ä»¥ä¸‹å¯èƒ½æ–¹æ¡ˆï¼š </span><br><span class="line">ä¸‹æ ‡ <span class="number">0</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="keyword">false</span></span><br><span class="line">è§£é‡Šï¼šæ— æ³•åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">1</span> å¤„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 5 * 10^4</code></li>
<li><code>0 &lt;= arr[i] &lt; arr.length</code></li>
<li><code>0 &lt;= start &lt; arr.length</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼ŒæŸæ¬¡å‘¨èµ›çš„ç¬¬3é¢˜ï¼Œè¿˜æ˜¯æŒºç®€å•çš„ï¼Œå¯æƒœé‚£æ¬¡æ²¡å‚åŠ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[arr.length];</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visit[start]=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (arr[cur] == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur-arr[cur]&gt;=<span class="number">0</span> &amp;&amp; !visit[cur-arr[cur]]) &#123;</span><br><span class="line">            queue.add(cur-arr[cur]);</span><br><span class="line">            visit[cur-arr[cur]]=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur+arr[cur]&lt;arr.length &amp;&amp; !visit[cur+arr[cur]]) &#123;</span><br><span class="line">            queue.add(cur+arr[cur]);</span><br><span class="line">            visit[cur+arr[cur]]=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFSè§£æ³•ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canReach</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> start)</span></span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[arr.length];</span><br><span class="line">    <span class="keyword">return</span> dfs(arr,start,visit);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> index,<span class="keyword">boolean</span>[] visit)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[index] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit[index]=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> b=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (index-arr[index] &gt;=<span class="number">0</span> &amp;&amp; !visit[index-arr[index]]) &#123;</span><br><span class="line">        b=dfs(arr,index-arr[index],visit);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index+arr[index] &lt;arr.length &amp;&amp; !visit[index+arr[index]]) &#123;</span><br><span class="line">        <span class="keyword">return</span> b|dfs(arr,index+arr[index],visit);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5314-è·³è·ƒæ¸¸æˆ-IV"><a href="#5314-è·³è·ƒæ¸¸æˆ-IV" class="headerlink" title="5314. è·³è·ƒæ¸¸æˆ IV"></a><a href="https://leetcode-cn.com/problems/jump-game-iv/" target="_blank" rel="noopener">5314. è·³è·ƒæ¸¸æˆ IV</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ï¼Œä½ ä¸€å¼€å§‹åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¤„ï¼ˆä¸‹æ ‡ä¸º 0ï¼‰ã€‚</p>
<p>æ¯ä¸€æ­¥ï¼Œä½ å¯ä»¥ä»ä¸‹æ ‡ i è·³åˆ°ä¸‹æ ‡ï¼š</p>
<ul>
<li>i + 1 æ»¡è¶³ï¼ši + 1 &lt; arr.length</li>
<li>i - 1 æ»¡è¶³ï¼ši - 1 &gt;= 0</li>
<li>j æ»¡è¶³ï¼šarr[i] == arr[j] ä¸” i != j</li>
</ul>
<p>è¯·ä½ è¿”å›åˆ°è¾¾æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å¤„æ‰€éœ€çš„ æœ€å°‘æ“ä½œæ¬¡æ•° ã€‚<br>æ³¨æ„ï¼šä»»ä½•æ—¶å€™ä½ éƒ½ä¸èƒ½è·³åˆ°æ•°ç»„å¤–é¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">100</span>,-<span class="number">23</span>,-<span class="number">23</span>,<span class="number">404</span>,<span class="number">100</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">3</span>,<span class="number">404</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šé‚£ä½ éœ€è¦è·³è·ƒ <span class="number">3</span> æ¬¡ï¼Œä¸‹æ ‡ä¾æ¬¡ä¸º <span class="number">0</span> --&gt; <span class="number">4</span> --&gt; <span class="number">3</span> --&gt; <span class="number">9</span> ã€‚ä¸‹æ ‡ <span class="number">9</span> ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šä¸€å¼€å§‹å°±åœ¨æœ€åä¸€ä¸ªå…ƒç´ å¤„ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦è·³è·ƒã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥ç›´æ¥ä»ä¸‹æ ‡ <span class="number">0</span> å¤„è·³åˆ°ä¸‹æ ‡ <span class="number">7</span> å¤„ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å¤„ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">6</span>,<span class="number">1</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">13</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 5 * 10^4</code></li>
<li><code>-10^8 &lt;= arr[i] &lt;= 10^8</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>19åŒå‘¨èµ›çš„æœ€åä¸€é¢˜ï¼Œè®²é“ç†æŒºç®€å•çš„ï¼ˆå¯æˆ‘è¿˜æ˜¯TLEäº†å¥½é•¿æ—¶é—´ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minJumps</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[arr.length];</span><br><span class="line">    HashMap&lt;Integer,List&lt;Integer&gt;&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ„å»ºç­‰å€¼çš„ç´¢å¼• è¿ç»­ç›¸åŒçš„åªä¿ç•™å¤´å°¾</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">        List&lt;Integer&gt; lis=map.computeIfAbsent(arr[i],k-&gt;<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        <span class="keyword">if</span> (!((i-<span class="number">1</span>&gt;=<span class="number">0</span>&amp;&amp;arr[i-<span class="number">1</span>]==arr[i]) &amp;&amp; (i+<span class="number">1</span>&lt;arr.length&amp;&amp;arr[i+<span class="number">1</span>]==arr[i])))&#123;</span><br><span class="line">            lis.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    queue.add(<span class="keyword">new</span> Pair(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">    visit[<span class="number">0</span>]=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (pair.index==arr.length-<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> pair.step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(pair.index+<span class="number">1</span>&lt;arr.length &amp;&amp; !visit[pair.index+<span class="number">1</span>])&#123;</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(pair.index+<span class="number">1</span>,pair.step+<span class="number">1</span>));</span><br><span class="line">            visit[pair.index+<span class="number">1</span>]=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pair.index-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; !visit[pair.index-<span class="number">1</span>]) &#123;</span><br><span class="line">            queue.add(<span class="keyword">new</span> Pair(pair.index-<span class="number">1</span>,pair.step+<span class="number">1</span>));</span><br><span class="line">            visit[pair.index-<span class="number">1</span>]=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; list=map.get(arr[pair.index]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=list.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx=list.get(i);</span><br><span class="line">            <span class="keyword">if</span> (!visit[idx]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(idx,pair.step+<span class="number">1</span>));</span><br><span class="line">                visit[idx]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> index,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.index=index;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹æ•°æ®èŒƒå›´ï¼Œç›´æ¥BFSéå†è·³åŒå€¼çš„è‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥æƒ³åˆ°äº†ç”¨mapé¢„å¤„ç†åŒå€¼çš„ç´¢å¼•ï¼Œç»“æœè¿˜æ˜¯TLEäº†ï¼Œåé¢ä¸€ä¸ªcaseæœ‰50000ä¸ª7ï¼Œè¿™é‡Œå³ä½¿åšäº†mapç´¢å¼•ä½†æ˜¯æ— å¥ˆå¤ªå¤šäº†ï¼Œä¾ç„¶ä¼šè¶…æ—¶ï¼Œè¿™é‡Œå…¶å®è¿™ä¹ˆå¤š7ï¼Œåªæœ‰å¤´å’Œå°¾çš„7æ˜¯ç”¨çš„ï¼Œå…¶ä»–ä½ç½®çš„7éƒ½æ˜¯æ— ç”¨çš„ï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥ï¼Œæ‰€ä»¥æ„å»ºç´¢å¼•çš„æ—¶å€™å¯ä»¥è·³è¿‡è¿™äº›ä¸­é—´ä½ç½®ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´</p>
<h2 id="690-å‘˜å·¥çš„é‡è¦æ€§"><a href="#690-å‘˜å·¥çš„é‡è¦æ€§" class="headerlink" title="690. å‘˜å·¥çš„é‡è¦æ€§"></a><a href="https://leetcode-cn.com/problems/employee-importance/" target="_blank" rel="noopener">690. å‘˜å·¥çš„é‡è¦æ€§</a></h2><p>ç»™å®šä¸€ä¸ªä¿å­˜å‘˜å·¥ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†å‘˜å·¥å”¯ä¸€çš„idï¼Œé‡è¦åº¦ å’Œ ç›´ç³»ä¸‹å±çš„idã€‚</p>
<p>æ¯”å¦‚ï¼Œå‘˜å·¥1æ˜¯å‘˜å·¥2çš„é¢†å¯¼ï¼Œå‘˜å·¥2æ˜¯å‘˜å·¥3çš„é¢†å¯¼ã€‚ä»–ä»¬ç›¸åº”çš„é‡è¦åº¦ä¸º15, 10, 5ã€‚é‚£ä¹ˆå‘˜å·¥1çš„æ•°æ®ç»“æ„æ˜¯[1, 15, [2]]ï¼Œå‘˜å·¥2çš„æ•°æ®ç»“æ„æ˜¯[2, 10, [3]]ï¼Œå‘˜å·¥3çš„æ•°æ®ç»“æ„æ˜¯[3, 5, []]ã€‚æ³¨æ„è™½ç„¶å‘˜å·¥3ä¹Ÿæ˜¯å‘˜å·¥1çš„ä¸€ä¸ªä¸‹å±ï¼Œä½†æ˜¯ç”±äºå¹¶ä¸æ˜¯ç›´ç³»ä¸‹å±ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°åœ¨å‘˜å·¥1çš„æ•°æ®ç»“æ„ä¸­ã€‚</p>
<p>ç°åœ¨è¾“å…¥ä¸€ä¸ªå…¬å¸çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œä»¥åŠå•ä¸ªå‘˜å·¥idï¼Œè¿”å›è¿™ä¸ªå‘˜å·¥å’Œä»–æ‰€æœ‰ä¸‹å±çš„é‡è¦åº¦ä¹‹å’Œã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [[<span class="number">1</span>, <span class="number">5</span>, [<span class="number">2</span>, <span class="number">3</span>]], [<span class="number">2</span>, <span class="number">3</span>, []], [<span class="number">3</span>, <span class="number">3</span>, []]], <span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="number">11</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">å‘˜å·¥<span class="number">1</span>è‡ªèº«çš„é‡è¦åº¦æ˜¯<span class="number">5</span>ï¼Œä»–æœ‰ä¸¤ä¸ªç›´ç³»ä¸‹å±<span class="number">2</span>å’Œ<span class="number">3</span>ï¼Œè€Œä¸”<span class="number">2</span>å’Œ<span class="number">3</span>çš„é‡è¦åº¦å‡ä¸º<span class="number">3</span>ã€‚å› æ­¤å‘˜å·¥<span class="number">1</span>çš„æ€»é‡è¦åº¦æ˜¯ <span class="number">5</span> + <span class="number">3</span> + <span class="number">3</span> = <span class="number">11</span>ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>æ³¨æ„:</strong></p>
<ol>
<li>ä¸€ä¸ªå‘˜å·¥æœ€å¤šæœ‰ä¸€ä¸ªç›´ç³»é¢†å¯¼ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªç›´ç³»ä¸‹å±</li>
<li>å‘˜å·¥æ•°é‡ä¸è¶…è¿‡2000ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæ†¨æ†¨é¢˜ç›´æ¥bugfree</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImportance</span><span class="params">(List&lt;Employee&gt; employees, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Integer,Employee&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Employee e:employees) &#123;</span><br><span class="line">        map.put(e.id,e);</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(id);</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Employee cur=map.get(queue.poll());</span><br><span class="line">        res+=cur.importance;</span><br><span class="line">        List&lt;Integer&gt; subordinates=cur.subordinates;</span><br><span class="line">        <span class="keyword">if</span> (!subordinates.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> eid:subordinates) &#123;</span><br><span class="line">                queue.add(eid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFSï¼Œæœ¬æ¥ä¸æƒ³å†™çš„ï¼Œè¿™ç±»é¢˜å…¶å®éƒ½æ˜¯æ ‘çš„é¢˜å˜äº†ä¸ªè¯´æ³•è€Œå·²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getImportance</span><span class="params">(List&lt;Employee&gt; employees, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Integer,Employee&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Employee e:employees) &#123;</span><br><span class="line">        map.put(e.id,e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(map,id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(HashMap&lt;Integer,Employee&gt; map,<span class="keyword">int</span> id)</span></span>&#123;</span><br><span class="line">    Employee cur=map.get(id);</span><br><span class="line">    <span class="keyword">int</span> res=cur.importance;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> eid:cur.subordinates) &#123;</span><br><span class="line">        res+=dfs(map,eid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1311-è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘"><a href="#1311-è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘" class="headerlink" title="1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘"></a><a href="https://leetcode-cn.com/problems/get-watched-videos-by-your-friends/" target="_blank" rel="noopener">1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘</a></h2><p>æœ‰ n ä¸ªäººï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ª  0 åˆ° n-1 çš„å”¯ä¸€ id ã€‚</p>
<p>ç»™ä½ æ•°ç»„ <code>watchedVideos</code>  å’Œ <code>friends</code> ï¼Œå…¶ä¸­ <code>watchedVideos[i]</code>  å’Œ friends[i] åˆ†åˆ«è¡¨ç¤º id = i çš„äººè§‚çœ‹è¿‡çš„è§†é¢‘åˆ—è¡¨å’Œä»–çš„å¥½å‹åˆ—è¡¨ã€‚</p>
<p>Level 1 çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä½ å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ï¼Œlevel 2 çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä½ å¥½å‹çš„å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¸€èˆ¬çš„ï¼ŒLevel ä¸º k çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä»ä½ å‡ºå‘ï¼Œæœ€çŸ­è·ç¦»ä¸º k çš„å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ã€‚</p>
<p>ç»™å®šä½ çš„ <code>id</code>  å’Œä¸€ä¸ª <code>level</code> å€¼ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æŒ‡å®š level çš„è§†é¢‘ï¼Œå¹¶å°†å®ƒä»¬æŒ‰è§‚çœ‹é¢‘ç‡å‡åºè¿”å›ã€‚å¦‚æœæœ‰é¢‘ç‡ç›¸åŒçš„è§†é¢‘ï¼Œè¯·å°†å®ƒä»¬æŒ‰åå­—å­—å…¸åºä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/01/I5XJKQg3WwvaeB1.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwatchedVideos = [[<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"C"</span>],[<span class="string">"B"</span>,<span class="string">"C"</span>],[<span class="string">"D"</span>]], friends = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]], id = <span class="number">0</span>, level = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"B"</span>,<span class="string">"C"</span>] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä½ çš„ id ä¸º <span class="number">0</span> ï¼Œä½ çš„æœ‹å‹åŒ…æ‹¬ï¼š</span><br><span class="line">id ä¸º <span class="number">1</span> -&gt; watchedVideos = [<span class="string">"C"</span>] </span><br><span class="line">id ä¸º <span class="number">2</span> -&gt; watchedVideos = [<span class="string">"B"</span>,<span class="string">"C"</span>] </span><br><span class="line">ä½ æœ‹å‹è§‚çœ‹è¿‡è§†é¢‘çš„é¢‘ç‡ä¸ºï¼š</span><br><span class="line">B -&gt; <span class="number">1</span> </span><br><span class="line">C -&gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/01/qhDZvr3sbJkgIuw.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwatchedVideos = [[<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"C"</span>],[<span class="string">"B"</span>,<span class="string">"C"</span>],[<span class="string">"D"</span>]], friends = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]], id = <span class="number">0</span>, level = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">"D"</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä½ çš„ id ä¸º <span class="number">0</span> ï¼Œä½ æœ‹å‹çš„æœ‹å‹åªæœ‰ä¸€ä¸ªäººï¼Œä»–çš„ id ä¸º <span class="number">3</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>n == watchedVideos.length == friends.length</li>
<li>2 &lt;= n &lt;= 100</li>
<li>1 &lt;= watchedVideos[i].length &lt;= 100</li>
<li>1 &lt;= watchedVideos[i][j].length &lt;= 8</li>
<li>0 &lt;= friends[i].length &lt; n</li>
<li>0 &lt;= friends[i][j] &lt; n</li>
<li>0 &lt;= id &lt; n</li>
<li>1 &lt;= level &lt; n</li>
<li>å¦‚æœ friends[i] åŒ…å« j ï¼Œé‚£ä¹ˆ friends[j] åŒ…å« i</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>170å‘¨èµ›çš„ç¬¬ä¸‰é¢˜ï¼Œå…¶å®æ˜¯ä¸€é“æ°´é¢˜ï¼Œé¢˜ç›®æ„æ€ææ¸…æ¥šå°±å¾ˆç®€å•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">watchedVideosByFriends</span><span class="params">(List&lt;List&lt;String&gt;&gt; watchedVideos, <span class="keyword">int</span>[][] friends, <span class="keyword">int</span> id, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] levels=<span class="keyword">new</span> <span class="keyword">int</span>[friends.length]; <span class="comment">//è¿™é‡Œæ²¡å¿…è¦,è¿™é‡Œç”¨ä¸€ä¸ªå˜é‡å°±okäº†</span></span><br><span class="line">    <span class="keyword">boolean</span>[] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[friends.length];</span><br><span class="line">    HashMap&lt;String,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; flist=<span class="keyword">new</span> ArrayList&lt;&gt;(); <span class="comment">//levelå±‚çš„æœ‹å‹</span></span><br><span class="line">    queue.add(id);</span><br><span class="line">    visit[id]=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> cur=queue.poll();</span><br><span class="line">        <span class="keyword">int</span>[] cfs=friends[cur];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cfs.length;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visit[cfs[i]]) &#123;</span><br><span class="line">                queue.add(cfs[i]);</span><br><span class="line">                levels[cfs[i]]=levels[cur]+<span class="number">1</span>;   </span><br><span class="line">                visit[cfs[i]]=<span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (levels[cfs[i]] == level) &#123;</span><br><span class="line">                    flist.add(cfs[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;flist.size();i++) &#123;</span><br><span class="line">        List&lt;String&gt; videos=watchedVideos.get(flist.get(i));</span><br><span class="line">        <span class="keyword">for</span> (String v:videos) &#123;</span><br><span class="line">            map.put(v,map.getOrDefault(v,<span class="number">0</span>)+<span class="number">1</span>); <span class="comment">//mapè®°å½•videoså‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸‹é¢å‡ æ­¥è¿˜æ˜¯æŒºè€é“çš„</span></span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> ArrayList(map.keySet());</span><br><span class="line">    res.sort((v1,v2)-&gt;&#123;</span><br><span class="line">        <span class="keyword">int</span> c1=map.get(v1);</span><br><span class="line">        <span class="keyword">int</span> c2=map.get(v2);</span><br><span class="line">        <span class="keyword">return</span> c1==c2?v1.compareTo(v2):c1-c2; <span class="comment">//ç›¸ç­‰çš„æ—¶å€™æŒ‰ç…§å­—å…¸åºåˆ—æ’åº</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="399-é™¤æ³•æ±‚å€¼"><a href="#399-é™¤æ³•æ±‚å€¼" class="headerlink" title="399. é™¤æ³•æ±‚å€¼"></a><a href="https://leetcode-cn.com/problems/evaluate-division/" target="_blank" rel="noopener">399. é™¤æ³•æ±‚å€¼</a></h2><p>ç»™å‡ºæ–¹ç¨‹å¼ A / B = k, å…¶ä¸­ A å’Œ B å‡ä¸ºä»£è¡¨å­—ç¬¦ä¸²çš„å˜é‡ï¼Œ k æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹æ•°å­—ã€‚æ ¹æ®å·²çŸ¥æ–¹ç¨‹å¼æ±‚è§£é—®é¢˜ï¼Œå¹¶è¿”å›è®¡ç®—ç»“æœã€‚å¦‚æœç»“æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1.0ã€‚</p>
<p>ç¤ºä¾‹ :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»™å®š a / b = <span class="number">2.0</span>, b / c = <span class="number">3.0</span></span><br><span class="line">é—®é¢˜: a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ? </span><br><span class="line">è¿”å› [<span class="number">6.0</span>, <span class="number">0.5</span>, -<span class="number">1.0</span>, <span class="number">1.0</span>, -<span class="number">1.0</span> ]</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ä¸º: <code>vector&lt;pair&lt;string, string&gt;&gt; equations, vector&lt;double&gt;&amp; values, vector&lt;pair&lt;string, string&gt;&gt; queries(æ–¹ç¨‹å¼ï¼Œæ–¹ç¨‹å¼ç»“æœï¼Œé—®é¢˜æ–¹ç¨‹å¼)</code>ï¼Œ å…¶ä¸­ <code>equations.size() == values.size()</code>ï¼Œå³æ–¹ç¨‹å¼çš„é•¿åº¦ä¸æ–¹ç¨‹å¼ç»“æœé•¿åº¦ç›¸ç­‰ï¼ˆç¨‹å¼ä¸ç»“æœä¸€ä¸€å¯¹åº”ï¼‰ï¼Œå¹¶ä¸”ç»“æœå€¼å‡ä¸ºæ­£æ•°ã€‚ä»¥ä¸Šä¸ºæ–¹ç¨‹å¼çš„æè¿°ã€‚ è¿”å›<code>vector&lt;double&gt;</code>ç±»å‹ã€‚</p>
<p>åŸºäºä¸Šè¿°ä¾‹å­ï¼Œè¾“å…¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">equations(æ–¹ç¨‹å¼) = [ [<span class="string">"a"</span>, <span class="string">"b"</span>], [<span class="string">"b"</span>, <span class="string">"c"</span>] ],</span><br><span class="line">values(æ–¹ç¨‹å¼ç»“æœ) = [<span class="number">2.0</span>, <span class="number">3.0</span>],</span><br><span class="line">queries(é—®é¢˜æ–¹ç¨‹å¼) = [ [<span class="string">"a"</span>, <span class="string">"c"</span>], [<span class="string">"b"</span>, <span class="string">"a"</span>], [<span class="string">"a"</span>, <span class="string">"e"</span>], [<span class="string">"a"</span>, <span class="string">"a"</span>], [<span class="string">"x"</span>, <span class="string">"x"</span>] ].</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º0çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å»ºç«‹å›¾ï¼Œç„¶åBFSï¼Œè¿™æ ·å°±ç®€å•å¤šäº†ï¼Œæ¯”å¹¶èŒ¶é›†çš„æ–¹æ³•ç›´ç™½å¤šäº†ï¼Œéšä¾¿ä¹Ÿå­¦äº†ä¸€ä¸‹å¦‚ä½•å»ºå›¾</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ„é€ å›¾ + BFS/DFS</span></span><br><span class="line"><span class="keyword">private</span> Map&lt;String,Map&lt;String,Double&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildGraph</span><span class="params">(List&lt;List&lt;String&gt;&gt; equations, <span class="keyword">double</span>[] values)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">        graph.computeIfAbsent(equations.get(i).get(<span class="number">0</span>), k -&gt; <span class="keyword">new</span> HashMap&lt;&gt;()).put(equations.get(i).get(<span class="number">1</span>), values[i]);</span><br><span class="line">        graph.computeIfAbsent(equations.get(i).get(<span class="number">1</span>), k -&gt; <span class="keyword">new</span> HashMap&lt;&gt;()).put(equations.get(i).get(<span class="number">0</span>), <span class="number">1</span> / values[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    String key;</span><br><span class="line">    <span class="keyword">double</span> val;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(String key,<span class="keyword">double</span> val)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key=key;</span><br><span class="line">        <span class="keyword">this</span>.val=val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">bfs</span><span class="params">(String a,String b)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è®²é“ç†,ä¸ç®¡a,bæ˜¯å¦åœ¨graphä¸­,åªè¦æƒ³ç­‰éƒ½åº”è¯¥è¿”å›1å§,è¿™é‡Œæ˜¯è€ƒè™‘äº†0çš„æƒ…å†µ?</span></span><br><span class="line">    <span class="keyword">if</span> (!graph.containsKey(a) || !graph.containsKey(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.equals(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> Pair(a,<span class="number">1.0</span>));</span><br><span class="line">    HashSet&lt;String&gt; visit=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (!visit.contains(cur.key)) &#123;</span><br><span class="line">            visit.add(cur.key);</span><br><span class="line">            Map&lt;String,Double&gt; map=graph.get(cur.key);</span><br><span class="line">            <span class="keyword">for</span> (String next:map.keySet()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (b.equals(next)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> cur.val*map.get(next);</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(next,cur.val*map.get(next)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">dfs</span><span class="params">(String a,String b,HashSet&lt;String&gt; visit)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!graph.containsKey(a)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.equals(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit.add(a);</span><br><span class="line">    Map&lt;String,Double&gt; nextMap=graph.get(a);</span><br><span class="line">    <span class="keyword">for</span> (String next:nextMap.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit.contains(next)) &#123;</span><br><span class="line">            <span class="keyword">double</span> subres=dfs(next,b,visit);</span><br><span class="line">            <span class="keyword">if</span> (subres!=-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> subres*nextMap.get(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">double</span>[] calcEquation(List&lt;List&lt;String&gt;&gt; equations, <span class="keyword">double</span>[] values, List&lt;List&lt;String&gt;&gt; queries) &#123;</span><br><span class="line">    buildGraph(equations,values);</span><br><span class="line">    <span class="keyword">double</span>[] res=<span class="keyword">new</span> <span class="keyword">double</span>[queries.size()];</span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (List&lt;String&gt; query:queries) &#123;</span><br><span class="line">        HashSet&lt;String&gt; visit=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="comment">//res[index++]=bfs(query.get(0),query.get(1),visit); </span></span><br><span class="line">        res[index++]=bfs(query.get(<span class="number">0</span>),query.get(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·"><a href="#301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·" class="headerlink" title="301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·"></a><a href="https://leetcode-cn.com/problems/remove-invalid-parentheses/" target="_blank" rel="noopener">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a></h2><p>åˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚</p>
<p><strong>è¯´æ˜:</strong> è¾“å…¥å¯èƒ½åŒ…å«äº†é™¤ ( å’Œ ) ä»¥å¤–çš„å­—ç¬¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"()())()"</span></span><br><span class="line">è¾“å‡º: [<span class="string">"()()()"</span>, <span class="string">"(())()"</span>]</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"(a)())()"</span></span><br><span class="line">è¾“å‡º: [<span class="string">"(a)()()"</span>, <span class="string">"(a())()"</span>]</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">")("</span></span><br><span class="line">è¾“å‡º: [<span class="string">""</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSè§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">removeInvalidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Queue&lt;String&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    HashSet&lt;String&gt; visit=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visit.add(s);</span><br><span class="line">    queue.add(s);</span><br><span class="line">    <span class="keyword">boolean</span> flag=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        String cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (isValid(cur)) &#123;</span><br><span class="line">            res.add(cur);</span><br><span class="line">            flag=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cur.length();i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur.charAt(i)==<span class="string">'('</span> || cur.charAt(i)==<span class="string">')'</span>) &#123;</span><br><span class="line">                String temp=cur.substring(<span class="number">0</span>,i)+cur.substring(i+<span class="number">1</span>,cur.length());</span><br><span class="line">                <span class="keyword">if</span> (!visit.contains(temp)) &#123;</span><br><span class="line">                    queue.add(temp);</span><br><span class="line">                    visit.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res.isEmpty()) res.add(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">'('</span>) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i)==<span class="string">')'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                left--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯æ¯”è¾ƒç®€å•ï¼Œdfsçš„è§£æ³•æ¯”è¾ƒéš¾æï¼Œå®¹æ˜“TLEï¼Œè¿™é‡Œæ‡’å¾—å†™äº†</p>
<h2 id="994-è…çƒ‚çš„æ©˜å­"><a href="#994-è…çƒ‚çš„æ©˜å­" class="headerlink" title="994. è…çƒ‚çš„æ©˜å­"></a><a href="https://leetcode-cn.com/problems/rotting-oranges/" target="_blank" rel="noopener">994. è…çƒ‚çš„æ©˜å­</a></h2><p>åœ¨ç»™å®šçš„ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š</p>
<ul>
<li>å€¼ 0 ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼›</li>
<li>å€¼ 1 ä»£è¡¨æ–°é²œæ©˜å­ï¼›</li>
<li>å€¼ 2 ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚</li>
</ul>
<p>æ¯åˆ†é’Ÿï¼Œä»»ä½•ä¸è…çƒ‚çš„æ©˜å­ï¼ˆåœ¨ 4 ä¸ªæ­£æ–¹å‘ä¸Šï¼‰ç›¸é‚»çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚</p>
<p>è¿”å›ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="http://static.imlgw.top/blog/20200304/YGBajce2liDs.png?imageslim" alt="mark"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ <span class="number">2</span> è¡Œï¼Œ ç¬¬ <span class="number">0</span> åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ <span class="number">4</span> ä¸ªæ­£å‘ä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">2</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šå› ä¸º <span class="number">0</span> åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ <span class="number">0</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= grid.length &lt;= 10</code></li>
<li><code>1 &lt;= grid[0].length &lt;= 10</code></li>
<li><code>grid[i][j]</code> ä»…ä¸º <code>0</code>ã€<code>1</code> æˆ– <code>2</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSæ‰“å¡é¢˜ï¼Œè¿™ç§è§£æ³•åº”è¯¥ç®—æ˜¯æ¯”è¾ƒå¥½çš„äº†ï¼Œ2ms</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] diretion=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">orangesRotting</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> time=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>) count++; <span class="comment">//ç»Ÿè®¡å¥½æ©˜å­çš„æ•°é‡</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">2</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(count==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//æ¯ä¸€è½®çš„åæ©˜å­æ•°é‡</span></span><br><span class="line">        <span class="keyword">int</span> size=queue.size();</span><br><span class="line">        time++;</span><br><span class="line">        <span class="keyword">while</span>(size-- &gt;<span class="number">0</span>)&#123;</span><br><span class="line">            Pair pair=queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; grid[nx][ny]==<span class="number">1</span>)&#123;</span><br><span class="line">                    grid[nx][ny]=<span class="number">2</span>;</span><br><span class="line">                    count--;<span class="comment">//å¥½æ©˜å­--</span></span><br><span class="line">                    queue.add(<span class="keyword">new</span> Pair(nx,ny));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(count==<span class="number">0</span>) <span class="keyword">return</span> time;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span>[][] grid,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸€å¼€å§‹çš„è§£æ³•ï¼Œè™½ç„¶æ•ˆç‡ç¨å¾®ä½ä¸€ç‚¹ç‚¹ 4msï¼Œä½†æ˜¯bugfreeäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] diretion=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">orangesRotting</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">2</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(i,j,<span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡ä¸€ä¸ªæœ€å¤§çš„æ­¥æ•°ä½œä¸ºç»“æœ</span></span><br><span class="line">        <span class="comment">//max=Math.max(max,pair.step);</span></span><br><span class="line">        max=pair.step; <span class="comment">//æœ€åå¼¹å‡ºçš„å“ªä¸ªå°±æ˜¯æœ€å¤§çš„ï¼Œè¿™æ˜¯ä¸ªé€’å¢(éå•è°ƒ)çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; grid[nx][ny]==<span class="number">1</span>)&#123;</span><br><span class="line">                grid[nx][ny]=<span class="number">2</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> check(grid)?max:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span>[][] grid)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span>[][] grid,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»è¿‡å‹˜è¯¯ï¼Œå‘ç°æœ‰ä¸€å¤„åœ°æ–¹æœ‰ç‚¹å°é—®é¢˜ï¼Œå·²ç»ä¿®æ”¹ï¼Œ<code>pair.step</code> åœ¨é˜Ÿåˆ—ä¸­æ˜¯ä¸€ä¸ªé€’å¢ï¼ˆä¸å•è°ƒï¼Œä¼šç›¸ç­‰ï¼‰çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æœ€åå¼¹å‡ºçš„å°±æ˜¯æœ€å¤§çš„</p>
<h2 id="1162-åœ°å›¾åˆ†æ"><a href="#1162-åœ°å›¾åˆ†æ" class="headerlink" title="1162. åœ°å›¾åˆ†æ"></a><a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/" target="_blank" rel="noopener">1162. åœ°å›¾åˆ†æ</a></h2><p>ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º N x N çš„ã€åœ°å›¾ã€ï¼ˆç½‘æ ¼ï¼‰ gridï¼Œä¸Šé¢çš„æ¯ä¸ªã€åŒºåŸŸã€ï¼ˆå•å…ƒæ ¼ï¼‰éƒ½ç”¨ 0 å’Œ 1 æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ 0 ä»£è¡¨æµ·æ´‹ï¼Œ1 ä»£è¡¨é™†åœ°ï¼Œä½ çŸ¥é“è·ç¦»é™†åœ°åŒºåŸŸæœ€è¿œçš„æµ·æ´‹åŒºåŸŸæ˜¯æ˜¯å“ªä¸€ä¸ªå—ï¼Ÿè¯·è¿”å›è¯¥æµ·æ´‹åŒºåŸŸåˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°åŒºåŸŸçš„è·ç¦»ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€æ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š(x0, y0) å’Œ (x1, y1) è¿™ä¸¤ä¸ªåŒºåŸŸä¹‹é—´çš„è·ç¦»æ˜¯ |x0 - x1| + |y0 - y1| ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬çš„åœ°å›¾ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/03/29/GVuO3Q.png" alt="GVuO3Q.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹åŒºåŸŸ (<span class="number">1</span>, <span class="number">1</span>) å’Œæ‰€æœ‰é™†åœ°åŒºåŸŸä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/03/29/GVKSH0.png" alt="GVKSH0.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹åŒºåŸŸ (<span class="number">2</span>, <span class="number">2</span>) å’Œæ‰€æœ‰é™†åœ°åŒºåŸŸä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="number">4</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= grid.length == grid[0].length &lt;= 100</code></li>
<li><code>grid[i][j]</code> ä¸æ˜¯ <code>0</code> å°±æ˜¯ <code>1</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜çš„æ„æ€å…¶å®æ±‚<strong>ç¦»é™†åœ°æœ€è¿œçš„æµ·æ´‹æ˜¯é‚£ä¸€å—ï¼Œç„¶åè¿”å›è¿™ä¸ªæœ€è¿œçš„è·ç¦»</strong>ï¼Œè¿™ä¸ªé¢˜ç›®æè¿°çš„ç¡®å®è®©äººè¿·æƒ‘ï¼Œä¸€ä¼šå„¿æœ€è¿œï¼Œä¸€ä¼šå„¿æœ€è¿‘ï¼Œå…¶å®é¢˜ç›®æ„æ€ææ‡‚äº†å°±å¾ˆç®€å•äº†ï¼Œå…¶å®å’Œä¸Šé¢è…çƒ‚çš„æ©˜å­æ˜¯ä¸€æ ·çš„ã€‚å¤šæºçš„BFSï¼Œæ›¼å“ˆé¡¿è·ç¦»å…¶å®å°±æ˜¯ä¸Šä¸‹å·¦å³èµ°çš„step</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] diretion=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxDistance</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxDis=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> m=grid.length,n=grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visit=<span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(i,j,<span class="number">0</span>));</span><br><span class="line">                visit[i][j]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(queue.size()==<span class="number">0</span> || queue.size()==m*n)<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> step=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        res=pair.step;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; grid[nx][ny]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> Pair(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">                visit[nx][ny]=<span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">int</span> step;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x=x;</span><br><span class="line">        <span class="keyword">this</span>.y=y;</span><br><span class="line">        <span class="keyword">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span>[][] grid,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="207-è¯¾ç¨‹è¡¨"><a href="#207-è¯¾ç¨‹è¡¨" class="headerlink" title="207. è¯¾ç¨‹è¡¨"></a><a href="https://leetcode-cn.com/problems/course-schedule/" target="_blank" rel="noopener">207. è¯¾ç¨‹è¡¨</a></h2><p>ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® <code>numCourse</code> é—¨è¯¾ç¨‹ï¼Œè®°ä¸º 0 åˆ° <code>numCourse-1</code> ã€‚</p>
<p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š<code>[0,1]</code></p>
<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">2</span>, [[<span class="number">1</span>,<span class="number">0</span>]] </span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br><span class="line">è§£é‡Š: æ€»å…±æœ‰ <span class="number">2</span> é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ <span class="number">1</span> ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ <span class="number">0</span>ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">2</span>, [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br><span class="line">è§£é‡Š: æ€»å…±æœ‰ <span class="number">2</span> é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ <span class="number">1</span> ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">0</span>ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ <span class="number">0</span> ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">1</span>ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± è¾¹ç¼˜åˆ—è¡¨ è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚</li>
<li>ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚</li>
<li><code>1 &lt;= numCourses &lt;= 10^5</code></li>
</ol>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å­¦ä¹ ä¸‹æ‹“æ‰‘æ’åºï¼Œå…¶å®æ ¸å¿ƒåœ¨äºé‚»æ¥è¡¨çš„æ„å»º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] indegree=<span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; adjacency=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        adjacency.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] p:prerequisites)&#123;</span><br><span class="line">        indegree[p[<span class="number">0</span>]]++; <span class="comment">//æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦å€¼</span></span><br><span class="line">        <span class="comment">//é‚»æ¥è¡¨,æ³¨æ„è¿™é‡Œåˆ«æåäº†,è¿™é‡Œè®°å½•çš„æ˜¯p[1]æ‰€æœ‰çš„å‡ºåº¦èŠ‚ç‚¹</span></span><br><span class="line">        adjacency.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯¾ç¨‹id</span></span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(indegree[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">int</span> cid=queue.poll();</span><br><span class="line">        numCourses--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> id:adjacency.get(cid)) &#123; <span class="comment">//cid --&gt; id</span></span><br><span class="line">            <span class="comment">//è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹å…¥åº¦--</span></span><br><span class="line">            indegree[id]--;</span><br><span class="line">            <span class="keyword">if</span>(indegree[id]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(id);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numCourses==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a><em>å•è°ƒæ ˆ</em></h2><h2 id="496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I"><a href="#496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I" class="headerlink" title="496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I"></a><a href="https://leetcode-cn.com/problems/next-greater-element-i/" target="_blank" rel="noopener">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</a></h2><p>ç»™å®šä¸¤ä¸ª<strong>æ²¡æœ‰é‡å¤å…ƒç´ </strong>çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œå…¶ä¸­nums1 æ˜¯ nums2 çš„å­é›†ã€‚æ‰¾åˆ° nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2 ä¸­çš„ä¸‹ä¸€ä¸ªæ¯”å…¶å¤§çš„å€¼ã€‚</p>
<p>nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¾“å‡º-1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums1 = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>], nums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>].</span><br><span class="line">è¾“å‡º: [-<span class="number">1</span>,<span class="number">3</span>,-<span class="number">1</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">    å¯¹äºnum1ä¸­çš„æ•°å­—<span class="number">4</span>ï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -<span class="number">1</span>ã€‚</span><br><span class="line">    å¯¹äºnum1ä¸­çš„æ•°å­—<span class="number">1</span>ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­—<span class="number">1</span>å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ <span class="number">3</span>ã€‚</span><br><span class="line">    å¯¹äºnum1ä¸­çš„æ•°å­—<span class="number">2</span>ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -<span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums1 = [<span class="number">2</span>,<span class="number">4</span>], nums2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].</span><br><span class="line">è¾“å‡º: [<span class="number">3</span>,-<span class="number">1</span>]</span><br><span class="line">è§£é‡Š:</span><br><span class="line">    å¯¹äºnum1ä¸­çš„æ•°å­—<span class="number">2</span>ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯<span class="number">3</span>ã€‚</span><br><span class="line">    å¯¹äºnum1ä¸­çš„æ•°å­—<span class="number">4</span>ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -<span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ol>
<li><code>nums1</code>å’Œ<code>nums2</code>ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚</li>
<li><code>nums1</code>å’Œ<code>nums2</code> çš„æ•°ç»„å¤§å°éƒ½ä¸è¶…è¿‡1000ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å•è°ƒæ ˆï¼Œå¾ˆå°±ä¹‹å‰åœ¨é“¾è¡¨ä¸“é¢˜ä¸­åšè¿‡ä¸€æ¬¡ <a href="http://imlgw.top/2019/02/27/leetcode-lian-biao/#1019-%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%9B%B4%E5%A4%A7%E8%8A%82%E7%82%B9">é“¾è¡¨çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹</a> ä½†æ˜¯æ²¡æƒ³èµ·æ¥ï¼Œå¯èƒ½å½“æ—¶ä¹Ÿæ²¡ç•™ä¸‹å½±å“</p>
<p>è¿™é¢˜å…¶å®è¿˜æ¯”åŸå§‹çš„é¢˜åŠ äº†ä¸€ç‚¹éš¾åº¦ï¼ŒåŸå§‹çš„é¢˜å°±æ˜¯ num1==nums2çš„æƒ…å†µï¼Œé‚£æ ·å°±ä¸éœ€è¦HashMapè®°å½•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">    HashMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums2.length;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums2[stack.peek()]&lt;nums2[i])&#123;</span><br><span class="line">            map.put(nums2[stack.pop()],nums2[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.add(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[nums1.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums1.length;i++) &#123;</span><br><span class="line">        res[i]=map.getOrDefault(nums1[i],-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II"><a href="#503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II" class="headerlink" title="503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II"></a><a href="https://leetcode-cn.com/problems/next-greater-element-ii/" target="_blank" rel="noopener">503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</a></h2><p>ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¾“å‡ºæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ª <span class="number">1</span> çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ <span class="number">2</span>ï¼›</span><br><span class="line">æ•°å­— <span class="number">2</span> æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› </span><br><span class="line">ç¬¬äºŒä¸ª <span class="number">1</span> çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong> è¾“å…¥æ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 10000ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] nextGreaterElements(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="keyword">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    Arrays.fill(res,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.length*<span class="number">2</span>;i++) &#123;</span><br><span class="line">        index=i&gt;=nums.length?i%nums.length:i;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty()&amp;&amp;nums[stack.peek()]&lt;nums[index]) &#123;</span><br><span class="line">            res[stack.pop()]=nums[index];</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œä¸Šé¢ä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦å¾ªç¯éå†ä¸€éï¼Œæˆ‘æœ€å¼€å§‹çš„åšæ³•ç›¸å½“æ†¨æ†¨ï¼Œcopyäº†ä¸€ä¸ªä¸¤å€çš„æ•°ç»„ã€‚ã€‚ã€‚è¿˜éœ€è¦æ³¨æ„çš„å°±æ˜¯ <code>-1</code>çš„å¤„ç†</p>
<h2 id="739-æ¯æ—¥æ¸©åº¦"><a href="#739-æ¯æ—¥æ¸©åº¦" class="headerlink" title="739. æ¯æ—¥æ¸©åº¦"></a><a href="https://leetcode-cn.com/problems/daily-temperatures/" target="_blank" rel="noopener">739. æ¯æ—¥æ¸©åº¦</a></h2><p>æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ï¼Œè¯·é‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼Œå¯¹åº”ä½ç½®çš„è¾“å…¥æ˜¯ä½ éœ€è¦å†ç­‰å¾…å¤šä¹…æ¸©åº¦æ‰ä¼šå‡é«˜è¶…è¿‡è¯¥æ—¥çš„å¤©æ•°ã€‚å¦‚æœä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨ temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼Œä½ çš„è¾“å‡ºåº”è¯¥æ˜¯ [1, 1, 4, 2, 1, 1, 0, 0]ã€‚</p>
<p>æç¤ºï¼šæ°”æ¸© åˆ—è¡¨é•¿åº¦çš„èŒƒå›´æ˜¯ [1, 30000]ã€‚æ¯ä¸ªæ°”æ¸©çš„å€¼çš„å‡ä¸ºåæ°åº¦ï¼Œéƒ½æ˜¯åœ¨ [30, 100] èŒƒå›´å†…çš„æ•´æ•°ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] dailyTemperatures(<span class="keyword">int</span>[] T) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[T.length];</span><br><span class="line">    <span class="keyword">if</span>(T==<span class="keyword">null</span> || T.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;T.length;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty()&amp;&amp;T[stack.peek()]&lt;T[i])&#123;</span><br><span class="line">            <span class="keyword">int</span> temp=stack.pop();</span><br><span class="line">            res[temp]=i-temp;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œä¸Šé¢ä¸¤é¢˜ä¸€æ ·ï¼Œå•è°ƒæ ˆçš„è§£æ³•ï¼Œä¸è¿‡è¿™é¢˜å¥½åƒå¯ä»¥ä¸ç”¨å•è°ƒæ ˆï¼Œå¯ä»¥ä»åå‘å‰é€’æ¨</p>
<h2 id="901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦"><a href="#901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦" class="headerlink" title="901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦"></a><a href="https://leetcode-cn.com/problems/online-stock-span/" target="_blank" rel="noopener">901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦</a></h2><p>ç¼–å†™ä¸€ä¸ª StockSpanner ç±»ï¼Œå®ƒæ”¶é›†æŸäº›è‚¡ç¥¨çš„æ¯æ—¥æŠ¥ä»·ï¼Œå¹¶è¿”å›è¯¥è‚¡ç¥¨å½“æ—¥ä»·æ ¼çš„è·¨åº¦ã€‚</p>
<p>ä»Šå¤©è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦è¢«å®šä¹‰ä¸ºè‚¡ç¥¨ä»·æ ¼å°äºæˆ–ç­‰äºä»Šå¤©ä»·æ ¼çš„æœ€å¤§è¿ç»­æ—¥æ•°ï¼ˆä»ä»Šå¤©å¼€å§‹å¾€å›æ•°ï¼ŒåŒ…æ‹¬ä»Šå¤©ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæœªæ¥7å¤©è‚¡ç¥¨çš„ä»·æ ¼æ˜¯ [100, 80, 60, 70, 60, 75, 85]ï¼Œé‚£ä¹ˆè‚¡ç¥¨è·¨åº¦å°†æ˜¯ [1, 1, 1, 2, 1, 4, 6]ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">"StockSpanner"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>,<span class="string">"next"</span>], [[],[<span class="number">100</span>],[<span class="number">80</span>],[<span class="number">60</span>],[<span class="number">70</span>],[<span class="number">60</span>],[<span class="number">75</span>],[<span class="number">85</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">6</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">é¦–å…ˆï¼Œåˆå§‹åŒ– S = StockSpanner()ï¼Œç„¶åï¼š</span><br><span class="line">S.next(<span class="number">100</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">1</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">80</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">1</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">60</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">1</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">70</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">2</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">60</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">1</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">75</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">4</span>ï¼Œ</span><br><span class="line">S.next(<span class="number">85</span>) è¢«è°ƒç”¨å¹¶è¿”å› <span class="number">6</span>ã€‚</span><br><span class="line"></span><br><span class="line">æ³¨æ„ (ä¾‹å¦‚) S.next(<span class="number">75</span>) è¿”å› <span class="number">4</span>ï¼Œå› ä¸ºæˆªè‡³ä»Šå¤©çš„æœ€å <span class="number">4</span> ä¸ªä»·æ ¼</span><br><span class="line">(åŒ…æ‹¬ä»Šå¤©çš„ä»·æ ¼ <span class="number">75</span>) å°äºæˆ–ç­‰äºä»Šå¤©çš„ä»·æ ¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>è°ƒç”¨ StockSpanner.next(int price) æ—¶ï¼Œå°†æœ‰ 1 &lt;= price &lt;= 10^5</li>
<li>æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æœ€å¤šå¯ä»¥è°ƒç”¨  10000 æ¬¡ StockSpanner.next</li>
<li>åœ¨æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œæœ€å¤šè°ƒç”¨ 150000 æ¬¡ StockSpanner.next</li>
<li>æ­¤é—®é¢˜çš„æ€»æ—¶é—´é™åˆ¶å‡å°‘äº† 50%</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æˆ‘èµ·äº†ï¼Œä¸€æªç§’äº†ï¼Œæœ‰ä»€ä¹ˆå¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StockSpanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;<span class="keyword">int</span>[]&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StockSpanner</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; price&gt;=stack.peek()[<span class="number">0</span>])&#123;</span><br><span class="line">            res+=stack.pop()[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;price,res&#125;);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><a href="#84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢" class="headerlink" title="84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"></a><a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a></h2><p>ç»™å®š <em>n</em> ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚</p>
<p>æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚</p>
<p><img src="https://i.loli.net/2019/12/12/a7pVfNcYuIKFgwA.png" alt="leetCode"></p>
<p>ä»¥ä¸Šæ˜¯æŸ±çŠ¶å›¾çš„ç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæŸ±å­çš„å®½åº¦ä¸º 1ï¼Œç»™å®šçš„é«˜åº¦ä¸º <code>[2,1,5,6,2,3]</code>ã€‚</p>
<p><img src="https://i.loli.net/2019/12/12/FAvMk3zWf4RheDi.png" alt="leetCode"></p>
<p>å›¾ä¸­é˜´å½±éƒ¨åˆ†ä¸ºæ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå…¶é¢ç§¯ä¸º <code>10</code> ä¸ªå•ä½ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡º: <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢å‡ é“é¢˜ä¸€æ ·ï¼Œå•è°ƒæ ˆçš„è§£æ³•ï¼Œè¿™é‡Œæ˜¯å•è°ƒé€’å¢æ ˆï¼Œ20msï¼Œ87%</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (heights==<span class="keyword">null</span> || heights.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> maxArea= Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;heights.length;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; heights[i]&lt;=heights[stack.peek()])&#123;</span><br><span class="line">            <span class="comment">//å½“å‰çš„æŸ±å­å°äºæ ˆé¡¶,è¯´æ˜å½“å‰æ ˆé¡¶æœ€å¤šå‘å³æ‰©å±•åˆ° i-1</span></span><br><span class="line">            <span class="keyword">int</span> cur=stack.pop();</span><br><span class="line">            <span class="comment">//ä¸ºç©ºè¯´æ˜å‘å·¦æ— æ³•æ‰©å±•,æ ‡ä¸º-1ä¸å½±å“ç»“æœï¼ˆå¯ä»¥æå‰å°†-1å‹æ ˆï¼‰</span></span><br><span class="line">            <span class="keyword">int</span> left=stack.isEmpty()?-<span class="number">1</span>:stack.peek();</span><br><span class="line">            <span class="comment">//è¿™é‡Œå…¶å®æ˜¯ (i-1)-(left+1)+1</span></span><br><span class="line">            maxArea=Math.max(maxArea,(i-left-<span class="number">1</span>)*heights[cur]);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¤„ç†æ ˆä¸­å‰©ä¸‹çš„å…ƒç´ ,å³è¾¹æ˜¯è¾¹ç•Œï¼Œå‰©ä½™æ ˆä¸­æ‰€æœ‰çš„å…ƒç´ å®é™…ä¸Šéƒ½å¯ä»¥æ‰©å±•åˆ° heights.length-1</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥ä¸ºäº†è®©æ‰€æœ‰çš„å…ƒç´ éƒ½èƒ½å‡ºæ ˆ,æˆ‘ä»¬å¯ä»¥å†æ•°ç»„çš„åé¢æƒ³è±¡æ·»åŠ ä¸€ä¸ª0(ä¹Ÿå¯ä»¥ç›´æ¥åœ¨åŸæ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ª0)</span></span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123; </span><br><span class="line">        <span class="keyword">int</span> cur=stack.pop();</span><br><span class="line">        <span class="keyword">int</span> left=stack.isEmpty()?-<span class="number">1</span>:stack.peek();</span><br><span class="line">        <span class="comment">//è¿™ä¸€æ­¥å¾ˆç§€,åœ¨æ•°ç»„åé¢å†æƒ³è±¡ä¸€ä¸ª0å‡ºæ¥</span></span><br><span class="line">        <span class="comment">//è®©æ ˆä¸­å…ƒç´ å‘å³æ‰©å¼ (heights.length-1)-(left+1)+1</span></span><br><span class="line">        maxArea=Math.max(maxArea,(heights.length-left-<span class="number">1</span>)*heights[cur]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯åˆ©ç”¨å•è°ƒæ ˆéå†æ¯ä¸€ä¸ªæŸ±å­ï¼Œ<strong>æ‰¾åˆ°æ¯ä¸€ä¸ªæŸ±å­å·¦è¾¹å’Œå³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ ï¼Œæ¯”å¦‚å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å½“å‰æŸ±å­å°çš„æ˜¯iï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶i+1è‚¯å®šæ˜¯å¤§äºç­‰äºå½“å‰æŸ±å­çš„ï¼Œå¹¶ä¸”i+1æ˜¯å·¦è¾¹è¿ç»­å¤§äºå½“å‰æŸ±å­çš„æœ€åä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å½“å‰æŸ±å­èƒ½æƒ³å·¦æ‰©å±•çš„è¾¹ç•Œä½ç½®ï¼Œå³è¾¹åŒç†ï¼Œæ—¢ç„¶æ˜¯è¦æ±‚å·¦å³æ¯”å½“å‰æŸ±å­å°çš„ç¬¬ä¸€ä¸ªï¼Œé‚£ä¹ˆå¾ˆæ˜æ˜¾å°±è¦ç”¨å•è°ƒé€’å¢æ ˆ</strong>ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥æ ¹æ®è¿™ä¸¤ä¸ªæ•°æ®è®¡ç®—å®Œå…¨åŒ…å«å½“å‰æŸ±å­çš„æœ€å¤§çš„çŸ©å½¢çš„é¢ç§¯ã€‚</p>
<p>ä¾‹å¦‚: <code>3 4 5 4 3 6</code> </p>
<p>é¦–å…ˆ<code>3 4 5</code>éƒ½é¡ºåˆ©çš„å­˜å…¥æ ˆä¸­ï¼Œæ­¤æ—¶æ ˆä¸­å…ƒç´ ä¸º<code>ã€0ï¼Œ1ï¼Œ2ã€‘</code> ï¼Œå½“æƒ³å­˜å…¥ä¸‹ä¸€ä¸ªå…ƒç´ <code>i=3,h[i]=4</code>çš„æ—¶å€™ï¼Œå‘ç°4æ¯”å½“å‰æ ˆé¡¶å°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è®¡ç®—<strong>å®Œå…¨åŒ…å«æ ˆä¸­æ¯ä¸ªæŸ±å­</strong>çš„æœ€å¤§çŸ©å½¢çš„é¢ç§¯</p>
<ol>
<li><p>ç”±äºå½“å‰<strong><code>i</code></strong> ä½ç½®çš„å…ƒç´ æ˜¯æ¯”æ ˆé¡¶å°ï¼Œé‚£ä¹ˆå°±è¯´æ˜ <strong><code>i-1</code></strong> ä½ç½®çš„å…ƒç´ ä¸€å®šæ¯”å½“å‰æ ˆé¡¶å…ƒç´ å¤§ï¼ä¹Ÿå°±æ˜¯å‘å³è¾¹æœ€å¤šæ‰©å±•åˆ°<strong><code>i-1</code></strong>ä½ç½®</p>
</li>
<li><p>ç”±äºå•è°ƒæ ˆçš„ç»“æ„ï¼Œå½“å‰æ ˆé¡¶çš„ä¸‹ä¸€ä¸ªæ ˆä¸­å…ƒç´ <strong><code>left</code></strong>ï¼Œå…¶å®å°±æ˜¯å½“å‰æ ˆé¡¶çš„å·¦è¾¹æœ€è¿‘çš„æ¯”å®ƒå°çš„å…ƒç´ ï¼Œæ‰€ä»¥<strong><code>left+1</code></strong>ä½ç½®çš„å…ƒç´ ä¸€å®šæ˜¯æ¯”å½“å‰æ ˆé¡¶å…ƒç´ å¤§(ä¹Ÿæœ‰å¯èƒ½ç›¸ç­‰)ï¼ï¼Œæ‰€ä»¥å‘å·¦è¾¹æœ€å¤šæ‰©å±•åˆ° <strong><code>left+1</code></strong> ä½ç½®</p>
</li>
<li><p>ä¸Šé¢å…¶å®è¿˜åˆ†ææ¼äº†ä¸€ç§æƒ…å†µï¼Œé‚£å°±æ˜¯æ ˆé¡¶å’Œ <strong><code>i</code></strong> ä½ç½®å…ƒç´ ç›¸ç­‰çš„æƒ…å†µï¼Œç¬¬ä¸€ç‚¹ä¸­æåˆ°çš„å…¶å®æ˜¯ <strong><code>i</code></strong> ä½ç½®å…ƒç´ å°äºæ ˆé¡¶çš„æƒ…å†µï¼Œå¦‚æœç›¸ç­‰ï¼Œé‚£ä¹ˆå‘å³èƒ½æ‰©å±•åˆ°çš„ä½ç½®è¿˜ä¼šæ˜¯<strong><code>i-1</code></strong>ä¹ˆï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œè‡³å°‘åº”è¯¥æ˜¯<strong><code>i</code></strong>ç”šè‡³æ›´å¤§ï¼Œé‚£æˆ‘ä»¬è¿™é‡Œè®¡ç®—çš„å³è¾¹ç•Œä¸å°±æ˜¯é”™è¯¯çš„ï¼Ÿé‚£æˆ‘ä»¬å°† <strong><code>=</code></strong> å»æ‰å¯ä»¥ä¹ˆï¼Ÿå»æ‰ä¹‹åå•è°ƒæ ˆå°±ä¸å†æ˜¯ä¸¥æ ¼å•è°ƒäº†ï¼Œè¿™æ ·çš„åˆ°çš„å³è¾¹ç•Œç¡®å®å‡†ç¡®äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„å·¦è¾¹ç•Œç”±äºæ ˆä¸­å­˜åœ¨ç›¸ç­‰çš„å…ƒç´ ï¼Œå°±å˜çš„ä¸å†å‡†ç¡®äº†ï¼</p>
</li>
<li><p>é‚£æˆ‘ä»¬å¦‚ä½•å¤„ç†è¿™ç§æƒ…å†µå‘¢ï¼Ÿå…¶å®æ ¹æœ¬å°±ä¸ç”¨å¤„ç†ï¼Œæ—¢ç„¶æ ˆé¡¶èƒ½<strong>å‘å³</strong>æ‰©å±•åˆ° <strong><code>i-1</code></strong> é‚£ä¹ˆåè¿‡æ¥ï¼Œ<strong><code>i-1</code></strong> ä¸€æ ·å¯ä»¥<strong>å‘å·¦</strong>æ‰©å±•åˆ°<strong>æ ˆé¡¶</strong> ä½ç½®ï¼Œè¿›è€Œè¿˜å¯ä»¥æ‰©å±•åˆ°<strong><code>left+1</code></strong>ä½ç½®ï¼Œè€Œå‘å·¦æ‰©å±•çš„<strong><code>left+1</code></strong>æ˜¯å‡†ç¡®çš„ï¼Œä¸ä¼šæœ‰è¯¯å·®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç­‰å¾… <strong><code>i-1</code></strong>ä½ç½®çš„å…ƒç´ å¼¹å‡ºï¼Œç„¶åå°±å¯ä»¥é‡æ–°è®¡ç®—å¾—åˆ°æœ€å¤§å€¼ï¼Œè¿™ä¸ªæœ€å¤§å€¼è‚¯å®šæ˜¯åŒ…å«ä¹‹å‰çš„å“ªä¸ªæœ€å¤§å½“ç„¶è¿™é‡Œå…¶å®é‚£ä¸ª <strong><code>heights[i]&lt;=heights[stack.peek()]</code></strong> ä¸­çš„ç­‰å·ä¹Ÿå¯ä»¥å»æ‰ï¼Œè¿™æ ·æ ˆå°±ä¸æ˜¯ä¸¥æ ¼å•è°ƒçš„äº†ï¼Œ<strong><code>left+1</code></strong>ä¹Ÿä¸å†å‡†ç¡®ï¼Œä½†æ˜¯æ­¤æ—¶ <strong><code>i-1</code></strong> å°±å‡†ç¡®äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç­‰å¾…<strong><code>left+1</code></strong> å¼¹æ ˆä¹‹åå†é‡æ–°è®¡ç®—ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ç›¸ç­‰çš„æƒ…å†µæ˜¯ä¸ç”¨åšé¢å¤–çš„å¤„ç†</p>
<p><img src="http://static.imlgw.top/blog/20200129/gJPOkfEPDxwg.png?imageslim" alt="mark"></p>
<p>å¯ä»¥çœ‹åˆ°æŒ‰ç…§ä»£ç ä¸­çš„é€»è¾‘åœ¨è®¡ç®—å®Œå…¨åŒ…å«å½“å‰ç»¿è‰²çš„æ ˆé¡¶å…ƒç´ çš„æœ€å¤§çŸ©å½¢çš„æ—¶å€™å…¶å®åªè®¡ç®—åˆ°ä¸€éƒ¨åˆ†ï¼Œå½“è®¡ç®—åˆ°åé¢çš„ç›¸ç­‰çš„æŸ±å­çš„æ—¶å€™ä¼šå®Œå…¨åŒ…å«ä¹‹å‰çš„æŸ±å­çš„å€¼ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰é—®é¢˜</p>
</li>
</ol>
<p>â€‹       </p>
<p>ç»è¿‡ä¸Šé¢çš„åˆ†æï¼Œä»£ç å°±å¥½å†™å¤šäº†ï¼Œä¸è¿‡è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªåœ°æ–¹å€¼å¾—æ³¨æ„ï¼Œå°±æ˜¯å¤„ç†æ ˆä¸­å‰©ä½™çš„å…ƒç´ ï¼Œå…¶å®æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åœ¨æ•°ç»„çš„æœ«å°¾åŠ ä¸€ä¸ª0ï¼Œè¿™æ ·ç¡®ä¿æ ˆä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½å¯ä»¥å‡ºæ ˆï¼Œä¸ç”¨é¢å¤–çš„å¤„ç†ï¼Œjavaä¸­æ²¡æ³•ç›´æ¥å‘æ•°ç»„ä¸­pushå…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æƒ³è±¡æœ«å°¾æœ‰ä¸€ä¸ª0ï¼Œé‚£ä¹ˆæ‰€æœ‰å…ƒç´ å‘å·¦èƒ½æ‰©å±•åˆ°çš„æœ€è¿œä½ç½®å°±æ˜¯ <code>heights.length-1</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åˆ†æ²»ï¼Œ480msï¼Œ27%</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ†æ²» 480ms</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (heights==<span class="keyword">null</span> || heights.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    largestRectangleArea(heights,<span class="number">0</span>,heights.length-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> maxArea;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> maxArea=Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left&gt;right) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> minIndex=left;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=left;i&lt;=right;i++) &#123;</span><br><span class="line">        minIndex=heights[i]&lt;heights[minIndex]?i:minIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    maxArea=Math.max(heights[minIndex]*(right-left+<span class="number">1</span>),maxArea);</span><br><span class="line">    largestRectangleArea(heights,left,minIndex-<span class="number">1</span>);</span><br><span class="line">    largestRectangleArea(heights,minIndex+<span class="number">1</span>,right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å°†æ•°ç»„åŒºé—´ä»¥<code>minIndex</code>ä¸ºåˆ†ç•Œçº¿ï¼Œåˆ†åˆ«æ±‚å·¦è¾¹å’Œå³è¾¹çš„æœ€å¤§é¢ç§¯ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(NlogN)</code></p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ä¼˜åŒ–çš„åˆ†æ²» 1msï¼Œ100%ï¼Œæ²¡æƒ³åˆ°æ¯”å•è°ƒæ ˆè¿˜å¿«ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (heights==<span class="keyword">null</span> || heights.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> largestRectangleArea(heights,<span class="number">0</span>,heights.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">largestRectangleArea</span><span class="params">(<span class="keyword">int</span>[] heights,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left&gt;right) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> minIndex=left;</span><br><span class="line">    <span class="keyword">boolean</span> up=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> down=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=left+<span class="number">1</span>;i&lt;=right;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (heights[i]&lt;heights[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            up=<span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (heights[i]&gt;heights[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            down=<span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        minIndex=heights[i]&lt;heights[minIndex]?i:minIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (up) &#123;</span><br><span class="line">        <span class="keyword">int</span> maxArea=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=left;i&lt;=right;i++) &#123;</span><br><span class="line">            maxArea=Math.max(maxArea,(right-i+<span class="number">1</span>)*heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxArea;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (down) &#123;</span><br><span class="line">        <span class="keyword">int</span> maxArea=-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=right;i&gt;=left;i--) &#123;</span><br><span class="line">            maxArea=Math.max(maxArea,(i-left+<span class="number">1</span>)*heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxArea;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(heights[minIndex]*(right-left+<span class="number">1</span>),Math.max(largestRectangleArea(heights,minIndex+<span class="number">1</span>,right),largestRectangleArea(heights,left,minIndex-<span class="number">1</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®ç›¸æ¯”äºä¸Šé¢çš„åˆ†æ²»ï¼Œå°±æ˜¯å¤šäº†ä¸€æ­¥åˆ¤æ–­å½“å‰åŒºé—´æ˜¯å¦æœ‰åºï¼Œå› ä¸ºæœ‰åºçš„è¯å°±å¯ä»¥ç›´æ¥éå†å¾—åˆ°åŒºé—´çš„æœ€å¤§çŸ©å½¢ï¼Œä¸ç”¨å†é€’å½’åšåˆ†æ²»ï¼Œæˆ‘è¿™é‡Œåšäº†ä¸¤ä¸ªæœ‰åºçš„åˆ¤æ–­ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰çš„å¤šä½™ï¼Œæˆ‘çœ‹çš„è¯„è®ºéƒ½åªæœ‰ä¸€ä¸ª</p>
<h2 id="85-æœ€å¤§çŸ©å½¢"><a href="#85-æœ€å¤§çŸ©å½¢" class="headerlink" title="85. æœ€å¤§çŸ©å½¢"></a><a href="https://leetcode-cn.com/problems/maximal-rectangle/" target="_blank" rel="noopener">85. æœ€å¤§çŸ©å½¢</a></h2><p>ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">[</span><br><span class="line">  [<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"0"</span>],</span><br><span class="line">  [<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>],</span><br><span class="line">  [<span class="string">"1"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>,<span class="string">"1"</span>],</span><br><span class="line">  [<span class="string">"1"</span>,<span class="string">"0"</span>,<span class="string">"0"</span>,<span class="string">"1"</span>,<span class="string">"0"</span>]</span><br><span class="line">]</span><br><span class="line">è¾“å‡º: <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç‰¹æ„åœ¨åšäº†ä¸Šé¢ä¸€é¢˜åæ²¡æœ‰é©¬ä¸Šåšè¿™ä¸€é¢˜ï¼Œä¸‹é¢çš„æ˜¯ç¬¬äºŒå¤©ä¸‹åˆåšçš„ï¼Œè¿˜è¡Œï¼Œæ²¡å¿˜è®°ğŸ˜‚ï¼Œå°±æ˜¯å†™çš„æœ‰ç‚¹éš¾çœ‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.4.12</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> M=matrix.length,N=matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span>[][] height=<span class="keyword">new</span> <span class="keyword">int</span>[M][N+<span class="number">1</span>]; <span class="comment">//æ¯ä¸€å±‚å¤šåŠ ä¸€ä¸ª0,æ–¹ä¾¿åé¢å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;M;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;N;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][j]==<span class="string">'1'</span>)&#123;</span><br><span class="line">                height[i][j]=i-<span class="number">1</span>&gt;=<span class="number">0</span>?height[i-<span class="number">1</span>][j]+<span class="number">1</span>:<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(maxRectangle(height[i]),res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxRectangle</span><span class="params">(<span class="keyword">int</span>[] height)</span></span>&#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;height.length;i++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; height[i]&lt;height[stack.peek()])&#123;</span><br><span class="line">            <span class="keyword">int</span> cur=stack.pop();</span><br><span class="line">            <span class="comment">//æ ˆä¸ºç©ºçš„æ—¶å€™è¯´æ˜å·¦è¾¹çš„å…¨éƒ¨æ˜¯æ¯”å½“å‰æ ˆé¡¶å¤§çš„å…ƒç´ ,å¯ä»¥ç›´æ¥æ‰©å±•åˆ°0,æ‰€ä»¥è¿™é‡Œåº”è¯¥æ˜¯-1</span></span><br><span class="line">            <span class="keyword">int</span> left=stack.isEmpty()?-<span class="number">1</span>:stack.peek();</span><br><span class="line">            <span class="comment">//left+1 ~ i-1 = i-1-left</span></span><br><span class="line">            max=Math.max((i-<span class="number">1</span>-left)*height[cur],max);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è®¡ç®—heightæœ‰ä¸€ç‚¹åŠ¨æ€è§„åˆ’çš„æ„æ€ï¼Œæˆ‘ä¸Šé¢ç›¸å½“äºå†™äº†ä¸ªäºŒç»´çš„åŠ¨æ€è§„åˆ’</p>
<blockquote>
<p>2020.4.12é‡å†™äº†ä¸€éï¼Œç„¶åæ›´æ–°äº†ä»£ç ï¼Œä¹‹å‰çš„ä»£ç ä¸å¤Ÿç®€æ´</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix==<span class="keyword">null</span> || matrix.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–heightæ•°ç»„,åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ (é»˜è®¤0)è®©æ‰€æœ‰å…ƒç´ å¯ä»¥å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">int</span>[] height=<span class="keyword">new</span> <span class="keyword">int</span>[matrix[<span class="number">0</span>].length+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//è®°å½•æ¯ä¸€å±‚çš„height</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;matrix[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            height[j]=matrix[i][j]==<span class="string">'1'</span>?height[j]+<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        max=Math.max(max,maxArea(height));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>maxArea</code>å¯ä»¥ç›´æ¥é‡‡ç”¨ä¸Šé¢84é¢˜çš„åˆ†æ²»</p>
<h2 id="581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"><a href="#581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„" class="headerlink" title="581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"></a><a href="https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/" target="_blank" rel="noopener">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œä½ éœ€è¦å¯»æ‰¾ä¸€ä¸ª<strong>è¿ç»­çš„å­æ•°ç»„</strong>ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</p>
<p>ä½ æ‰¾åˆ°çš„å­æ•°ç»„åº”æ˜¯<strong>æœ€çŸ­</strong>çš„ï¼Œè¯·è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">15</span>]</span><br><span class="line">è¾“å‡º: <span class="number">5</span></span><br><span class="line">è§£é‡Š: ä½ åªéœ€è¦å¯¹ [<span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">9</span>] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ :</strong></p>
<ol>
<li>è¾“å…¥çš„æ•°ç»„é•¿åº¦èŒƒå›´åœ¨ [1, 10,000]ã€‚</li>
<li>è¾“å…¥çš„æ•°ç»„å¯èƒ½åŒ…å«<strong>é‡å¤</strong>å…ƒç´  ï¼Œæ‰€ä»¥<strong>å‡åº</strong>çš„æ„æ€æ˜¯<strong>&lt;=ã€‚</strong></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p><del>å•è°ƒæ ˆçš„è§£æ³•æ˜å¤©å†å†™</del></p>
<p>é¸½äº†æŒºé•¿æ—¶é—´ï¼Œå•è°ƒæ ˆçš„è§£æ³•å¯ä»¥è¯´æ˜¯ç›¸å½“ä¼˜ç§€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findUnsortedSubarray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> left=Integer.MAX_VALUE,right=Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[stack.peek()]&gt;nums[i])&#123;</span><br><span class="line">            left=Math.min(stack.pop(),left); <span class="comment">//å·¦è¾¹ç•Œæ­£ç¡®ä½ç½®(æœ€å°å€¼)</span></span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    stack.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=nums.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums[stack.peek()]&lt;nums[i])&#123;</span><br><span class="line">            right=Math.max(stack.pop(),right); <span class="comment">//å³è¾¹ç•Œæ­£ç¡®ä½ç½®(æœ€å¤§å€¼)</span></span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left&gt;right?<span class="number">0</span>:right-left+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªå•è°ƒæ ˆä¸­å­˜çš„æ˜¯ä»å·¦åˆ°å³é€’å¢çš„åºåˆ—ï¼Œå½“é‡åˆ°<code>nums[i]</code>å°äºæ ˆé¡¶æ—¶ï¼Œè¯´æ˜è¿™ä¸ªä½ç½®æ˜¯é”™ä½çš„ï¼Œæ­£ç¡®çš„ä½ç½®åº”è¯¥æ˜¯<strong>æ ˆé¡¶çš„å…ƒç´ </strong>çš„ä½ç½®ï¼Œæˆ‘ä»¬è¿™é‡Œæ±‚çš„å°±æ˜¯ä¸€ä¸ª<strong>æœ€å°çš„é”™ä½çš„ç´¢å¼•</strong></p>
<p>ç¬¬äºŒä¸ªå•è°ƒæ ˆä¸­å­˜çš„æ˜¯ä»å³å‘å·¦é€’å‡çš„åºåˆ—ï¼Œå½“é‡åˆ°<code>nums[i]</code>å¤§äºæ ˆé¡¶æ—¶ï¼Œè¯´æ˜è¿™ä¸ªä½ç½®æ˜¯é”™ä½çš„ï¼Œæ­£ç¡®çš„ä½ç½®åº”è¯¥æ˜¯<strong>æ ˆé¡¶çš„å…ƒç´ </strong>ï¼Œè¿™é‡Œæ±‚çš„å°±æ˜¯ä¸€ä¸ª<strong>æœ€å¤§çš„é”™ä½çš„ç´¢å¼•</strong> ï¼Œä¸¤è€…ä¹‹é—´çš„è·ç¦»å…¶å®å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦æ±‚çš„æœ€çŸ­æ— åºå­æ•°ç»„é•¿åº¦</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ç”»ä¸€ä¸ªæŠ˜çº¿å›¾ï¼Œè§‚å¯Ÿç»“æœï¼Œä¸å®¹æ˜“ç›´æ¥æƒ³å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//O(1)ç©ºé—´çš„è§£æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findUnsortedSubarray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[<span class="number">0</span>]&gt;nums[nums.length-<span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> max=Integer.MIN_VALUE,min=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i]&lt;nums[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            min=Math.min(min,nums[i]); <span class="comment">//æ— åºåºåˆ—ä¸­çš„æœ€å°å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=nums.length-<span class="number">1</span>;i&gt;<span class="number">0</span>;i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i]&lt;nums[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            max=Math.max(max,nums[i-<span class="number">1</span>]); <span class="comment">//æ— åºåºåˆ—ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;nums.length)&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[left]&gt;min) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        left++; <span class="comment">//å·¦è¾¹ç•Œæ­£ç¡®ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(right&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[right]&lt;max) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        right--; <span class="comment">//å³è¾¹ç•Œæ­£ç¡®ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right&lt;left?<span class="number">0</span>:right-left+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="42-æ¥é›¨æ°´"><a href="#42-æ¥é›¨æ°´" class="headerlink" title="42. æ¥é›¨æ°´"></a><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener">42. æ¥é›¨æ°´</a></h2><p>ç»™å®š <em>n</em> ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚</p>
<p><img src="https://i.loli.net/2019/05/14/5cda71129045d93180.png" alt="rainwatertrap.png"></p>
<p>ä¸Šé¢æ˜¯ç”±æ•°ç»„ <code>[0,1,0,2,1,0,1,3,2,1,2,1]</code> è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸‰</strong></p>
<p>å•è°ƒæ ˆè§£æ³•ï¼ŒåŒæŒ‡é’ˆçš„è§£æ³•æ”¾åœ¨<a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/">æ•°ç»„ä¸“é¢˜</a>ä¸­ï¼Œå…¶å®æˆ‘æ„Ÿè§‰ç†Ÿæ‚‰å•è°ƒæ ˆçš„è¯ï¼Œå•è°ƒæ ˆçš„è§£æ³•ä¼šæ¯”å…¶ä»–æ–¹æ³•æ›´å¥½ç†è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">trap6</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (height == <span class="keyword">null</span> || height.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;(); <span class="comment">//æ ˆé‡Œé¢ç»´æŠ¤ä¸€ä¸ªé€’å‡åºåˆ—</span></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++)&#123;</span><br><span class="line">        <span class="keyword">while</span> ( ! stack.isEmpty() &amp;&amp; height[stack.peek()] &lt; height[i]) &#123; <span class="comment">//å½“éå†çš„å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ </span></span><br><span class="line">            <span class="keyword">int</span> tmp = stack.pop(); <span class="comment">//æ ˆé¡¶å¼¹å‡ºæ¥</span></span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) <span class="keyword">break</span>;</span><br><span class="line">            res += (Math.min(height[i],height[stack.peek()]) - height[tmp]) * (i - stack.peek() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç»´æŠ¤é€’å‡åºåˆ—</span></span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å•è°ƒé€’å‡æ ˆï¼Œæ ˆä¸­å­˜æŸ±å­çš„ç´¢å¼•ï¼Œå½“é‡åˆ°å¤§äºæ ˆé¡¶çš„å…ƒç´ çš„æ—¶å€™å°±å¼€å§‹å¼¹æ ˆï¼Œè®¡ç®—<strong>æ ˆé¡¶å…ƒç´ å’Œå·¦å³é¦–ä¸ªå¤§äºæ ˆé¡¶å…ƒç´ çš„æ‰€èƒ½æ„æˆçš„é‚£ä¸€å±‚çš„æ¥æ°´é‡</strong>ï¼Œå¯¹åº”ä¸‹é¢çš„å›¾ç†è§£å°±æ˜¯</p>
<p><strong><code>(Math.min(height[i],height[stack.peek()])-curTop) * (i-stack.peek()-1)</code></strong></p>
<p><img src="http://static.imlgw.top/blog/20200129/f0b4lo2Xk5Q3.png?imageslim" alt="mark"></p>
<p>ä¾æ¬¡è®¡ç®—â‘ â‘¡â‘¢ä½ç½®çš„é¢ç§¯ï¼Œè¿™æ ·çš„æ€è·¯æ„Ÿè§‰ä¼šæ›´åŠ çš„è‡ªç„¶</p>
<h2 id="é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><a href="#é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—" class="headerlink" title="é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"></a><a href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p>
<p>å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="number">5</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">2</span>   <span class="number">6</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>æ•°ç»„é•¿åº¦ &lt;= 1000</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å•è°ƒæ ˆçš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verifyPostorder</span><span class="params">(<span class="keyword">int</span>[] postorder)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(postorder==<span class="keyword">null</span> || postorder.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="comment">//1 2 | 4 5 | 3</span></span><br><span class="line">    <span class="keyword">int</span> curRoot=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=postorder.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(postorder[i]&gt;curRoot)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; postorder[i]&lt;postorder[stack.peek()])&#123;</span><br><span class="line">            curRoot=postorder[stack.pop()];</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€†åºéå†è¿™ä¸ªåºåˆ—ï¼Œå°±æ˜¯ <code>root -- root.right -- root.left</code> ï¼Œç”¨ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œå½“é‡åˆ°å‡å°çš„å€¼å°±è¯´æ˜è¿›å…¥äº†å·¦å­æ ‘ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¿™é¢—æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸åœå‡ºæ ˆï¼Œç›´åˆ°æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œç„¶åç»§ç»­å‘ååˆ¤æ–­å·¦å­æ ‘æ˜¯ä¸æ˜¯éƒ½å°äºè¿™ä¸ªæ ¹èŠ‚ç‚¹çš„</p>
<h2 id="é¢è¯•é¢˜59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼"><a href="#é¢è¯•é¢˜59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼" class="headerlink" title="é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼"></a><a href="https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</a></h2><p>è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° max_value å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°max_valueã€push_back å’Œ pop_front çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p>
<p>è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ<code>pop_front</code> å’Œ <code>max_value</code> éœ€è¦è¿”å› -1</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[<span class="string">"MaxQueue"</span>,<span class="string">"push_back"</span>,<span class="string">"push_back"</span>,<span class="string">"max_value"</span>,<span class="string">"pop_front"</span>,<span class="string">"max_value"</span>]</span><br><span class="line">[[],[<span class="number">1</span>],[<span class="number">2</span>],[],[],[]]</span><br><span class="line">è¾“å‡º: [<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[<span class="string">"MaxQueue"</span>,<span class="string">"pop_front"</span>,<span class="string">"max_value"</span>]</span><br><span class="line">[[],[],[]]</span><br><span class="line">è¾“å‡º: [<span class="keyword">null</span>,-<span class="number">1</span>,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= push_back,pop_front,max_valueçš„æ€»æ“ä½œæ•° &lt;= 10000</code></li>
<li><code>1 &lt;= value &lt;= 10^5</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MaxQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Deque&lt;Integer&gt; queue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">Deque&lt;Integer&gt; maxQueue=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">max_value</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> maxQueue.isEmpty()?-<span class="number">1</span>:maxQueue.getFirst();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    queue.addLast(value);</span><br><span class="line">    <span class="keyword">while</span>(!maxQueue.isEmpty() &amp;&amp; value&gt;maxQueue.getLast())&#123;</span><br><span class="line">        maxQueue.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line">    maxQueue.addLast(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop_front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(queue.isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> temp=queue.removeFirst();</span><br><span class="line">    <span class="keyword">if</span>(temp==maxQueue.getFirst())&#123;</span><br><span class="line">        maxQueue.removeFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€ç›´ä»¥ä¸ºæ˜¯å’Œæœ€å°æ ˆä¸€æ ·ï¼Œç»“æœWAäº†ä¸¤å‘æ‰æ„è¯†åˆ°æé”™äº†ã€‚ã€‚ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿›å‡ºæ–¹å‘æ˜¯ä¸ä¸€æ ·çš„</p>
<p>å…¶å®è¿™é¢˜å’Œä¹‹å‰çš„ä¸€é“ <a href="http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/#239-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a> ä¸€æ ·ï¼Œç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡çš„å•è°ƒæ ˆç„¶åç»´æŠ¤è¿™ä¸ªå•è°ƒæ ˆå°±è¡Œäº†</p>
<h2 id="5402-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"><a href="#5402-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" class="headerlink" title="5402. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"></a><a href="https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" target="_blank" rel="noopener">5402. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•° <code>limit</code>ï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº <code>limit</code> <em>ã€‚</em></p>
<p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>], limit = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰å­æ•°ç»„å¦‚ä¸‹ï¼š</span><br><span class="line">[<span class="number">8</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span>-<span class="number">8</span>| = <span class="number">0</span> &lt;= <span class="number">4</span>.</span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span>-<span class="number">2</span>| = <span class="number">6</span> &gt; <span class="number">4</span>. </span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span>-<span class="number">2</span>| = <span class="number">6</span> &gt; <span class="number">4</span>.</span><br><span class="line">[<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">8</span>-<span class="number">2</span>| = <span class="number">6</span> &gt; <span class="number">4</span>.</span><br><span class="line">[<span class="number">2</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span>-<span class="number">2</span>| = <span class="number">0</span> &lt;= <span class="number">4</span>.</span><br><span class="line">[<span class="number">2</span>,<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span>-<span class="number">4</span>| = <span class="number">2</span> &lt;= <span class="number">4</span>.</span><br><span class="line">[<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">2</span>-<span class="number">7</span>| = <span class="number">5</span> &gt; <span class="number">4</span>.</span><br><span class="line">[<span class="number">4</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">4</span>-<span class="number">4</span>| = <span class="number">0</span> &lt;= <span class="number">4</span>.</span><br><span class="line">[<span class="number">4</span>,<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">4</span>-<span class="number">7</span>| = <span class="number">3</span> &lt;= <span class="number">4</span>.</span><br><span class="line">[<span class="number">7</span>] æœ€å¤§ç»å¯¹å·® |<span class="number">7</span>-<span class="number">7</span>| = <span class="number">0</span> &lt;= <span class="number">4</span>. </span><br><span class="line">å› æ­¤ï¼Œæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ä¸º <span class="number">2</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">10</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>], limit = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span> </span><br><span class="line">è§£é‡Šï¼šæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„æ˜¯ [<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>]ï¼Œå…¶æœ€å¤§ç»å¯¹å·® |<span class="number">2</span>-<span class="number">7</span>| = <span class="number">5</span> &lt;= <span class="number">5</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>], limit = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10^5</code></li>
<li><code>1 &lt;= nums[i] &lt;= 10^9</code></li>
<li><code>0 &lt;= limit &lt;= 10^9</code></li>
</ul>
<p>187thå‘¨èµ›t3ï¼Œæ—¶éš”è¿™ä¹ˆä¹…åˆå›å¤´æ‰“ä¸€æ¬¡å‘¨èµ›ï¼Œå¯æƒœï¼Œåˆåªåšäº†ä¸¤é¢˜ï¼Œå‰ä¸¤é¢˜10åˆ†é’Ÿä¸åˆ°å°±å†™å®Œäº†ï¼Œå¿ƒæƒ³è¿™å›æ€ä¹ˆè¯´ä¹Ÿå¾—åšä¸ª3é¢˜ï¼Œç»“æœã€‚ã€‚ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestSubarray2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="keyword">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min=<span class="number">0</span>,max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; minpq=<span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">    minpq.add(nums[<span class="number">0</span>]);</span><br><span class="line">    PriorityQueue&lt;Integer&gt; maxpq=<span class="keyword">new</span> PriorityQueue&lt;&gt;((a,b)-&gt;b-a);</span><br><span class="line">    maxpq.add(nums[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">//7 2</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right &amp;&amp; right&lt;nums.length)&#123;</span><br><span class="line">        <span class="keyword">while</span> (right&lt; nums.length &amp;&amp; maxpq.peek()-minpq.peek()&lt;=limit) &#123;</span><br><span class="line">            res=Math.max(right-left+<span class="number">1</span>,res);</span><br><span class="line">            right++;</span><br><span class="line">            <span class="keyword">if</span> (right&lt;nums.length) &#123;</span><br><span class="line">                maxpq.add(nums[right]);</span><br><span class="line">                minpq.add(nums[right]);   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maxpq.remove(nums[left]);</span><br><span class="line">        minpq.remove(nums[left]);</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ˜¯å½“æ—¶æ¯”èµ›è°ƒäº†åŠå¤©æ²¡è°ƒå‡ºæ¥ï¼Œç»“æŸä¹‹åè°ƒå‡ºæ¥çš„ä»£ç ï¼Œç”¨ä¸¤ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤åŒºé—´æœ€å€¼ï¼Œç„¶åæ»‘çª—å°±è¡Œäº†ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯è°ƒæ»‘çª—çš„æ—¶å€™è°ƒäº†åŠå¤©ï¼Œä¹‹å‰å†™æ»‘çª—å°±æ˜¯ä¹±å†™çš„ï¼Œæ²¡ä»€ä¹ˆç« æ³•ï¼Œè¾¹WAè¾¹æ”¹ï¼Œçœ‹æ¥æœ€è¿‘å¾—å¥½å¥½æ€»ç»“ä¸‹æ»‘çª—çš„é¢˜äº†ï¼Œå¾—æä¸ªæ¿å­å‡ºæ¥</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æœ€ä¼˜è§£ï¼ŒO(N)å•è°ƒé˜Ÿåˆ—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestSubarray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="keyword">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> min=<span class="number">0</span>,max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//å•è°ƒé˜Ÿåˆ—è®°å½•åŒºé—´æœ€å€¼ç´¢å¼•</span></span><br><span class="line">    LinkedList&lt;Integer&gt; maxQue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    LinkedList&lt;Integer&gt; minQue=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;nums.length;right++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!maxQue.isEmpty() &amp;&amp; nums[maxQue.getLast()]&lt;nums[right])&#123;</span><br><span class="line">            maxQue.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        maxQue.addLast(right);</span><br><span class="line">        <span class="keyword">while</span>(!minQue.isEmpty() &amp;&amp; nums[minQue.getLast()]&gt;nums[right])&#123;</span><br><span class="line">            minQue.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        minQue.addLast(right);</span><br><span class="line">        max=maxQue.getFirst();</span><br><span class="line">        min=minQue.getFirst();</span><br><span class="line">        <span class="keyword">if</span>(nums[max]-nums[min]&lt;=limit) &#123;</span><br><span class="line">            res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//ä¸ç¬¦åˆè¦æ±‚ï¼Œå·¦è¾¹ç•Œå·¦ç§»ï¼Œå½“å·¦è¾¹ç•Œæ˜¯æœ€å€¼çš„æ—¶å€™queå¼¹å‡º</span></span><br><span class="line">            <span class="keyword">if</span> (left==max) maxQue.removeFirst();</span><br><span class="line">            <span class="keyword">if</span> (left==min) minQue.removeFirst();</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®å½“æ—¶æˆ‘ç¡®å®ä¹Ÿå°è¯•å»ç”¨ä¸¤ä¸ªå•è°ƒé˜Ÿåˆ—ç»´æŠ¤æœ€å€¼ï¼Œä½†æ˜¯ï¼ï¼ï¼è¿˜æ˜¯è¢«æ»‘çª—çš„è¾¹ç•Œç»™æå¾—ä¸çŸ¥é“è¿™ä¹ˆå†™äº†ï¼Œç„¶åå°±æ²¡åˆç„¶åäº†ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿæ˜¯æ¯”èµ›å®Œä¹‹åè‡ªå·±å†™å‡ºæ¥çš„ï¼Œè¯´åˆ°åº•è¿˜æ˜¯èœå•Šï¼ğŸ˜­</p>
<h2 id="962-æœ€å¤§å®½åº¦å¡"><a href="#962-æœ€å¤§å®½åº¦å¡" class="headerlink" title="962. æœ€å¤§å®½åº¦å¡"></a><a href="https://leetcode-cn.com/problems/maximum-width-ramp/" target="_blank" rel="noopener">962. æœ€å¤§å®½åº¦å¡</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>A</code>ï¼Œ<em>å¡</em>æ˜¯å…ƒç»„ <code>(i, j)</code>ï¼Œå…¶ä¸­  <code>i &lt; j</code> ä¸” <code>A[i] &lt;= A[j]</code>ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º <code>j - i</code>ã€‚</p>
<p>æ‰¾å‡º <code>A</code> ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">6</span>,<span class="number">0</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (<span class="number">1</span>, <span class="number">5</span>): A[<span class="number">1</span>] = <span class="number">0</span> ä¸” A[<span class="number">5</span>] = <span class="number">5</span>.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">9</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">7</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æœ€å¤§å®½åº¦çš„å¡ä¸º (i, j) = (<span class="number">2</span>, <span class="number">9</span>): A[<span class="number">2</span>] = <span class="number">1</span> ä¸” A[<span class="number">9</span>] = <span class="number">1</span>.</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>2 &lt;= A.length &lt;= 50000</code></li>
<li><code>0 &lt;= A[i] &lt;= 50000</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æƒ³ä¸åˆ°ï¼Œç€å®æƒ³ä¸åˆ°ï¼Œè¿™ä¸ªå•è°ƒæ ˆçš„ç”¨æ³•ç¡®å®æ²¡è§è¿‡ï¼Œä½†æ˜¯åªè¦è§è¿‡äº†çœ‹ä¸€ä¸‹å°±æ‡‚äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxWidthRamp</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;A.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.isEmpty() || A[stack.peek()]&gt;=A[i])&#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=A.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; A[stack.peek()]&lt;=A[i])&#123;</span><br><span class="line">            <span class="keyword">int</span> cur=stack.pop();</span><br><span class="line">            res=Math.max(res,i-cur);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæŠŠAæ•°ç»„ä¸­çš„ä»¥<code>A[0]</code>å¼€å¤´çš„é€’å‡åºåˆ—æŠ½å–å‡ºæ¥ï¼Œæˆ‘ä»¬æœ€åè¦æ±‚çš„æœ€å¤§çš„å®½åº¦å¡ä¸€å®šæ˜¯ä»¥è¿™ä¸ªåºåˆ—ä¸­çš„æŸä¸€ä¸ª<code>i</code>ä¸º<strong>å¡åº•</strong>çš„ï¼Œæˆ‘ä»¬åè¯ä¸€ä¸‹</p>
<p>å‡è®¾å­˜åœ¨æŸä¸ªå…ƒç´ ä½ç½®<code>k</code>ä¸å­˜åœ¨äºä¸Šé¢çš„é€’å‡åºåˆ—ä¸­ï¼Œä¸”æœ‰æœ€å¤§å®½åº¦<code>j-k</code>ï¼Œè¿™ä¹Ÿå°±è¯´æ˜<code>k</code>ä½ç½®çš„å…ƒç´ <strong>ä¸€å®šæ˜¯å°äºç­‰äºkå‰é¢æ‰€æœ‰çš„å…ƒç´ çš„</strong>ï¼Œå¦åˆ™å°±ä¼šæœ‰æ›´é•¿çš„å®½åº¦ï¼Œä½†æ˜¯æ—¢ç„¶<code>k</code>å°äºç­‰äºå‰é¢æ‰€æœ‰çš„å…ƒç´ ï¼Œé‚£ä¹ˆkå°±ä¸€å®šä¼šè¢«åŠ å…¥åˆ°åºåˆ—ä¸­ï¼Œä¸å‡è®¾çŸ›ç›¾ï¼Œæ‰€ä»¥ä¸å­˜åœ¨kï¼Œè§£ä¸€å®šå­˜åœ¨é€’å‡åºåˆ—ä¸­</p>
<p>è¿™æ ·çš„è¯æˆ‘ä»¬å¯ä»¥é€†å‘éå†æ•°ç»„ï¼Œæ¯æ¬¡é‡åˆ°å…ƒç´ å¤§äºæ ˆé¡¶çš„å°±å¯ä»¥è®¡ç®—å®½åº¦ï¼Œç„¶åå°†æ ˆé¡¶å¼¹å‡ºï¼Œå› ä¸ºæ˜¯é€†åºéå†çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå®½åº¦ä¸€å®šæ˜¯æ ˆé¡¶è¿™ä¸ª<strong>å¡åº•<code>i</code></strong>èƒ½å½¢æˆçš„æœ€å¤§å®½åº¦äº†ï¼Œ é€†åºéå†å†å¾€å‰çš„è¯å³ä½¿å¤§äºè¿™ä¸ªæ ˆé¡¶ï¼Œå½¢æˆçš„å®½åº¦ä¹Ÿåªä¼šå‡å°ï¼Œæ‰€ä»¥æˆ‘ä»¬éå†æ‰€æœ‰çš„å¡åº•æ±‚æœ€å¤§å€¼å°±è¡Œäº†ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(N)</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>äºŒåˆ†çš„æ€è·¯ï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œå…ˆæ„å»ºä¸€ä¸ªä»¥<code>A[0]</code>å¼€å¤´çš„é€’å‡åºåˆ—ï¼Œè¿™é‡Œé¢å°±æ˜¯æˆ‘ä»¬æ‰€æœ‰çš„å¡åº•ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥éå†æ‰€æœ‰çš„å…ƒç´ ï¼Œç„¶ååœ¨è¿™ä¸ªå•è°ƒåºåˆ—ä¸­å¯»æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äºå½“å‰å…ƒç´ çš„<code>index</code>ï¼Œè¿™ä¸¤ä¸ªæ„æˆçš„å®½åº¦å°±æ˜¯<strong>å½“å‰å…ƒç´ </strong>æ‰€èƒ½å½¢æˆçš„æœ€å¤§å®½åº¦ï¼Œæˆ‘ä»¬æ±‚å‡ºæ‰€æœ‰çš„æœ€å¤§å®½åº¦å–ä¸€ä¸ªæœ€å€¼å°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(NlogN)</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxWidthRamp</span><span class="params">(A []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> order [][]<span class="keyword">int</span></span><br><span class="line">    order = <span class="built_in">append</span>(order, []<span class="keyword">int</span>&#123;<span class="number">0</span>, A[<span class="number">0</span>]&#125;)</span><br><span class="line">    <span class="comment">//æ„å»ºé€’å‡åºåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(A); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> A[i] &lt; order[<span class="built_in">len</span>(order)<span class="number">-1</span>][<span class="number">1</span>] &#123;</span><br><span class="line">            order = <span class="built_in">append</span>(order, []<span class="keyword">int</span>&#123;i, A[i]&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j, target := <span class="keyword">range</span> A &#123;</span><br><span class="line">        i := binarySearch(order, target)</span><br><span class="line">        res = Max(res, j-i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾ç¬¬ä¸€ä¸ªå°äºç­‰äºtargetçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">binarySearch</span><span class="params">(num [][]<span class="keyword">int</span>, target <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    right := <span class="built_in">len</span>(num) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> num[mid][<span class="number">1</span>] &gt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span> <span class="comment">//æ³¨æ„æ˜¯é€’å‡åºåˆ—</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num[left][<span class="number">0</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨lcå†™çš„ <a href="https://leetcode-cn.com/problems/maximum-width-ramp/solution/java-dan-diao-zhan-er-fen-jie-fa-chang-shi-jie-shi/" target="_blank" rel="noopener">é¢˜è§£</a>æ¬¢è¿å‰æ¥çº é”™</p>
</blockquote>
<h2 id="1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ"><a href="#1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ" class="headerlink" title="1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ"></a><a href="https://leetcode-cn.com/problems/longest-well-performing-interval/" target="_blank" rel="noopener">1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ</a></h2><p>ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ <code>hours</code>ï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚</p>
<p>æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº <code>8</code> å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€Œ<strong>åŠ³ç´¯çš„ä¸€å¤©</strong>ã€ã€‚</p>
<p>æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ <strong>å¤§äº</strong>ã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚</p>
<p>è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šhours = [<span class="number">9</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæœ€é•¿çš„è¡¨ç°è‰¯å¥½æ—¶é—´æ®µæ˜¯ [<span class="number">9</span>,<span class="number">9</span>,<span class="number">6</span>]ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= hours.length &lt;= 10000</code></li>
<li><code>0 &lt;= hours[i] &lt;= 16</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æƒ­æ„§ï¼Œè¿™é¢˜è¿˜æ˜¯çœ‹çš„é¢˜è§£ï¼Œè¿™é¢˜è¿˜æ˜¯æŒºå·§å¦™çš„ï¼Œæˆ‘ä»¬æŠŠå¤§äº8å°æ—¶çš„æ—¶é—´æ®µçœ‹ä½œ<code>+1</code>ï¼Œå°äº8å°æ—¶çš„çœ‹ä½œ<code>-1</code>ï¼Œè¿™æ ·é—®é¢˜å°±è½¬æ¢æˆäº†æ±‚<strong>åŒºé—´å’Œå¤§äº0çš„æœ€é•¿é•¿åº¦</strong>ï¼Œè€ŒåŒºé—´å’Œæˆ‘ä»¬åˆå¯ä»¥è”æƒ³åˆ°ç”¨å‰ç¼€å’Œï¼Œè¿™æ ·æˆ‘ä»¬å°†é¢˜ç›®çš„ä¾‹å­è½¬æ¢ä¸€ä¸‹å°±å˜æˆäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">hours:    <span class="number">9</span> <span class="number">9</span>  <span class="number">6</span>  <span class="number">0</span>  <span class="number">6</span>  <span class="number">6</span>  <span class="number">9</span></span><br><span class="line">hours:  <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> -<span class="number">1</span> -<span class="number">1</span> -<span class="number">1</span> -<span class="number">1</span>  <span class="number">1</span></span><br><span class="line">  pre:  <span class="number">0</span> <span class="number">1</span> <span class="number">2</span>  <span class="number">1</span>  <span class="number">0</span> -<span class="number">1</span> -<span class="number">2</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>åªè¦<code>pre</code>ä¸­ä¸¤ç‚¹çš„å‰ç¼€<code>pre[j]-pre[i]&gt;0</code>å°±è¯´æ˜åŒºé—´<code>[i+1ï¼Œj]</code>æ˜¯æ»¡è¶³æ¡ä»¶çš„ï¼Œæˆ‘ä»¬è¦æ±‚çš„å°±æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€é•¿å®½åº¦ï¼Œè¿™æ ·ä¸€æ¥é—®é¢˜å…¶å®å°±è½¬æ¢æˆäº†å’Œä¸Šé¢<a href="#962-æœ€å¤§å®½åº¦å¡">962.æœ€å¤§å®½åº¦å¡</a>ä¸€æ ·äº†ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æ±‚è§£å°±okäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestWPI</span><span class="params">(<span class="keyword">int</span>[] hours)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] pre=<span class="keyword">new</span> <span class="keyword">int</span>[hours.length+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=hours.length;i++)&#123;</span><br><span class="line">        pre[i]=pre[i-<span class="number">1</span>]+(hours[i-<span class="number">1</span>]&gt;<span class="number">8</span>?<span class="number">1</span>:-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pre.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.isEmpty() || pre[i]&lt;pre[stack.peek()])&#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=pre.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; pre[i]-pre[stack.peek()]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res=Math.max(res,i-stack.pop()); <span class="comment">//ä¸ç”¨+1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#20-æœ‰æ•ˆçš„æ‹¬å·"><span class="toc-text">20. æœ‰æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#678-æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"><span class="toc-text">678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#394-å­—ç¬¦ä¸²è§£ç "><span class="toc-text">394. å­—ç¬¦ä¸²è§£ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#344-åè½¬å­—ç¬¦ä¸²"><span class="toc-text">344. åè½¬å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"><span class="toc-text">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#71-ç®€åŒ–è·¯å¾„"><span class="toc-text">71. ç®€åŒ–è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><span class="toc-text">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><span class="toc-text">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#155-æœ€å°æ ˆ"><span class="toc-text">155. æœ€å°æ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#779-ç¬¬Kä¸ªè¯­æ³•ç¬¦å·"><span class="toc-text">779. ç¬¬Kä¸ªè¯­æ³•ç¬¦å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50-Pow-x-n"><span class="toc-text">50. Pow(x, n)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5222-åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²"><span class="toc-text">5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1249-ç§»é™¤æ— æ•ˆçš„æ‹¬å·"><span class="toc-text">1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#856-æ‹¬å·çš„åˆ†æ•°"><span class="toc-text">856. æ‹¬å·çš„åˆ†æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#946-éªŒè¯æ ˆåºåˆ—"><span class="toc-text">946. éªŒè¯æ ˆåºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BFSå¹¿æœ"><span class="toc-text">BFSå¹¿æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#279-å®Œå…¨å¹³æ–¹æ•°"><span class="toc-text">279. å®Œå…¨å¹³æ–¹æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#127-å•è¯æ¥é¾™"><span class="toc-text">127. å•è¯æ¥é¾™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#542-01-çŸ©é˜µ"><span class="toc-text">542. 01 çŸ©é˜µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1306-è·³è·ƒæ¸¸æˆ-III"><span class="toc-text">1306. è·³è·ƒæ¸¸æˆ III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5314-è·³è·ƒæ¸¸æˆ-IV"><span class="toc-text">5314. è·³è·ƒæ¸¸æˆ IV</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#690-å‘˜å·¥çš„é‡è¦æ€§"><span class="toc-text">690. å‘˜å·¥çš„é‡è¦æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1311-è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘"><span class="toc-text">1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#399-é™¤æ³•æ±‚å€¼"><span class="toc-text">399. é™¤æ³•æ±‚å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·"><span class="toc-text">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#994-è…çƒ‚çš„æ©˜å­"><span class="toc-text">994. è…çƒ‚çš„æ©˜å­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1162-åœ°å›¾åˆ†æ"><span class="toc-text">1162. åœ°å›¾åˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#207-è¯¾ç¨‹è¡¨"><span class="toc-text">207. è¯¾ç¨‹è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å•è°ƒæ ˆ"><span class="toc-text">å•è°ƒæ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I"><span class="toc-text">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II"><span class="toc-text">503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#739-æ¯æ—¥æ¸©åº¦"><span class="toc-text">739. æ¯æ—¥æ¸©åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦"><span class="toc-text">901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢"><span class="toc-text">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#85-æœ€å¤§çŸ©å½¢"><span class="toc-text">85. æœ€å¤§çŸ©å½¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#581-æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„"><span class="toc-text">581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-æ¥é›¨æ°´"><span class="toc-text">42. æ¥é›¨æ°´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><span class="toc-text">é¢è¯•é¢˜33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼"><span class="toc-text">é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5402-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"><span class="toc-text">5402. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#962-æœ€å¤§å®½åº¦å¡"><span class="toc-text">962. æœ€å¤§å®½åº¦å¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ"><span class="toc-text">1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ</span></a></li></ol>
  </div>


  </div>
</div>


    <section id="comments" style="margin:10px;padding:10px;background:#fff;">
      <div id="vcomment" class="comment"></div> 
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
   var notify = 'false' == true ? true : false;
   var verify = 'true' == true ? true : false;
    window.onload = function() {
        new Valine({
            el: '.comment',
            notify: notify,
            verify: verify,
            app_id: "MkcXmeDvktRNBDBrVqb9KYPH-MdYXbMMI",
            app_key: "swDnb5a9u9Ksp2Rwkdm7Qulh",
            placeholder: "ç•™ä¸‹é‚®ç®±æ‰èƒ½æ”¶åˆ°æ”¶åˆ°å›å¤å–” ~",
            avatar:"monsterid"
        });
    }
</script>
    </section>
  
<div class="copyright">
    <span>æœ¬ä½œå“é‡‡ç”¨</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>
    <span>è¿›è¡Œè®¸å¯ã€‚ è½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ã€‚</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2019/09/24/abstractqueuedsynchronizer/" rel="next" title="AQSæºç è§£æï¼ˆä¸Šï¼‰">
          AQSæºç è§£æï¼ˆä¸Šï¼‰
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/10/10/leetcode-hui-su/" rel="prev" title="LeetCodeå›æº¯&amp;é€’å½’">
            LeetCodeå›æº¯&amp;é€’å½’
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  

    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/imlgw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="/links">å‹æƒ…é“¾æ¥</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://github.com/fooying/hexo-theme-xoxo-plus" target="_blank">Theme xoxo-plus</a> |
        <a class="bottom-item" href="https://imlgw.avosapps.us/" target="_blank" rel="noopener">åšå®¢è¯„è®ºç®¡ç†</a>
    </div>
</footer>

  

<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * ç»™logoè®¾ç½®ç‚¹å‡»äº‹ä»¶
     * 
     * - å›åˆ°é¡¶éƒ¨
     * - å‡ºç°çˆ±å¿ƒ
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



  

<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>
</html>
