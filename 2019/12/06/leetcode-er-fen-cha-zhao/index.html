
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="LeetCode,äºŒåˆ†," />
  

  
    <meta name="description" content="å¤§æ‚²æ— æ³ªï¼Œå¤§æ‚Ÿæ— è¨€ï¼Œå¤§ç¬‘æ— å£°ã€‚" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/img/cat.ico">
  
  <title>LeetCodeäºŒåˆ†æŸ¥æ‰¾ [ iMlGw0 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
    <span class="title" style="text-transform:none">iMlGw0</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">é¦–é¡µ</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="post" class="pure-menu-link">æ–‡ç« </a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">åˆ†ç±»</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">å½’æ¡£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">æ ‡ç­¾</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="LC" class="pure-menu-link">LC</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/" style="color:#202020;" class="pure-menu-link">æ•°ç»„</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/02/27/leetcode-lian-biao/" style="color:#202020;" class="pure-menu-link">é“¾è¡¨</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/01/leetcode-zhan-dui-lie/" style="color:#202020;" class="pure-menu-link">æ ˆ&amp;é˜Ÿåˆ—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/15/leetcode-cha-zhao/" style="color:#202020;" class="pure-menu-link">æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/" style="color:#202020;" class="pure-menu-link">æ»‘åŠ¨çª—å£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/" style="color:#202020;" class="pure-menu-link">åŠ¨æ€è§„åˆ’</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/12/06/leetcode-er-fen-cha-zhao/" style="color:#202020;" class="pure-menu-link">äºŒåˆ†æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/06/leetcode-er-cha-shu/" style="color:#202020;" class="pure-menu-link">äºŒå‰æ ‘</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/29/leetcode-bei-bao-wen-ti/" style="color:#202020;" class="pure-menu-link">èƒŒåŒ…é—®é¢˜</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/10/leetcode-hui-su/" style="color:#202020;" class="pure-menu-link">å›æº¯</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/01/21/leetcode-tan-xin/" style="color:#202020;" class="pure-menu-link">è´ªå¿ƒ</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/project" class="pure-menu-link">é¡¹ç›®</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/search" class="pure-menu-link">æœç´¢</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">å…³äº</a></li>
            
          
      
  </ul>
   
</nav>

  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        LeetCodeäºŒåˆ†æŸ¥æ‰¾
      </h1>
      <span>
        
        <time class="time" datetime="2019-12-05T16:00:00.000Z">
        2019-12-06
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">äºŒåˆ†</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> ç‚¹å‡»
    </span>
      <span class="slash">/</span>
      <span class="read">é˜…è¯»è€—æ—¶ 63 åˆ†é’Ÿ</span>
    </header>

    <div class="post-content">
      <blockquote>
<p> ä» <a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/">æ•°ç»„ä¸“é¢˜</a> ä¸­æŠ½å–å‡ºæ¥çš„ </p>
</blockquote>
<h2 id="äºŒåˆ†æœç´¢"><a href="#äºŒåˆ†æœç´¢" class="headerlink" title="äºŒåˆ†æœç´¢"></a><em>äºŒåˆ†æœç´¢</em></h2><h2 id="704-äºŒåˆ†æŸ¥æ‰¾"><a href="#704-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="704. äºŒåˆ†æŸ¥æ‰¾"></a><a href="https://leetcode-cn.com/problems/binary-search/" target="_blank" rel="noopener">704. äºŒåˆ†æŸ¥æ‰¾</a></h2><p>ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">12</span>], target = <span class="number">9</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br><span class="line">è§£é‡Š: <span class="number">9</span> å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º <span class="number">4</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">12</span>], target = <span class="number">2</span></span><br><span class="line">è¾“å‡º: -<span class="number">1</span></span><br><span class="line">è§£é‡Š: <span class="number">2</span> ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>ä½ å¯ä»¥å‡è®¾ nums ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„</li>
<li>n å°†åœ¨ [1, 10000]ä¹‹é—´</li>
<li>nums çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ [-9999, 9999]ä¹‹é—´</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ¯”è¾ƒç»å…¸çš„äºŒåˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; target)&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æŒ‰ç…§æ¿å­æ¥çš„äºŒåˆ†ï¼Œæœ€åéœ€è¦åå¤„ç†ä¸€ä¸‹ä¸å­˜åœ¨çš„æƒ…å†µ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ¨¡æ¿äºŒåˆ†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123; <span class="comment">//æ’é™¤mid</span></span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left!=nums.length&amp;&amp;nums[left]==target?left:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="69-x-çš„å¹³æ–¹æ ¹"><a href="#69-x-çš„å¹³æ–¹æ ¹" class="headerlink" title="69. x çš„å¹³æ–¹æ ¹"></a><a href="https://leetcode-cn.com/problems/sqrtx/" target="_blank" rel="noopener">69. x çš„å¹³æ–¹æ ¹</a></h2><p>å®ç° <code>int sqrt(int x)</code> å‡½æ•°ã€‚</p>
<p>è®¡ç®—å¹¶è¿”å› <em>x</em> çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ <em>x</em> æ˜¯éè´Ÿæ•´æ•°ã€‚</p>
<p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">4</span></span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">8</span></span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line">è¯´æ˜: <span class="number">8</span> çš„å¹³æ–¹æ ¹æ˜¯ <span class="number">2.82842</span>..., </span><br><span class="line">     ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>äºŒåˆ†è§£æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    lx := <span class="keyword">int64</span>(x)</span><br><span class="line">    <span class="keyword">var</span> left <span class="keyword">int64</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> right <span class="keyword">int64</span> = lx/<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> mid*mid &lt; lx &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">            <span class="comment">//å‘ä¸‹å–æ•´çš„ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–åˆ¤æ–­æˆ–è€…å–å³ä¸­ä½æ•°</span></span><br><span class="line">            <span class="keyword">if</span> left*left &gt; lx &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">int</span>(mid)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(left)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå¥½çš„è§£æ³•ï¼Œæ›´åŠ è´´åˆæ¨¡æ¿</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªå…¶å®æ›´èƒ½ä½“ç°æ¨¡æ¿çš„å¥½å¤„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    lx := <span class="keyword">int64</span>(x)</span><br><span class="line">    <span class="keyword">var</span> left <span class="keyword">int64</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> right <span class="keyword">int64</span> = lx/<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">        <span class="comment">//å¤§äºlxçš„ä¸€å®šä¸æ˜¯reså¯ä»¥æ’é™¤ï¼Œä½†æ˜¯å°äºçš„ä¸ä¸€å®šä¸æ˜¯ï¼Œé¢˜ç›®æ˜¯å‘ä¸‹å–æ•´çš„</span></span><br><span class="line">        <span class="keyword">if</span> mid*mid &gt; lx &#123; </span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(left)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<blockquote>
<p>ç‰›é¡¿è¿­ä»£æ³•ï¼Œè¿˜æ²¡æ—¶é—´ä»”ç»†å»ç ”ç©¶ï¼Œåé¢æœ‰æ—¶é—´å†çœ‹çœ‹</p>
</blockquote>
<h2 id="35-æœç´¢æ’å…¥ä½ç½®"><a href="#35-æœç´¢æ’å…¥ä½ç½®" class="headerlink" title="35. æœç´¢æ’å…¥ä½ç½®"></a><a href="https://leetcode-cn.com/problems/search-insert-position/" target="_blank" rel="noopener">35. æœç´¢æ’å…¥ä½ç½®</a></h2><p>ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>], <span class="number">5</span></span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>], <span class="number">2</span></span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>], <span class="number">7</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>], <span class="number">0</span></span><br><span class="line">è¾“å‡º: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è·Ÿè°å­¦ç¬”è¯•ç°åœºå†™çš„ï¼Œä¸Šé¢çš„éƒ½æ˜¯ddï¼ˆåˆ é™¤äº†ä¹‹å‰çš„è§£æ³•ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=nums.length;</span><br><span class="line">    <span class="keyword">int</span> lo=<span class="number">0</span>,hi=len; <span class="comment">//å’Œæ¨¡æ¿ä¸ä¸€æ ·ï¼Œå› ä¸ºè¿™é‡Œæ˜¯æœç´¢æ’å…¥ä½ç½®æ˜¯å¯ä»¥åˆ°è¾¾rightçš„</span></span><br><span class="line">    <span class="keyword">while</span>(lo&lt; hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            hi=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="153-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼"><a href="#153-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼" class="headerlink" title="153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼"></a><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank" rel="noopener">153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼</a></h2><p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p>
<p>( ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[0,1,2,4,5,6,7]</code> å¯èƒ½å˜ä¸º <code>[4,5,6,7,0,1,2]</code> )ã€‚</p>
<p>è¯·æ‰¾å‡ºå…¶ä¸­æœ€å°çš„å…ƒç´ ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŠŠæœ€å¼€å§‹å†™çš„æ‹‰è·¨è§£æ³•ä¹Ÿæ”¾ä¸Šæ¥å§</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="keyword">null</span>||nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums.length==<span class="number">1</span>||nums[<span class="number">0</span>]&lt;nums[nums.length-<span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid]&gt;nums[mid-<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid]&gt;nums[<span class="number">0</span>]) &#123;</span><br><span class="line">                left=mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                right=mid-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> nums[mid];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[left];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´å®è¯ï¼Œæˆ‘éƒ½ä¸çŸ¥é“å’‹å¯¹çš„ã€‚ã€‚ã€‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ¨¡æ¿è§£æ³•ï¼Œè¿˜æ˜¯æ¨¡æ¿å†™èµ·æ¥æ¸…æ™°èˆ’æœ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="keyword">null</span>||nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid]&gt;nums[right]) &#123; <span class="comment">//æ’é™¤midçš„åˆ†æ”¯</span></span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[left];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„è¦å’Œå³è¾¹ç•Œæ¯”è¾ƒï¼Œå’Œå·¦è¾¹ç•Œæ¯”è¾ƒä¸ä¸€å®šæ­£ç¡®</p>
<p>æ¯”å¦‚ <code>1 2 3 4 5</code> å’Œ<code>2 3 4 5 1</code> ä¸¤ä¸ªçš„ä¸­ç‚¹éƒ½å¤§äºå·¦è¾¹ç•Œï¼Œä½†æ˜¯ä½ æ— æ³•ç¡®å®šæ­¤æ—¶åº”è¯¥å¦‚æœç¼©çŸ­åŒºé—´ï¼Œé™¤éåšç‰¹åˆ¤ï¼Œä½†æ˜¯é‚£æ ·å°±éº»çƒ¦äº†</p>
<h2 id="154-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼-II"><a href="#154-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼-II" class="headerlink" title="154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II"></a><a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/" target="_blank" rel="noopener">154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II</a></h2><p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p>
<p>( ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[0,1,2,4,5,6,7]</code> å¯èƒ½å˜ä¸º <code>[4,5,6,7,0,1,2]</code> )ã€‚</p>
<p>è¯·æ‰¾å‡ºå…¶ä¸­æœ€å°çš„å…ƒç´ ã€‚</p>
<p>æ³¨æ„æ•°ç»„ä¸­å¯èƒ½å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: <span class="number">0</span></span><br></pre></td></tr></table></figure>


<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>è¿™é“é¢˜æ˜¯ å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ çš„å»¶ä¼¸é¢˜ç›®ã€‚</li>
<li>å…è®¸é‡å¤ä¼šå½±å“ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šå¦‚ä½•å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ  </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›¸æ¯”ä¸Šä¸€é¢˜æœ‰äº†é‡å¤çš„å…ƒç´ ï¼Œåœ¨è·³è½¬çš„æ—¶å€™éœ€è¦åˆ†æ¸…æ¥šæƒ…å†µï¼Œåœ¨midå’Œä¸­ç‚¹ç›¸ç­‰çš„æ—¶å€™åªæ’é™¤å³è¾¹ç•Œä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid] &gt; nums[right])&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; nums[right])&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right--; <span class="comment">//å’Œå³è¾¹ç•Œç›¸ç­‰,æ— æ³•åˆ¤æ–­,åªç¼©å‡ä¸€æ­¥</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[left];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="#33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„" class="headerlink" title="33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„"></a><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a></h2><p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p>
<p>( ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[0,1,2,4,5,6,7]</code> å¯èƒ½å˜ä¸º <code>[4,5,6,7,0,1,2]</code> )ã€‚</p>
<p>æœç´¢ä¸€ä¸ªç»™å®šçš„ç›®æ ‡å€¼ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› <code>-1</code> ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚</p>
<p>ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ <em>O</em>(log <em>n</em>) çº§åˆ«ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">0</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡º: -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>é¢˜ç›®æ˜ç¡®è¦æ±‚äº†æ—¶é—´å¤æ‚åº¦O(logn)ï¼Œæ‰€ä»¥è‚¯å®šè¿˜æ˜¯è¦äºŒåˆ†ï¼Œå…ˆä¸Šä»£ç å§</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((nums == <span class="keyword">null</span>) || (len &lt;= <span class="number">0</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> hi = len - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = lo + ((hi - lo) / <span class="number">2</span>);</span><br><span class="line">        <span class="comment">// å·¦, å³ æŒ‡çš„æ˜¯æ—‹è½¬ç‚¹å·¦å³</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt; target) &#123; <span class="comment">//é¦–å…ˆæ˜¯å¤§äºtargetçš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (target &lt; nums[lo]) &#123;</span><br><span class="line">                <span class="comment">//targetåœ¨å³è¾¹</span></span><br><span class="line">                <span class="comment">//midæœªçŸ¥è¿˜éœ€è¦åˆ¤æ–­ä¸‹ ç”»ä¸€ä¸ªæŠ˜çº¿å›¾å°±å¾ˆæ¸…æ¥šäº†</span></span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &lt;= nums[hi]) &#123; <span class="comment">//midä¹Ÿåœ¨å³è¾¹</span></span><br><span class="line">                    hi = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//midåœ¨å·¦è¾¹</span></span><br><span class="line">                    lo = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[lo]) &#123;</span><br><span class="line">                <span class="comment">//è¯´æ˜midåœ¨å·¦è¾¹, targetä¹Ÿåœ¨å·¦è¾¹</span></span><br><span class="line">                hi = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> lo;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123; <span class="comment">//å°äºtargetçš„æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (target &lt; nums[hi]) &#123;</span><br><span class="line">                <span class="comment">//midåœ¨å³è¾¹ï¼Œtargetåœ¨å³è¾¹</span></span><br><span class="line">                lo = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; nums[hi]) &#123;</span><br><span class="line">                <span class="comment">//targetåœ¨å·¦è¾¹</span></span><br><span class="line">                <span class="comment">//midæœªçŸ¥è¿˜éœ€è¦åˆ¤æ–­ä¸‹</span></span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[hi]) &#123; <span class="comment">//midåœ¨å·¦è¾¹</span></span><br><span class="line">                    lo = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    hi = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> hi;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*if(hi&gt;=0&amp;&amp;lo&lt;len&amp;&amp;nums[lo]&lt;nums[hi])&#123;</span></span><br><span class="line"><span class="comment">                   //åˆ‡æ¢æˆæœ‰åºçš„äºŒåˆ†</span></span><br><span class="line"><span class="comment">                   while(lo&lt;=hi)&#123;</span></span><br><span class="line"><span class="comment">                         mid=lo+(hi-lo)/2;</span></span><br><span class="line"><span class="comment">                         if(nums[mid]&gt;target)&#123;</span></span><br><span class="line"><span class="comment">                                    hi=mid-1;</span></span><br><span class="line"><span class="comment">                         &#125;else if(nums[mid]&lt;target)&#123;</span></span><br><span class="line"><span class="comment">                                    lo=mid+1;</span></span><br><span class="line"><span class="comment">                       &#125;else return mid;</span></span><br><span class="line"><span class="comment">                   &#125;</span></span><br><span class="line"><span class="comment">            &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1msï¼Œ99% çº¯ifåˆ¤æ–­<strong>target</strong>å’Œ<strong>mid</strong>çš„ä½ç½®ï¼Œç„¶åé€‰æ‹©ç§»åŠ¨<strong>lo</strong>è¿˜æ˜¯<strong>hi</strong>ï¼Œä¸€å¼€å§‹æˆ‘éšä¾¿æ‰¾äº†å‡ ç»„æ•°ç„¶åå°±å¼€å§‹å†™ï¼Œå†™åˆ°åé¢å‘ç°éƒ½æ˜¯bugğŸ˜‚ï¼Œè¿™é‡Œç”»ä¸ªå›¾å¾ˆæ–¹ä¾¿</p>
<p><img src="http://static.imlgw.top///20190507/vQgFb8yle0FH.png?imageslim" alt="mark"></p>
<p>åœ¨é‡Œé¢æ‰¾ç‚¹ä¼šå¾ˆæ¸…æ™°</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å½“ç„¶è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•ä¹Ÿä¸ç”¨è¿™ä¹ˆå¤æ‚çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lo=<span class="number">0</span>,hi=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="keyword">null</span>||nums.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>  -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> index=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&gt;=nums[lo])&#123;</span><br><span class="line">            <span class="comment">//å·¦åŠéƒ¨åˆ†æœ‰åº</span></span><br><span class="line">            index=binarySearch(nums,target,lo,mid);</span><br><span class="line">            <span class="comment">//å¯¹å³åŠéƒ¨åˆ†äºŒåˆ†</span></span><br><span class="line">            <span class="keyword">if</span>(index==-<span class="number">1</span>)&#123;</span><br><span class="line">                lo=mid+<span class="number">1</span>;</span><br><span class="line">                <span class="comment">//lo--&gt;mid æ²¡æ‰¾åˆ°å°±å¯¹å³åŠéƒ¨åˆ†ç»§ç»­åˆ’åˆ†</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">return</span> index;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;nums[lo])&#123;</span><br><span class="line">            <span class="comment">//å³åŠéƒ¨åˆ†æœ‰åº</span></span><br><span class="line">            index=binarySearch(nums,target,mid,hi);</span><br><span class="line">            <span class="keyword">if</span>(index==-<span class="number">1</span>)&#123;</span><br><span class="line">                hi=mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">return</span> index;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªåº”è¯¥æ¯”ä¸Šä¸€ä¸ªæ…¢ä¸€ç‚¹ï¼Œæœ€å¥½æƒ…å†µä¸‹æ˜¯_<strong>O(logN)</strong>_ç›´æ¥å°†<strong>target</strong>åˆ’åˆ†åˆ°æœ‰åºçš„é‚£ä¸€è¾¹ï¼Œå¦‚æœæ²¡åˆ’åˆ†åˆ°æœ‰åºçš„é‚£ä¸€è¾¹å°±ä¼šèŠ±è´¹æ—¶é—´å»äºŒåˆ†å°è¯•åˆ‡å‰²æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯<code>logN+log(N/2)+log(N/4)+...log(N/N)</code> æœ€åæ•´ä½“å¤æ‚åº¦åº”è¯¥æ˜¯<code>O(logN*logN)</code> ï¼Œè™½ç„¶æ¯” <code>logN</code> å¥½å¾ˆå¤šï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç®—æ³•</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ç›¸å½“å·§å¦™çš„è§£æ³•ï¼å‚è€ƒ <a href="https://leetcode.com/problems/search-in-rotated-sorted-array/discuss/14435/Clever-idea-making-it-simple" target="_blank" rel="noopener">lcus</a>ï¼Œé€šè¿‡åˆ¤æ–­ <code>target</code>å’Œ<code>mid</code>çš„ä½ç½®ï¼Œå¦‚æœ<code>target</code>å’Œ<code>mid</code>ä¸åœ¨åŒä¸€æ®µå°±å°† <code>ã€4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ0ï¼Œ1ï¼Œ2ã€‘</code>è½¬æ¢æˆ <code>ã€4ï¼Œ5ï¼Œ6ï¼Œ7ï¼ŒINT_MAXï¼ŒINT_MAXï¼ŒINT_MAXã€‘</code>æˆ–è€…<code>ã€INT_MINï¼ŒINT_MINï¼ŒINT_MINï¼ŒINT_MINï¼Œ0ï¼Œ1ï¼Œ2ã€‘</code> ç„¶åå†è¿›è¡ŒäºŒåˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums==<span class="keyword">null</span> || nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">            <span class="comment">//è¿™ä¸€æ­¥ (nums[mid]&gt;=nums[0])==(target&gt;=nums[0]) å¾ˆå·§ç§’ï¼Œå…¶å®ç”¨å¼‚æˆ–ä¹Ÿå¯ä»¥</span></span><br><span class="line">            <span class="keyword">int</span> midNum=(nums[mid]&gt;=nums[<span class="number">0</span>])==(target&gt;=nums[<span class="number">0</span>])?nums[mid]:</span><br><span class="line">                        nums[mid]&gt;=nums[<span class="number">0</span>]?Integer.MIN_VALUE:Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">if</span>(midNum&lt;target)&#123;</span><br><span class="line">                left=mid+<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                right=mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left]!=target?-<span class="number">1</span>:left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>(nums[mid]&gt;=nums[0])==(target&gt;=nums[0])</code> è¿™ä¸€æ­¥å¾ˆå·§å¦™ï¼Œæ»¡è¶³è¿™ä¸ªå…³ç³»å°±è¯´æ˜midå’Œtargetåœ¨åŒä¸€æ®µï¼Œä¸ç”¨å˜åŒ–ï¼Œå¯ä»¥ç›´æ¥æ±‚ï¼Œå¦åˆ™å°±æ ¹æ®midçš„ä½ç½®è€ƒè™‘å¦‚ä½•å˜åŒ–</p>
<h2 id="81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II"><a href="#81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II" class="headerlink" title="81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II"></a><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/" target="_blank" rel="noopener">81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II</a></h2><p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p>
<p>( ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[0,0,1,2,2,5,6]</code> å¯èƒ½å˜ä¸º <code>[2,5,6,0,0,1,2]</code> )ã€‚</p>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚è‹¥å­˜åœ¨è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">0</span></span><br><span class="line">è¾“å‡º: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿›é˜¶:</strong></p>
<ul>
<li>è¿™æ˜¯ <a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/description/" target="_blank" rel="noopener">æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a> çš„å»¶ä¼¸é¢˜ç›®ï¼Œæœ¬é¢˜ä¸­çš„ <code>nums</code>  å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚</li>
<li>è¿™ä¼šå½±å“åˆ°ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šæœ‰æ€æ ·çš„å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>WAå“­äº†ï¼Œå¥½éš¾æï¼Œè¦æ˜¯åœ¨å·¥ç¨‹ä¸Šæˆ‘è‚¯å®šç›´æ¥éå†äº†ï¼Œå¤ªç»†èŠ‚äº†è¿™æ³¢</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">search</span><span class="params">(nums []<span class="keyword">int</span>, target <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n:=<span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">0</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    left:=<span class="number">0</span></span><br><span class="line">    right:=n<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left&lt;right &#123;</span><br><span class="line">        mid:=left+(right-left)/<span class="number">2</span>+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid]&gt;nums[right] &#123; <span class="comment">//å·¦åŠè¾¹</span></span><br><span class="line">            <span class="comment">//targetåœ¨[left,mid)çš„æœ‰åºåŒºé—´å†…</span></span><br><span class="line">            <span class="keyword">if</span> nums[left]&lt;=target &amp;&amp; target&lt;nums[mid]&#123;</span><br><span class="line">                right=mid<span class="number">-1</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                left=mid</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> nums[mid]&lt;nums[right]&#123;</span><br><span class="line">            <span class="comment">//targetåœ¨[mid,right]</span></span><br><span class="line">            <span class="keyword">if</span> nums[mid]&lt;=target &amp;&amp; target&lt;=nums[right]&#123;</span><br><span class="line">                left=mid</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                right=mid<span class="number">-1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//mid==rightçœ‹rightæ˜¯ä¸æ˜¯target</span></span><br><span class="line">            <span class="keyword">if</span> nums[right]==target&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[left]==target</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹ç€åˆ«äººçš„é¢˜è§£å†™éƒ½WAäº†5ï¼Œ6æ¬¡ã€‚ã€‚ã€‚ã€‚è¿™ä¸ªå…¶å®å°±ä¸èƒ½æŒ‰ç…§ä¸Šä¸€é¢˜çš„æ€è·¯æ¥äº†ï¼Œå› ä¸ºæœ‰é‡å¤çš„ï¼Œä¸å¥½åˆ¤æ–­midå’Œtargetæ˜¯ä¸æ˜¯åœ¨åŒä¸€è¾¹</p>
<h2 id="744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯"><a href="#744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯" class="headerlink" title="744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯"></a><a href="https://leetcode-cn.com/problems/find-smallest-letter-greater-than-target/" target="_blank" rel="noopener">744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯</a></h2><p>ç»™ä½ ä¸€ä¸ªæ’åºåçš„å­—ç¬¦åˆ—è¡¨ <code>letters</code> ï¼Œåˆ—è¡¨ä¸­åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚å¦ç»™å‡ºä¸€ä¸ªç›®æ ‡å­—æ¯ <code>target</code>ï¼Œè¯·ä½ å¯»æ‰¾åœ¨è¿™ä¸€æœ‰åºåˆ—è¡¨é‡Œæ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯ã€‚</p>
<p>åœ¨æ¯”è¾ƒæ—¶ï¼Œå­—æ¯æ˜¯ä¾åºå¾ªç¯å‡ºç°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>å¦‚æœç›®æ ‡å­—æ¯ <code>target = &#39;z&#39;</code> å¹¶ä¸”å­—ç¬¦åˆ—è¡¨ä¸º <code>letters = [&#39;a&#39;, &#39;b&#39;]</code>ï¼Œåˆ™ç­”æ¡ˆè¿”å› <code>&#39;a&#39;</code></li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"a"</span></span><br><span class="line">è¾“å‡º: <span class="string">"c"</span></span><br><span class="line"></span><br><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"c"</span></span><br><span class="line">è¾“å‡º: <span class="string">"f"</span></span><br><span class="line"></span><br><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"d"</span></span><br><span class="line">è¾“å‡º: <span class="string">"f"</span></span><br><span class="line"></span><br><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"g"</span></span><br><span class="line">è¾“å‡º: <span class="string">"j"</span></span><br><span class="line"></span><br><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"j"</span></span><br><span class="line">è¾“å‡º: <span class="string">"c"</span></span><br><span class="line"></span><br><span class="line">è¾“å…¥:</span><br><span class="line">letters = [<span class="string">"c"</span>, <span class="string">"f"</span>, <span class="string">"j"</span>]</span><br><span class="line">target = <span class="string">"k"</span></span><br><span class="line">è¾“å‡º: <span class="string">"c"</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>letters</code>é•¿åº¦èŒƒå›´åœ¨<code>[2, 10000]</code>åŒºé—´å†…ã€‚</li>
<li><code>letters</code> ä»…ç”±å°å†™å­—æ¯ç»„æˆï¼Œæœ€å°‘åŒ…å«ä¸¤ä¸ªä¸åŒçš„å­—æ¯ã€‚</li>
<li>ç›®æ ‡å­—æ¯<code>target</code> æ˜¯ä¸€ä¸ªå°å†™å­—æ¯ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŒ‰ç…§æ–°æ¨¡æ¿å†™çš„ï¼Œé¢˜è§£åŒºå¾ˆå¤šäººè®¨è®º<code>[&#39;z&#39;ï¼Œ&#39;a&#39;ï¼Œ&#39;b&#39;]</code>è¿™æ ·çš„caseï¼Œå…¶å®æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼Œçº ç»“è¿™æ²¡å•¥æ„ä¹‰ï¼Œå¯èƒ½è¿˜æ˜¯é¢˜ç›®æè¿°æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬å°±ç›´æ¥å½“æ™®é€šäºŒåˆ†å†™å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">nextGreatestLetter</span><span class="params">(<span class="keyword">char</span>[] letters, <span class="keyword">char</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=letters.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>; <span class="comment">//æ³¨æ„æ‰¾ä¸åˆ°çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=(left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(letters[mid]&gt;target)&#123;</span><br><span class="line">            res=mid;</span><br><span class="line">            right=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> letters[res];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="#34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®" class="headerlink" title="34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"></a><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</a></h2><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p>
<p>ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ <em>O</em>(log <em>n</em>) çº§åˆ«ã€‚</p>
<p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å› <code>[-1, -1]</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">10</span>], target = <span class="number">8</span></span><br><span class="line">è¾“å‡º: [<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">10</span>], target = <span class="number">6</span></span><br><span class="line">è¾“å‡º: [-<span class="number">1</span>,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ—¶é—´å¤æ‚åº¦O(logN)ï¼Œè‚¯å®šè¿˜æ˜¯è¦äºŒåˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸¤æ¬¡äºŒåˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left(nums,target,<span class="number">0</span>,nums.length-<span class="number">1</span>),right(nums,target,<span class="number">0</span>,nums.length-<span class="number">1</span>)&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5,7,7,8,8,8,8,10,10</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//System.out.println("lo: "+nums[lo]+"mid: "+nums[mid] +"hi: "+nums[hi]);</span></span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mid&gt;<span class="number">0</span>)&#123; <span class="comment">//nums[mid]=target</span></span><br><span class="line">            <span class="keyword">if</span>(nums[mid-<span class="number">1</span>]!=target)&#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//æ§åˆ¶å‘å·¦æ‰¾</span></span><br><span class="line">                hi=mid-<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">//0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">right</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mid&lt;nums.length-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid+<span class="number">1</span>]!=target)&#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//æ§åˆ¶å‘å³æ‰¾</span></span><br><span class="line">                lo=mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">//nums.length</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1ms ï¼Œ99% æ ¸å¿ƒå°±æ˜¯ä¸¤æ¬¡äºŒåˆ†ï¼Œåˆ†åˆ«å‘å·¦å’Œå‘åäºŒåˆ†æ•´ä¸ªæ•°ç»„ï¼Œ åœ¨ç›¸ç­‰çš„æ—¶å€™å¹¶ä¸è¿”å›ï¼Œå¤šåˆ¤æ–­ä¸€ä¸‹ï¼Œå·¦è¾¹çš„å°±æ§åˆ¶hiå‘å·¦è¾¹ç»§ç»­æ‰¾ï¼Œå³è¾¹å°±æ§åˆ¶loå‘å³è¾¹ç»§ç»­æ‰¾ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªä¸ç­‰äºtargetå°±è¿”å›ï¼Œå’Œä¸Šé¢ä¸€é¢˜ä¸€æ ·éƒ½æ˜¯äºŒåˆ†çš„å˜ç§</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ç»Ÿä¸€çš„è§£æ³•ï¼Œä¸Šé¢çš„åšæ³•è™½ç„¶ç›´ç™½ï¼Œä½†æ˜¯æ²¡æœ‰é€šç”¨æ€§ï¼Œè¿™é‡Œå€Ÿé‰´è¯„è®ºåŒºå¤§ä½¬ <a href="https://www.liwei.party/" target="_blank" rel="noopener">liweiwei1419</a>çš„<a href="https://leetcode-cn.com/problems/search-insert-position/solution/te-bie-hao-yong-de-er-fen-cha-fa-fa-mo-ban-python-/" target="_blank" rel="noopener">è®²è§£</a>å†™ä¸€ä¸ªé€šç”¨çš„è§£æ³•ï¼Œä¹‹å‰å†™äºŒåˆ†ä¸€ç›´éƒ½æ˜¯å‡­æ„Ÿè§‰ï¼Œä¸æ³¨æ„ç»†èŠ‚ï¼Œæœ‰é”™è¯¯å°±debugï¼Œä¸œæ”¹ä¸€æ”¹ï¼Œè¥¿æ”¹ä¸€æ”¹ï¼Œç„¶åå°±è¿‡äº†ã€‚ã€‚ã€‚æ¯«æ— ç« æ³•ï¼Œä»¥åè¦ç»Ÿä¸€å†™æ³•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸¤æ¬¡äºŒåˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left(nums,target,<span class="number">0</span>,nums.length-<span class="number">1</span>),right(nums,target,<span class="number">0</span>,nums.length-<span class="number">1</span>)&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾å¤§äºç­‰äºtargetçš„ç¬¬ä¸€ä¸ªå…ƒç´ ,å°äºè‚¯å®šä¸ç¬¦åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123; <span class="comment">//æ’é™¤å°äºtargetçš„,å‰©ä¸‹ã€lo,hiã€‘éƒ½æ˜¯å¤§äºç­‰äºçš„</span></span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            hi=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[hi]==target?hi:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰¾å°äºç­‰äºtargetçš„æœ€åä¸€ä¸ªå…ƒç´ ,å¤§äºè‚¯å®šä¸ç¬¦åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">right</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;hi)&#123;</span><br><span class="line">        <span class="comment">//é€‰å–å³ä¸­å€¼</span></span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&gt;target)&#123; <span class="comment">//æ’é™¤å¤§äºtarget,å‰©ä¸‹[lo,hi]éƒ½æ˜¯å°äºç­‰äºçš„</span></span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//æ ¹æ®è¿™ä¸ªåˆ¤æ–­éœ€è¦é€‰å–å³ä¸­å€¼</span></span><br><span class="line">            lo=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[hi]==target?hi:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é¢è¯•é¢˜53-II-0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—"><a href="#é¢è¯•é¢˜53-II-0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—" class="headerlink" title="é¢è¯•é¢˜53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—"></a><a href="https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—</a></h2><p>ä¸€ä¸ªé•¿åº¦ä¸º <del>n-1</del> n çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´<del>0ï½n-1</del> 0<del>n ä¹‹å†…ã€‚åœ¨èŒƒå›´</del>0ï½n-1<del>~ 0</del>nå†…çš„<del>n</del> n+1 ä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡º: <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<p><code>1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10000</code></p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜çš„é¢˜ç›®æè¿°æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜æˆ‘ç¨å¾®æ”¹äº†ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]==mid)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nums[left]==left) <span class="keyword">return</span> left+<span class="number">1</span>; <span class="comment">//åªæœ‰ä¸€ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äºŒåˆ†æ‰¾é‚£ä¸ªç´¢å¼•ä¸å¯¹çš„å…ƒç´ å°±okäº†ï¼ŒæŒ‰ç…§æ¨¡æ¿å†™çš„ï¼Œæ’é™¤æ³•ï¼Œæ’é™¤ç›¸ç­‰çš„ï¼Œæœ€åè¿”å›çš„ç´¢å¼•<code>left</code>å°±æ˜¯ç¼ºå¤±çš„æ•°å­—</p>
<h2 id="287-å¯»æ‰¾é‡å¤æ•°"><a href="#287-å¯»æ‰¾é‡å¤æ•°" class="headerlink" title="287. å¯»æ‰¾é‡å¤æ•°"></a><a href="https://leetcode-cn.com/problems/find-the-duplicate-number/" target="_blank" rel="noopener">287. å¯»æ‰¾é‡å¤æ•°</a></h2><p>ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ <code>nums</code>ï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br></pre></td></tr></table></figure>


<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚</li>
<li>åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(1) çš„ç©ºé—´ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦å°äº O(n2) ã€‚</li>
<li>æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œé¢˜ç›®è¦æ±‚äº†æ•°ç»„numsæ˜¯åªè¯»çš„ï¼Œä¸”ä¸èƒ½ä½¿ç”¨é¢å¤–çš„ç©ºé—´ï¼Œä¸”æ—¶é—´å¤æ‚åº¦è¿˜è¦å°äºO(N^2)ï¼Œå¦åˆ™çš„è¯å…¶å®å¯ä»¥æ’åºï¼Œæˆ–è€…ä½¿ç”¨Hashè¡¨æ¥åšï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äºŒåˆ†æ¥åš</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=nums.length-<span class="number">1</span>; <span class="comment">//å·¦å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œå®é™…ä¸Šæ˜¯å¯¹ã€1,2,3,4,...n-1ã€‘è¿™ä¸ªåŒºé—´è¿›è¡ŒäºŒåˆ†</span></span><br><span class="line">    <span class="comment">//åœ¨è¿‡ç¨‹ä¸­å¯¹midæ£€æµ‹æ¯ä¸ªæ•°åœ¨numsæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="comment">//1 3 4 2 2å®é™…ä¸Šæ˜¯å¯¹ã€1,2,3,4ã€‘åŒºé—´è¿›è¡ŒäºŒåˆ†</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> temp=count(nums,mid);</span><br><span class="line">        <span class="comment">//æ’é™¤ä¸­ä½æ•°,å°äºmidçš„æ•°&lt;=mid,ä¸€å®šä¸æ˜¯,è¯´æ˜é‡å¤å…ƒç´ ä¸€å®šåœ¨å³è¾¹</span></span><br><span class="line">        <span class="keyword">if</span>(temp&lt;=mid)&#123; <span class="comment">//1 2 3 4</span></span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//n-1ä¸ªæ•´æ•° , 1~næœ‰nä¸ªæ•°     </span></span><br><span class="line"><span class="comment">//1 2 2 3 4     1~4ä¹‹é—´, 1 2 3 4</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i]&lt;=n) &#123;</span><br><span class="line">            res++;          </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„è§£æ³•è¿˜æ˜¯å¾ˆå·§å¦™çš„ï¼Œå¯¹numsæ•°ç»„çš„<strong>å–å€¼èŒƒå›´</strong>è¿›è¡ŒäºŒåˆ†ï¼ŒäºŒåˆ†çš„æ ¸å¿ƒå°±æ˜¯ï¼Œnumsæ•°ç»„ä¸­ï¼Œå°äºå–å€¼èŒƒå›´ä¸­midçš„å…ƒç´ åº”è¯¥å°äºç­‰äºmid</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š<code>[1 3 4 2 2]</code> å–å€¼èŒƒå›´æ˜¯<code>[1 2 3 4]</code> ï¼Œå–ä¸­ç‚¹2ï¼Œæ­£å¸¸æƒ…å†µä¸‹numsä¸­å°äºç­‰äº2çš„å…ƒç´ ï¼Œåº”è¯¥æœ€å¤šæœ‰2ä¸ªï¼Œä¹Ÿå°±æ˜¯<code>[1 2]</code>2ä¸ªï¼Œä½†æ˜¯è¿™é‡Œåœ¨numsä¸­ï¼Œæœ‰3ä¸ª<code>[1 2 2]</code> å¤§äº2äº†ï¼Œè¿™å°±è¯´æ˜ä¸€å®šæœ‰é‡å¤çš„å…ƒç´ ï¼Œè€Œä¸”ä¸€å®šæ˜¯å°äºä¸­ç‚¹2çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨å·¦åŠè¾¹ï¼Œä¸‹ä¸€æ­¥å°±åº”è¯¥èˆå¼ƒå³åŠè¾¹ï¼Œåœ¨<code>[1,2]</code>ä¸­ç»§ç»­æŸ¥æ‰¾ </p>
<p>è¿™é‡ŒæŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„æ¨¡æ¿æ¥å†™ï¼Œå…ˆæ‰¾æ’é™¤midçš„æ¡ä»¶ï¼Œ<strong>åœ¨numsä¸­å°äºmidçš„å…ƒç´ çš„æ•°é‡å°äºç­‰äºmidçš„æ—¶å€™ï¼ŒåŒ…æ‹¬midåœ¨å†…çš„å³è¾¹ç•Œéƒ½ä¼šè¢«æ’é™¤ï¼Œè‚¯å®šéƒ½ä¸æ˜¯é‡å¤çš„å…ƒç´ </strong> ï¼Œç„¶åå°±æŒ‰ç…§æ¨¡æ¿å†™å‡ºäºŒåˆ†å°±è¡Œäº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¿«æ…¢æŒ‡é’ˆçš„åšæ³•ï¼ŒæŠ€å·§æ€§å¾ˆå¼ºï¼Œä¸€èˆ¬äººç¬¬ä¸€æ¬¡åšæ˜¯å¾ˆéš¾æƒ³åˆ°è¿™ç§åšæ³•çš„ï¼Œå…¶å®å’Œ <a href="http://imlgw.top/2019/02/27/leetcode-lian-biao-tag/#141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8">é“¾è¡¨ä¸“é¢˜</a> ä¸­çš„ç¯å½¢é“¾è¡¨æ˜¯ä¸€æ ·çš„åšæ³•ï¼Œç„¶åæŒ‰ç…§é‚£ä¸ªæ€è·¯èµ°å°±è¡Œäº†ï¼Œä¸æ¸…æ¥šåŸç†å¯ä»¥çœ‹çœ‹ä¸Šé¢ç¯å½¢é“¾è¡¨çš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> slow=<span class="number">0</span>,fast=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span> isMeet=<span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">        fast=isMeet?nums[fast]:nums[nums[fast]];</span><br><span class="line">        slow=nums[slow];</span><br><span class="line">        <span class="keyword">if</span> (fast==slow) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isMeet) &#123;</span><br><span class="line">                <span class="keyword">return</span> slow;</span><br><span class="line">            &#125;</span><br><span class="line">            fast=<span class="number">0</span>;</span><br><span class="line">            isMeet=<span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è§£æ³•çš„å…³é”®æ˜¯å°†æ•°ç»„å€¼çœ‹ä½œç´¢å¼•ç„¶åå†æ•°ç»„åƒé“¾è¡¨ä¸€æ ·ç§»åŠ¨ï¼Œæ¯”å¦‚ <code>[1,2,3,4,5,6,7,8,9,5]</code>ç”¨å€¼ä½œä¸ºç´¢å¼•è¿æ¥èµ·æ¥å°±æ˜¯<code>1 2 3 4 [5 6 7 8 9] [5 6 7 8 9] ....</code> ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(N)</code> æŠ€å·§æ€§æ¯”è¾ƒå¼ºï¼Œå¦‚æœé¢è¯•ç®¡ä¸è¿½é—®çš„è¯å…¶å®ç­”å‡ºä¸Šé¢çš„äºŒåˆ†å°±okäº†</p>
<h2 id="852-å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•"><a href="#852-å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•" class="headerlink" title="852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•"></a><a href="https://leetcode-cn.com/problems/peak-index-in-a-mountain-array/" target="_blank" rel="noopener">852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•</a></h2><p>æˆ‘ä»¬æŠŠç¬¦åˆä¸‹åˆ—å±æ€§çš„æ•°ç»„ A ç§°ä½œå±±è„‰ï¼š</p>
<ul>
<li>A.length &gt;= 3</li>
<li>å­˜åœ¨ 0 &lt; i &lt; A.length - 1 ä½¿å¾—A[0] &lt; A[1] &lt; â€¦ A[i-1] &lt; A[i] &gt; A[i+1] &gt; â€¦ &gt; A[A.length - 1]</li>
</ul>
<p>ç»™å®šä¸€ä¸ªç¡®å®šä¸ºå±±è„‰çš„æ•°ç»„ï¼Œè¿”å›ä»»ä½•æ»¡è¶³ <code>A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]</code> çš„ i çš„å€¼ã€‚</p>
<p> <strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…¶å®è¿˜æ˜¯ä¸Šé¢çš„æ¨¡æ¿ï¼Œåªä¸è¿‡åšäº†ä¸€ç‚¹ç‚¹æ”¹åŠ¨è€Œå·²ï¼Œå¾ˆå‚»é€¼çš„WAäº†ä¸€å‘ï¼Œæˆ‘ä¹Ÿæ˜¯æœäº†è‡ªå·±äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">peakIndexInMountainArray</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=A.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="comment">//System.out.println(mid);</span></span><br><span class="line">        <span class="keyword">if</span> (mid&gt;<span class="number">0</span> &amp;&amp; mid&lt;A.length &amp;&amp; A[mid] &gt; A[mid-<span class="number">1</span>] &amp;&amp; A[mid]&lt;A[mid+<span class="number">1</span>]) &#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (mid&gt;<span class="number">0</span> &amp;&amp; mid&lt;A.length &amp;&amp; A[mid]&lt; A[mid-<span class="number">1</span>] &amp;&amp; A[mid]&gt;A[mid+<span class="number">1</span>])&#123;</span><br><span class="line">            right=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ä¼˜åŒ– <code>2020.4.9</code> ä¸çŸ¥é“ä¸ºå•¥ä¹‹å‰å†™æˆå“ªä¸ªé¬¼æ ·å­ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">peakIndexInMountainArray</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=A.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (A[mid]&lt;A[mid+<span class="number">1</span>]) &#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1095-å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼"><a href="#1095-å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼" class="headerlink" title="1095. å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼"></a><a href="https://leetcode-cn.com/problems/find-in-mountain-array/" target="_blank" rel="noopener">1095. å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼</a></h2><p>ï¼ˆè¿™æ˜¯ä¸€ä¸ª <strong>äº¤äº’å¼é—®é¢˜</strong> ï¼‰</p>
<p>ç»™ä½ ä¸€ä¸ª <strong>å±±è„‰æ•°ç»„</strong> <code>mountainArr</code>ï¼Œè¯·ä½ è¿”å›èƒ½å¤Ÿä½¿å¾— <code>mountainArr.get(index)</code> <strong>ç­‰äº</strong> <code>target</code> <strong>æœ€å°</strong> çš„ä¸‹æ ‡ <code>index</code> å€¼ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä¸‹æ ‡ <code>index</code>ï¼Œå°±è¯·è¿”å› <code>-1</code>ã€‚</p>
<p>ä½•ä¸ºå±±è„‰æ•°ç»„ï¼Ÿå¦‚æœæ•°ç»„ <code>A</code> æ˜¯ä¸€ä¸ªå±±è„‰æ•°ç»„çš„è¯ï¼Œé‚£å®ƒæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p>
<p><strong>é¦–å…ˆ</strong>ï¼Œ<code>A.length &gt;= 3</code></p>
<p><strong>å…¶æ¬¡</strong>ï¼Œåœ¨ <code>0 &lt; i &lt; A.length - 1</code> æ¡ä»¶ä¸‹ï¼Œå­˜åœ¨ <code>i</code> ä½¿å¾—ï¼š</p>
<ul>
<li><code>A[0] &lt; A[1] &lt; ... A[i-1] &lt; A[i]</code></li>
<li><code>A[i] &gt; A[i+1] &gt; ... &gt; A[A.length - 1]</code></li>
</ul>
<p>ä½ å°† <strong>ä¸èƒ½ç›´æ¥è®¿é—®è¯¥å±±è„‰æ•°ç»„</strong>ï¼Œå¿…é¡»é€šè¿‡ <code>MountainArray</code> æ¥å£æ¥è·å–æ•°æ®ï¼š</p>
<ul>
<li><code>MountainArray.get(k)</code> - ä¼šè¿”å›æ•°ç»„ä¸­ç´¢å¼•ä¸º<code>k</code> çš„å…ƒç´ ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰</li>
<li><code>MountainArray.length()</code> - ä¼šè¿”å›è¯¥æ•°ç»„çš„é•¿åº¦</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>å¯¹ <code>MountainArray.get</code> å‘èµ·è¶…è¿‡ <code>100</code> æ¬¡è°ƒç”¨çš„æäº¤å°†è¢«è§†ä¸ºé”™è¯¯ç­”æ¡ˆã€‚æ­¤å¤–ï¼Œä»»ä½•è¯•å›¾è§„é¿åˆ¤é¢˜ç³»ç»Ÿçš„è§£å†³æ–¹æ¡ˆéƒ½å°†ä¼šå¯¼è‡´æ¯”èµ›èµ„æ ¼è¢«å–æ¶ˆã€‚</p>
<p>ä¸ºäº†å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£äº¤äº’å¼é—®é¢˜ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸€ä¸ªæ ·ä¾‹ â€œ<strong>ç­”æ¡ˆ</strong>â€ï¼š<a href="https://leetcode-cn.com/playground/RKhe3ave" target="_blank" rel="noopener">https://leetcode-cn.com/playground/RKhe3ave</a>ï¼Œè¯·æ³¨æ„è¿™ <strong>ä¸æ˜¯ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ</strong>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">1</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š<span class="number">3</span> åœ¨æ•°ç»„ä¸­å‡ºç°äº†ä¸¤æ¬¡ï¼Œä¸‹æ ‡åˆ†åˆ«ä¸º <span class="number">2</span> å’Œ <span class="number">5</span>ï¼Œæˆ‘ä»¬è¿”å›æœ€å°çš„ä¸‹æ ‡ <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarray = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼š<span class="number">3</span> åœ¨æ•°ç»„ä¸­æ²¡æœ‰å‡ºç°ï¼Œè¿”å› -<span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= mountain_arr.length() &lt;= 10000</code></li>
<li><code>0 &lt;= target &lt;= 10^9</code></li>
<li><code>0 &lt;= mountain_arr.get(index) &lt;= 10^9</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜ï¼Œï¼Œï¼Œå’‹è¯´å‘¢ï¼Œæ•°æ®å¤ªå¼±äº†ï¼Œé…ä¸ä¸Šhardé¢˜ï¼Œé¡¶å¤šç®—ä¸ªmidåç®€å•ï¼Œæ•°æ®å¤§çš„æ—¶å€™å¯ä»¥è€ƒè™‘åŠ ä¸Šç¼“å­˜ï¼Œè¿™æ ·å°±æ¯”è¾ƒæœ‰æ„æ€äº†ï¼Œè¿™é‡Œæˆ‘å°±æ‡’å¾—åŠ äº†ğŸ˜</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findInMountainArray</span><span class="params">(target <span class="keyword">int</span>, mountainArr *MountainArray)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := mountainArr.length()</span><br><span class="line">    <span class="comment">//å¯»æ‰¾å±±é¡¶</span></span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    right := n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="comment">//mid+1è‚¯å®šä¸ä¼šè¶Šç•Œ</span></span><br><span class="line">        <span class="keyword">if</span> mountainArr.get(mid) &lt; mountainArr.get(mid+<span class="number">1</span>) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res := <span class="number">-1</span></span><br><span class="line">    res = binarySearchUp(mountainArr, target, <span class="number">0</span>, left)</span><br><span class="line">    <span class="keyword">if</span> res == <span class="number">-1</span> &#123;</span><br><span class="line">        res = binarySearchDown(mountainArr, target, left, n<span class="number">-1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">binarySearchUp</span><span class="params">(mountainArr *MountainArray, target, left, right <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> mountainArr.get(mid) &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> mountainArr.get(left) == target &#123;</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">binarySearchDown</span><span class="params">(mountainArr *MountainArray, target, left, right <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> mountainArr.get(mid) &gt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> mountainArr.get(left) == target &#123;</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªäºŒåˆ†æ˜¯å¯ä»¥åˆå¹¶çš„ï¼Œæ‡’å¾—åˆäº†ï¼ˆå¤ªæ‡’äº†å§ä½ ä¹ŸğŸ˜…ï¼‰</p>
<h2 id="162-å¯»æ‰¾å³°å€¼"><a href="#162-å¯»æ‰¾å³°å€¼" class="headerlink" title="162. å¯»æ‰¾å³°å€¼"></a><a href="https://leetcode-cn.com/problems/find-peak-element/" target="_blank" rel="noopener">162. å¯»æ‰¾å³°å€¼</a></h2><p>å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚</p>
<p>ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ <code>nums</code>ï¼Œå…¶ä¸­ <code>nums[i] â‰  nums[i+1]</code>ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚</p>
<p>æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›ä»»ä½•ä¸€ä¸ªå³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾ <code>nums[-1] = nums[n] = -âˆ</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line">è§£é‡Š: <span class="number">3</span> æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡º: <span class="number">1</span> æˆ– <span class="number">5</span> </span><br><span class="line">è§£é‡Š: ä½ çš„å‡½æ•°å¯ä»¥è¿”å›ç´¢å¼• <span class="number">1</span>ï¼Œå…¶å³°å€¼å…ƒç´ ä¸º <span class="number">2</span>ï¼›</span><br><span class="line">     æˆ–è€…è¿”å›ç´¢å¼• <span class="number">5</span>ï¼Œ å…¶å³°å€¼å…ƒç´ ä¸º <span class="number">6</span>ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>è¯´æ˜:</strong></p>
<p>ä½ çš„è§£æ³•åº”è¯¥æ˜¯ <code>O(logN)</code> æ—¶é—´å¤æ‚åº¦çš„ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é¢˜ç›®æŒ‘æ˜äº†logNçš„å¤æ‚åº¦ï¼Œé‚£ä¹ˆè‚¯å®šå°±æ˜¯äºŒåˆ†äº†ï¼Œé‚£æ˜¯æ€ä¹ˆä¸ªäºŒåˆ†çš„æ€è·¯å‘¢ï¼Ÿé¢˜ç›®å…¶å®ä¹Ÿè¯´äº†å¾ˆæ¸…æ¥šäº†ï¼Œè¾¹ç•Œçš„å·¦å³ä¸¤è¾¹éƒ½æ˜¯<code>-âˆ</code> æ‰€ä»¥æˆ‘ä»¬ç›´æ¥æŒ‰ç…§é€’å¢çš„å»æœï¼Œæœ€åè‚¯å®šèƒ½æœç´¢åˆ°å³°å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="comment">/*mid+1&lt;nums.length &amp;&amp;*/</span>nums[mid]&lt;nums[mid+<span class="number">1</span>])&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>liweiweiå¤§ä½¬çš„äºŒåˆ†æ¨¡æ¿çœŸå¥½ç”¨ï¼ï¼ï¼</p>
<h2 id="74-æœç´¢äºŒç»´çŸ©é˜µ"><a href="#74-æœç´¢äºŒç»´çŸ©é˜µ" class="headerlink" title="74. æœç´¢äºŒç»´çŸ©é˜µ"></a><a href="https://leetcode-cn.com/problems/search-a-2d-matrix/" target="_blank" rel="noopener">74. æœç´¢äºŒç»´çŸ©é˜µ</a></h2><p>ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥åˆ¤æ–­ <code>m x n</code> çŸ©é˜µä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç›®æ ‡å€¼ã€‚è¯¥çŸ©é˜µå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<p>æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰å‡åºæ’åˆ—ã€‚<br>æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚<br><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">matrix = [</span><br><span class="line">  [<span class="number">1</span>,   <span class="number">3</span>,  <span class="number">5</span>,  <span class="number">7</span>],</span><br><span class="line">  [<span class="number">10</span>, <span class="number">11</span>, <span class="number">16</span>, <span class="number">20</span>],</span><br><span class="line">  [<span class="number">23</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">50</span>]</span><br><span class="line">]</span><br><span class="line">target = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">matrix = [</span><br><span class="line">  [<span class="number">1</span>,   <span class="number">3</span>,  <span class="number">5</span>,  <span class="number">7</span>],</span><br><span class="line">  [<span class="number">10</span>, <span class="number">11</span>, <span class="number">16</span>, <span class="number">20</span>],</span><br><span class="line">  [<span class="number">23</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">50</span>]</span><br><span class="line">]</span><br><span class="line">target = <span class="number">13</span></span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length&lt;=<span class="number">0</span> || matrix[<span class="number">0</span>].length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m=matrix.length;</span><br><span class="line">    <span class="keyword">int</span> n=matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> low=<span class="number">0</span>,high=m-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (target&gt;matrix[m-<span class="number">1</span>][n-<span class="number">1</span>] || target &lt; matrix[<span class="number">0</span>][<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(low&lt;=high)&#123; <span class="comment">//äºŒåˆ†ç¡®å®šåœ¨å“ªä¸€è¡Œ</span></span><br><span class="line">        <span class="keyword">int</span> mid=low+(high-low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target == matrix[mid][<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(matrix[mid][<span class="number">0</span>]&lt;target)&#123;</span><br><span class="line">            low=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            high=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> column=low!=<span class="number">0</span>?low-<span class="number">1</span>:low;</span><br><span class="line">    low=<span class="number">0</span>;</span><br><span class="line">    high=n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(low&lt;high)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=low+(high-low)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (matrix[column][mid]==target) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(matrix[column][mid] &lt; target)&#123;</span><br><span class="line">            low=mid+<span class="number">1</span>; </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            high=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target==matrix[column][low];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ğŸ˜”ï¼Œè¿™é¢˜waäº†11æ¬¡ï¼Œæ˜¯çš„ï¼Œ11æ¬¡ï¼Œå¯æƒ³è€ŒçŸ¥æˆ‘æœ‰å¤šå½©ï¼Œæœ€åå†™å‡ºæ¥çš„è§£æ³•è¿˜æ˜¯å¦‚æ­¤çš„éš¾çœ‹ï¼Œä¸»è¦å°±æ˜¯åœ¨ç¡®å®šåœ¨å“ªä¸€è¡Œçš„æ—¶å€™å†™å‡ºäº†å¥½å¤šé—®é¢˜ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä¸Šä¸‹çš„ä¸¤ç§äºŒåˆ†æ–¹æ³•æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‰æœŸå°±æªç€ä¸€ç§å†™ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ¿å­å†™ï¼Œç»“æœå†™å‡ºäº†ä¸€å †bugâ€¦ ä»¥åå†™äºŒåˆ†è¿˜æ˜¯è¦æ³¨æ„å•Šï¼Œ1sç¡®å®šæ€è·¯ï¼Œä»£ç å†™äº†3hã€‚ã€‚ã€‚ã€‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>çœ‹äº†è¯„è®ºåŒºå†™å‡ºæ¥çš„ï¼Œåˆ©ç”¨å–æ¨¡å’Œé™¤å°†äºŒç»´æ•°ç»„æ‹‰æˆä¸€ç»´çš„ï¼Œç›¸å½“çš„ä¼˜ç§€ï¼Œä¹Ÿä¸ç”¨è€ƒè™‘é‚£äº›è¾¹ç•Œï¼Œæ—¶é—´å¤æ‚åº¦å’Œä¸Šé¢ä¸€æ ·<code>log(nm)</code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="keyword">null</span> || matrix.length&lt;=<span class="number">0</span> || matrix[<span class="number">0</span>].length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m=matrix.length;</span><br><span class="line">    <span class="keyword">int</span> n=matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=m*n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(matrix[mid/n][mid%n]&lt;target)&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix[left/n][left%n]==target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#4-å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°"></a><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="noopener">4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°</a></h2><p>ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æœ‰åºæ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code>ã€‚</p>
<p>è¯·ä½ æ‰¾å‡ºè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(log(m + n))</code>ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾ <code>nums1</code> å’Œ <code>nums2</code> ä¸ä¼šåŒæ—¶ä¸ºç©ºã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nums1 = [<span class="number">1</span>, <span class="number">3</span>]</span><br><span class="line">nums2 = [<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">åˆ™ä¸­ä½æ•°æ˜¯ <span class="number">2.0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nums1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">nums2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">åˆ™ä¸­ä½æ•°æ˜¯ (<span class="number">2</span> + <span class="number">3</span>)/<span class="number">2</span> = <span class="number">2.5</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>Hardé¢˜ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯å½’å¹¶ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¸ç¬¦åˆè¦æ±‚ï¼Œæœ€ä½è¦æ±‚ <code>O(log(m+n))</code>ï¼Œæƒ³äº†å¥½ä¸€ä¼šå„¿å®åœ¨æ˜¯æƒ³ä¸å‡ºæ¥ï¼ˆèœï¼‰ç„¶åçœ‹äº†è¯„è®ºåŒºçš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//find nums1+nums2 /2 å¤§çš„æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m=nums1.length;</span><br><span class="line">    <span class="keyword">int</span> n=nums2.length;</span><br><span class="line">    <span class="keyword">int</span> leftMid=(m+n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> rightMid=(m+n+<span class="number">2</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> (findMedian(nums1,<span class="number">0</span>,m-<span class="number">1</span>,nums2,<span class="number">0</span>,n-<span class="number">1</span>,leftMid) + findMedian(nums1,<span class="number">0</span>,m-<span class="number">1</span>,nums2,<span class="number">0</span>,n-<span class="number">1</span>,rightMid)) * <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//    i</span></span><br><span class="line"><span class="comment">//1 2 3 5</span></span><br><span class="line"><span class="comment">//    j</span></span><br><span class="line"><span class="comment">//1 2 4 6 7 8 9     k=6 find k/2=3</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        i</span></span><br><span class="line"><span class="comment">//*1 2 3* 5</span></span><br><span class="line"><span class="comment">//  j  </span></span><br><span class="line"><span class="comment">//1 2 4 6 7 8 9     k=3 find k/2=1  res=4</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">(<span class="keyword">int</span>[] nums1,<span class="keyword">int</span> left1,<span class="keyword">int</span> right1, <span class="keyword">int</span>[] nums2,<span class="keyword">int</span> left2,<span class="keyword">int</span> right2,<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len1=right1-left1+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> len2=right2-left2+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (len1==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums2[left2+k-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len2==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums1[left1+k-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (k==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.min(nums1[left1],nums2[left2]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i=left1+Math.min(len1,k/<span class="number">2</span>)-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> j=left2+Math.min(len2,k/<span class="number">2</span>)-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (nums1[i] &lt; nums2[j]) &#123;</span><br><span class="line">        <span class="keyword">return</span> findMedian(nums1,i+<span class="number">1</span>,right1,nums2,left2,right2,k-(i-left1+<span class="number">1</span>));</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findMedian(nums1,left1,right1,nums2,j+<span class="number">1</span>,right2,k-(j-left2+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è§£æ³•è¿˜æ˜¯æŒºå¦™çš„ï¼Œæ±‚ç¬¬kå°çš„æ€è·¯ï¼Œä¸¤ä¸ªæ•°ç»„éƒ½æ˜¯æœ‰åºçš„ï¼Œæˆ‘ä»¬è¦æ±‚ç¬¬kå°ï¼Œæˆ‘ä»¬å¯ä»¥å°†kä¸€åˆ†ä¸ºäºŒï¼Œçœ‹çœ‹ä¸¤ä¸ªæ•°ç»„çš„ <code>k/2</code> ä½ç½®çš„å…ƒç´ å“ªä¸ªå¤§å“ªä¸ªå°ï¼Œå°çš„å“ªä¸ªæ•°ç»„å‰ <code>k/2</code> ä¸ªå…ƒç´ å°±å¯ä»¥ç›´æ¥æ’é™¤æ‰ï¼Œå› ä¸ºä»–ä»¬å¿…ä¸å¯èƒ½æ˜¯ç¬¬kå°çš„å…ƒç´ ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå®¹æ˜“ç†è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>  k=<span class="number">6</span></span><br><span class="line">k/<span class="number">2</span>=<span class="number">3</span>,åˆ†åˆ«åœ¨ä¸¤æ•°ç»„ä¸­æ‰¾ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œä¹Ÿå³æ˜¯<span class="number">3</span>ï¼Œ<span class="number">4</span>æ˜æ˜¾<span class="number">3</span>æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æ’é™¤ç¬¬ä¸€ä¸ªæ•°ç»„çš„<span class="number">1</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">3</span>ä¸‰ä¸ªå…ƒç´ ï¼Œä»–ä»¬å¿…ä¸å¯èƒ½æ˜¯ç¬¬kå°çš„å…ƒç´ ï¼</span><br><span class="line">*<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>* <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span>  k=<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡æ’é™¤<code>k/2</code> çš„å…ƒç´ ï¼Œæœ€ååœ¨<code>log(k)</code> çš„æ—¶é—´å¤æ‚åº¦ä¸‹å°±èƒ½æ‰¾åˆ°ä¸¤ä¸ªæ•°ç»„çš„midï¼Œè€Œè¿™é‡Œ<code>k=(m+n+1)/2</code> æ‰€ä»¥æ˜¯ç¬¦åˆé¢˜ç›®è¦æ±‚çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘å¥‡æ•°å’Œå¶æ•°çš„æƒ…å†µï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«è®¡ç®—ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ±‚ä¸€ä¸‹å·¦ä¸­ä½æ•°å’Œå³ä¸­ä½æ•°ï¼Œå¦‚æœæ˜¯å¥‡æ•°å·¦ä¸­å’Œå³ä¸­å°±æ˜¯åŒä¸€ä¸ª<code>(k)/2==(k+1)/2</code> ï¼Œå¶æ•°çš„è¯å°±æ˜¯<code>(k)/2</code>å’Œ<code>(k+1)/2</code>åˆ†åˆ«å°±æ˜¯å·¦ä¸­å’Œå³ä¸­ï¼Œç„¶åæˆ‘ä»¬ç›´æ¥/2å°±å¾—åˆ°äº†è§£</p>
<h2 id="äºŒåˆ†ç­”æ¡ˆ"><a href="#äºŒåˆ†ç­”æ¡ˆ" class="headerlink" title="äºŒåˆ†ç­”æ¡ˆ"></a><em>äºŒåˆ†ç­”æ¡ˆ</em></h2><h2 id="1283-ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°"><a href="#1283-ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°" class="headerlink" title="1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°"></a><a href="https://leetcode-cn.com/problems/find-the-smallest-divisor-given-a-threshold/" target="_blank" rel="noopener">1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>threshold</code>  ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªæ­£æ•´æ•°ä½œä¸ºé™¤æ•°ï¼Œç„¶åå°†æ•°ç»„é‡Œæ¯ä¸ªæ•°éƒ½é™¤ä»¥å®ƒï¼Œå¹¶å¯¹é™¤æ³•ç»“æœæ±‚å’Œã€‚</p>
<p>è¯·ä½ æ‰¾å‡ºèƒ½å¤Ÿä½¿ä¸Šè¿°ç»“æœå°äºç­‰äºé˜ˆå€¼ <code>threshold</code> çš„é™¤æ•°ä¸­ æœ€å° çš„é‚£ä¸ªã€‚</p>
<p>æ¯ä¸ªæ•°é™¤ä»¥é™¤æ•°åéƒ½å‘ä¸Šå–æ•´ï¼Œæ¯”æ–¹è¯´ 7/3 = 3 ï¼Œ 10/2 = 5 ã€‚</p>
<p>é¢˜ç›®ä¿è¯ä¸€å®šæœ‰è§£ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">9</span>], threshold = <span class="number">6</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šå¦‚æœé™¤æ•°ä¸º <span class="number">1</span> ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º <span class="number">17</span> ï¼ˆ<span class="number">1</span>+<span class="number">2</span>+<span class="number">5</span>+<span class="number">9</span>ï¼‰ã€‚</span><br><span class="line">å¦‚æœé™¤æ•°ä¸º <span class="number">4</span> ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å’Œä¸º <span class="number">7</span> (<span class="number">1</span>+<span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>) ã€‚å¦‚æœé™¤æ•°ä¸º <span class="number">5</span> ï¼Œå’Œä¸º <span class="number">5</span> (<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">2</span>)ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>], threshold = <span class="number">11</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">19</span>], threshold = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 5 * 10^4</code></li>
<li><code>1 &lt;= nums[i] &lt;= 10^6</code></li>
<li><code>nums.length &lt;= threshold &lt;= 10^6</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å‘¨èµ›çš„é¢˜ï¼Œå¤ªè ¢äº†ï¼Œæ²¡åšå‡ºæ¥ã€‚ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smallestDivisor</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> threshold)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=<span class="number">1000000</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">            sum+=(nums[i]+mid-<span class="number">1</span>)/mid; <span class="comment">//å‘ä¸Šå–æ•´</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sum&gt;threshold) &#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®åªè¦æ˜ç¡®ä¸€ç‚¹è¿™é¢˜å°±å¾ˆå®¹æ˜“æƒ³åˆ°äºŒåˆ†ï¼Œè§£ç©ºé—´ä¸ºï¼š<code>[1ï¼Œmax(nums[i])]</code> æˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªåŒºé—´ä¹‹å†…åšäºŒåˆ†æœç´¢å°±okäº†ï¼Œå†ç„¶åå°±æ˜¯å‘ä¸Šå–æ•´çš„ä¸€ä¸ªå°æŠ€å·§</p>
<h2 id="1011-åœ¨-D-å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›"><a href="#1011-åœ¨-D-å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›" class="headerlink" title="1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›"></a><a href="https://leetcode-cn.com/problems/capacity-to-ship-packages-within-d-days/" target="_blank" rel="noopener">1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›</a></h2><p>ä¼ é€å¸¦ä¸Šçš„åŒ…è£¹å¿…é¡»åœ¨ D å¤©å†…ä»ä¸€ä¸ªæ¸¯å£è¿é€åˆ°å¦ä¸€ä¸ªæ¸¯å£ã€‚</p>
<p>ä¼ é€å¸¦ä¸Šçš„ç¬¬ <code>i</code> ä¸ªåŒ…è£¹çš„é‡é‡ä¸º <code>weights[i]</code>ã€‚æ¯ä¸€å¤©ï¼Œæˆ‘ä»¬éƒ½ä¼šæŒ‰ç»™å‡ºé‡é‡çš„é¡ºåºå¾€ä¼ é€å¸¦ä¸Šè£…è½½åŒ…è£¹ã€‚æˆ‘ä»¬è£…è½½çš„é‡é‡ä¸ä¼šè¶…è¿‡èˆ¹çš„æœ€å¤§è¿è½½é‡é‡ã€‚</p>
<p>è¿”å›èƒ½åœ¨ <code>D</code> å¤©å†…å°†ä¼ é€å¸¦ä¸Šçš„æ‰€æœ‰åŒ…è£¹é€è¾¾çš„èˆ¹çš„æœ€ä½è¿è½½èƒ½åŠ›ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šweights = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>], D = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">15</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">èˆ¹èˆ¶æœ€ä½è½½é‡ <span class="number">15</span> å°±èƒ½å¤Ÿåœ¨ <span class="number">5</span> å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line">ç¬¬ <span class="number">1</span> å¤©ï¼š<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span></span><br><span class="line">ç¬¬ <span class="number">2</span> å¤©ï¼š<span class="number">6</span>, <span class="number">7</span></span><br><span class="line">ç¬¬ <span class="number">3</span> å¤©ï¼š<span class="number">8</span></span><br><span class="line">ç¬¬ <span class="number">4</span> å¤©ï¼š<span class="number">9</span></span><br><span class="line">ç¬¬ <span class="number">5</span> å¤©ï¼š<span class="number">10</span></span><br><span class="line"></span><br><span class="line">è¯·æ³¨æ„ï¼Œè´§ç‰©å¿…é¡»æŒ‰ç…§ç»™å®šçš„é¡ºåºè£…è¿ï¼Œå› æ­¤ä½¿ç”¨è½½é‡èƒ½åŠ›ä¸º <span class="number">14</span> çš„èˆ¹èˆ¶å¹¶å°†åŒ…è£…åˆ†æˆ (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>), (<span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>), (<span class="number">8</span>), (<span class="number">9</span>), (<span class="number">10</span>) æ˜¯ä¸å…è®¸çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šweights = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">4</span>], D = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">èˆ¹èˆ¶æœ€ä½è½½é‡ <span class="number">6</span> å°±èƒ½å¤Ÿåœ¨ <span class="number">3</span> å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line">ç¬¬ <span class="number">1</span> å¤©ï¼š<span class="number">3</span>, <span class="number">2</span></span><br><span class="line">ç¬¬ <span class="number">2</span> å¤©ï¼š<span class="number">2</span>, <span class="number">4</span></span><br><span class="line">ç¬¬ <span class="number">3</span> å¤©ï¼š<span class="number">1</span>, <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šweights = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>], D = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ <span class="number">1</span> å¤©ï¼š<span class="number">1</span></span><br><span class="line">ç¬¬ <span class="number">2</span> å¤©ï¼š<span class="number">2</span></span><br><span class="line">ç¬¬ <span class="number">3</span> å¤©ï¼š<span class="number">3</span></span><br><span class="line">ç¬¬ <span class="number">4</span> å¤©ï¼š<span class="number">1</span>, <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= D &lt;= weights.length &lt;= 50000</code></li>
<li><code>1 &lt;= weights[i] &lt;= 500</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é—®é¢˜çš„è§£ç©ºé—´æ˜¯å•è°ƒçš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥äºŒåˆ†ç­”æ¡ˆï¼Œç„¶åéªŒè¯æ˜¯å¦æ»¡è¶³æ¡ä»¶å°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(NlogN)</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shipWithinDays</span><span class="params">(<span class="keyword">int</span>[] weights, <span class="keyword">int</span> D)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>,max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> w:weights)&#123;</span><br><span class="line">        max=Math.max(w,max);</span><br><span class="line">        sum+=w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=Math.max(sum/D,max),right=sum;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(weights,mid,D))&#123;</span><br><span class="line">            res=mid;</span><br><span class="line">            right=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿåˆ¤æ–­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span>[] weights,<span class="keyword">int</span> load,<span class="keyword">int</span> D)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> w:weights)&#123;</span><br><span class="line">        <span class="keyword">if</span>(temp+w&gt;load)&#123;</span><br><span class="line">            temp=<span class="number">0</span>;</span><br><span class="line">            D--;</span><br><span class="line">        &#125;</span><br><span class="line">        temp+=w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//return D&gt;=0;</span></span><br><span class="line">    <span class="keyword">return</span> D&gt;<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯ç”¨çš„ä¸€ä¸ª<a href="https://www.bilibili.com/video/BV1YT4y137G4" target="_blank" rel="noopener">å¤§ä½¬</a>çš„æ¨¡æ¿ï¼Œä¸æ˜¯ä¹‹å‰çš„æ¨¡æ¿ï¼Œä¹‹å‰çš„æ¨¡æ¿æˆ‘åˆšåˆšå†™äº†ä¸€å‘ï¼Œå†™é”™äº†ã€‚ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¹‹å‰çš„äºŒåˆ†æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shipWithinDays</span><span class="params">(<span class="keyword">int</span>[] weights, <span class="keyword">int</span> D)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>,max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> w:weights)&#123;</span><br><span class="line">        max=Math.max(w,max);</span><br><span class="line">        sum+=w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left=Math.max(sum/D,max),right=sum;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)&#123; <span class="comment">//è¿™é‡Œä¸€å¼€å§‹å†™æˆ&lt;=äº†....</span></span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(weights,mid,D))&#123;</span><br><span class="line">            right=mid;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ç§æ¨¡æ¿å„æœ‰ä¼˜ç‚¹å§ï¼Œè¿™ä¸ªå¤§ä½¬çš„æ¨¡æ¿ç›¸å¯¹æ›´ç®€å•ï¼Œä½†æ˜¯resçš„åˆå§‹å€¼éœ€è¦æ ¼å¤–æ³¨æ„ã€‚ã€‚ã€‚</p>
<h2 id="875-çˆ±åƒé¦™è•‰çš„ç‚ç‚"><a href="#875-çˆ±åƒé¦™è•‰çš„ç‚ç‚" class="headerlink" title="875. çˆ±åƒé¦™è•‰çš„ç‚ç‚"></a><a href="https://leetcode-cn.com/problems/koko-eating-bananas/" target="_blank" rel="noopener">875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</a></h2><p>ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰ <code>N</code> å †é¦™è•‰ï¼Œç¬¬ <code>i</code> å †ä¸­æœ‰ <code>piles[i]</code> æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨ <code>H</code> å°æ—¶åå›æ¥ã€‚</p>
<p>ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦ <code>K</code> ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ <code>K</code> æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº <code>K</code> æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚  </p>
<p>ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚</p>
<p>è¿”å›å¥¹å¯ä»¥åœ¨ <code>H</code> å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ <code>K</code>ï¼ˆ<code>K</code> ä¸ºæ•´æ•°ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: piles = [<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">11</span>], H = <span class="number">8</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: piles = [<span class="number">30</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">4</span>,<span class="number">20</span>], H = <span class="number">5</span></span><br><span class="line">è¾“å‡º: <span class="number">30</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: piles = [<span class="number">30</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">4</span>,<span class="number">20</span>], H = <span class="number">6</span></span><br><span class="line">è¾“å‡º: <span class="number">23</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= piles.length &lt;= 10^4</code></li>
<li><code>piles.length &lt;= H &lt;= 10^9</code></li>
<li><code>1 &lt;= piles[i] &lt;= 10^9</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹æƒ³ç”¨<code>sum/H</code>å‘ä¸Šå–æ•´åšå·¦è¾¹ç•Œï¼Œç»“æœç›´æ¥çˆ†æ‰äº†ï¼Œcaseè¿˜æ˜¯å¾ˆç»™åŠ›å•Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äºŒåˆ†ç­”æ¡ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minEatingSpeed</span><span class="params">(<span class="keyword">int</span>[] piles, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p:piles) max=Math.max(max,p);</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=max;</span><br><span class="line">    <span class="keyword">int</span> res=right;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(piles,mid,H))&#123;</span><br><span class="line">            res=mid;</span><br><span class="line">            right=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span>[] piles,<span class="keyword">int</span> k,<span class="keyword">int</span> H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p:piles) count+=(p-<span class="number">1</span>)/k+<span class="number">1</span>; <span class="comment">//å‘ä¸Šå–æ•´</span></span><br><span class="line">    <span class="keyword">return</span> count&lt;=H;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1292-å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿"><a href="#1292-å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿" class="headerlink" title="1292. å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿"></a><a href="https://leetcode-cn.com/problems/maximum-side-length-of-a-square-with-sum-less-than-or-equal-to-threshold/" target="_blank" rel="noopener">1292. å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿</a></h2><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º <code>m x n</code> çš„çŸ©é˜µ <code>mat</code> å’Œä¸€ä¸ªæ•´æ•°é˜ˆå€¼ <code>threshold</code>ã€‚</p>
<p>è¯·ä½ è¿”å›å…ƒç´ æ€»å’Œå°äºæˆ–ç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢åŒºåŸŸçš„æœ€å¤§è¾¹é•¿ï¼›å¦‚æœæ²¡æœ‰è¿™æ ·çš„æ­£æ–¹å½¢åŒºåŸŸï¼Œåˆ™è¿”å› <strong>0</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/05/17/Y2wPne.png" alt="Y2wPne.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]], threshold = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šæ€»å’Œå°äº <span class="number">4</span> çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿ä¸º <span class="number">2</span>ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]], threshold = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]], threshold = <span class="number">6</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šmat = [[<span class="number">18</span>,<span class="number">70</span>],[<span class="number">61</span>,<span class="number">1</span>],[<span class="number">25</span>,<span class="number">85</span>],[<span class="number">14</span>,<span class="number">40</span>],[<span class="number">11</span>,<span class="number">96</span>],[<span class="number">97</span>,<span class="number">96</span>],[<span class="number">63</span>,<span class="number">45</span>]], threshold = <span class="number">40184</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= m, n &lt;= 300</code></li>
<li><code>m == mat.length</code></li>
<li><code>n == mat[i].length</code></li>
<li><code>0 &lt;= mat[i][j] &lt;= 10000</code></li>
<li><code>0 &lt;= threshold &lt;= 10^5</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™ä¸ªé¢˜æ˜¯ä¸ªå¥½é¢˜å•Šï¼Œåˆå­¦åˆ°æ–°ä¸œè¥¿äº†ï¼š<strong>äºŒç»´å‰ç¼€å’Œ</strong>ï¼Œé¦–å…ˆçœ‹åˆ°è¿™é“é¢˜å°±æ„æ€åˆ°äº†è¿™æ˜¯ä¸ªäºŒåˆ†ç­”æ¡ˆçš„é¢˜ï¼Œç›´æ¥äºŒåˆ†è¾¹é•¿å°±è¡Œäº†ï¼Œå·¦ç«¯ç‚¹<code>1</code>ï¼Œå³ç«¯ç‚¹<code>min(m,n)</code>ï¼ŒæŸä¸ªè¾¹é•¿<code>x</code>æ»¡è¶³çš„æ—¶å€™ï¼Œå¤§äº<code>x</code>çš„éƒ½æ»¡è¶³ï¼ŒæŸä¸ª<code>x</code>ä¸æ»¡è¶³çš„æ—¶å€™</p>
<p>å°äº<code>x</code>çš„éƒ½ä¸æ»¡è¶³ï¼Œæ‰€ä»¥å…³é”®å°±æ˜¯<code>check</code>æ€ä¹ˆå†™ï¼Œå¦‚æœç›´æ¥æš´åŠ›æšä¸¾æ‰€æœ‰çŸ©å½¢ç„¶åè®¡ç®—æ—¶é—´å¤æ‚åº¦ä¼šå¾ˆææ€–ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å¼•å…¥<strong>äºŒç»´å‰ç¼€å’Œ</strong>ï¼Œæˆ‘å°±ä¸å…·ä½“è®²è§£äº†ï¼Œçœ‹çœ‹<a href="https://leetcode-cn.com/problems/maximum-side-length-of-a-square-with-sum-less-than-or-equal-to-threshold/solution/yuan-su-he-xiao-yu-deng-yu-yu-zhi-de-zheng-fang-2/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a>å°±è¡Œäº†ï¼Œå†™çš„æŒºå¥½çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSideLength</span><span class="params">(<span class="keyword">int</span>[][] mat, <span class="keyword">int</span> threshold)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m=mat.length;</span><br><span class="line">    <span class="keyword">int</span> n=mat[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=Math.min(m,n);</span><br><span class="line">    <span class="comment">//æ ¸å¿ƒå…¬å¼</span></span><br><span class="line">    <span class="comment">//sum([x1,y1]-&gt;[x2,y2])</span></span><br><span class="line">    <span class="comment">//= P[x2][y2]-P[x2][y1-1]-P[x1-1][y2]+P[x1-1][y1-1]</span></span><br><span class="line">    <span class="comment">//==&gt; mat[i][j]=P[i][j]-P[i-1][j]-P[j-1][i]+P[i-1][j-1]</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp=<span class="keyword">new</span> <span class="keyword">int</span>[m+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++) &#123;</span><br><span class="line">            dp[i][j]=mat[i-<span class="number">1</span>][j-<span class="number">1</span>]+dp[i-<span class="number">1</span>][j]+dp[i][j-<span class="number">1</span>]-dp[i-<span class="number">1</span>][j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=left+(right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(mat,mid,threshold,dp))&#123;</span><br><span class="line">            res=mid;</span><br><span class="line">            left=mid+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span>[][] mat,<span class="keyword">int</span> side,<span class="keyword">int</span> threshold,<span class="keyword">int</span>[][] dp)</span></span>&#123;</span><br><span class="line">    <span class="comment">//æšä¸¾æ‰€æœ‰çš„å·¦ç«¯ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i+side-<span class="number">1</span>&lt;=mat.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j+side-<span class="number">1</span>&lt;=mat[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">int</span> ri=i+side-<span class="number">1</span>,rj=j+side-<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//System.out.println(ri+","+rj+" dp:"+ dp[ri][rj]);</span></span><br><span class="line">            <span class="keyword">if</span>(dp[ri][rj]-dp[i-<span class="number">1</span>][rj]-dp[ri][j-<span class="number">1</span>]+dp[i-<span class="number">1</span>][j-<span class="number">1</span>]&lt;=threshold)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#äºŒåˆ†æœç´¢"><span class="toc-text">äºŒåˆ†æœç´¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#704-äºŒåˆ†æŸ¥æ‰¾"><span class="toc-text">704. äºŒåˆ†æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#69-x-çš„å¹³æ–¹æ ¹"><span class="toc-text">69. x çš„å¹³æ–¹æ ¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35-æœç´¢æ’å…¥ä½ç½®"><span class="toc-text">35. æœç´¢æ’å…¥ä½ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#153-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼"><span class="toc-text">153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#154-å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼-II"><span class="toc-text">154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><span class="toc-text">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II"><span class="toc-text">81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#744-å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯"><span class="toc-text">744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><span class="toc-text">34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜53-II-0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—"><span class="toc-text">é¢è¯•é¢˜53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#287-å¯»æ‰¾é‡å¤æ•°"><span class="toc-text">287. å¯»æ‰¾é‡å¤æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#852-å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•"><span class="toc-text">852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1095-å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼"><span class="toc-text">1095. å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#162-å¯»æ‰¾å³°å€¼"><span class="toc-text">162. å¯»æ‰¾å³°å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#74-æœç´¢äºŒç»´çŸ©é˜µ"><span class="toc-text">74. æœç´¢äºŒç»´çŸ©é˜µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°"><span class="toc-text">4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#äºŒåˆ†ç­”æ¡ˆ"><span class="toc-text">äºŒåˆ†ç­”æ¡ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1283-ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°"><span class="toc-text">1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1011-åœ¨-D-å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›"><span class="toc-text">1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#875-çˆ±åƒé¦™è•‰çš„ç‚ç‚"><span class="toc-text">875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1292-å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿"><span class="toc-text">1292. å…ƒç´ å’Œå°äºç­‰äºé˜ˆå€¼çš„æ­£æ–¹å½¢çš„æœ€å¤§è¾¹é•¿</span></a></li></ol>
  </div>


  </div>
</div>


    <section id="comments" style="margin:10px;padding:10px;background:#fff;">
      <div id="vcomment" class="comment"></div> 
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
   var notify = 'false' == true ? true : false;
   var verify = 'true' == true ? true : false;
    window.onload = function() {
        new Valine({
            el: '.comment',
            notify: notify,
            verify: verify,
            app_id: "MkcXmeDvktRNBDBrVqb9KYPH-MdYXbMMI",
            app_key: "swDnb5a9u9Ksp2Rwkdm7Qulh",
            placeholder: "ç•™ä¸‹é‚®ç®±æ‰èƒ½æ”¶åˆ°æ”¶åˆ°å›å¤å–” ~",
            avatar:"monsterid"
        });
    }
</script>
    </section>
  
<div class="copyright">
    <span>æœ¬ä½œå“é‡‡ç”¨</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>
    <span>è¿›è¡Œè®¸å¯ã€‚ è½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ã€‚</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2019/12/01/dui-he-you-xian-dui-lie/" rel="next" title="å †å’Œä¼˜å…ˆé˜Ÿåˆ—">
          å †å’Œä¼˜å…ˆé˜Ÿåˆ—
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/12/08/you-yu-cmd-yin-fa-de-xie-an/" rel="prev" title="ç”±äºcmdå¼•å‘çš„è¡€æ¡ˆ">
            ç”±äºcmdå¼•å‘çš„è¡€æ¡ˆ
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  

    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/imlgw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="/links">å‹æƒ…é“¾æ¥</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://github.com/fooying/hexo-theme-xoxo-plus" target="_blank">Theme xoxo-plus</a> |
        <a class="bottom-item" href="https://imlgw.avosapps.us/" target="_blank" rel="noopener">åšå®¢è¯„è®ºç®¡ç†</a>
    </div>
</footer>

  

<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * ç»™logoè®¾ç½®ç‚¹å‡»äº‹ä»¶
     * 
     * - å›åˆ°é¡¶éƒ¨
     * - å‡ºç°çˆ±å¿ƒ
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



  

<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>
</html>
