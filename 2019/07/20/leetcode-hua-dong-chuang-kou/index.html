
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="LeetCode,æ»‘åŠ¨çª—å£," />
  

  
    <meta name="description" content="å¤§æ‚²æ— æ³ªï¼Œå¤§æ‚Ÿæ— è¨€ï¼Œå¤§ç¬‘æ— å£°ã€‚" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/img/cat.ico">
  
  <title>LeetCodeæ»‘åŠ¨çª—å£ [ Tadow ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
    <span class="title" style="text-transform:none">Tadow</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">é¦–é¡µ</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="post" class="pure-menu-link">æ–‡ç« </a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">åˆ†ç±»</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">å½’æ¡£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">æ ‡ç­¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/music" style="color:#202020;" class="pure-menu-link">éŸ³ä¹</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/project" class="pure-menu-link">Github</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/search" class="pure-menu-link">æœç´¢</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">å…³äº</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/subscribe" class="pure-menu-link">è®¢é˜…</a></li>
            
          
      
  </ul>
   
</nav>

  </div>
  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        LeetCodeæ»‘åŠ¨çª—å£
      </h1>
      <span>
        
        <time class="time" datetime="2019-07-19T16:00:00.000Z">
        2019-07-20
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" rel="tag">æ»‘åŠ¨çª—å£</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> ç‚¹å‡»
    </span>
      <span class="slash">/</span>
      <span class="read">é˜…è¯»è€—æ—¶ 130 åˆ†é’Ÿ</span>
    </header>

    <div class="post-content">
      <h2 id="LeetCode-æ»‘åŠ¨çª—å£"><a href="#LeetCode-æ»‘åŠ¨çª—å£" class="headerlink" title="LeetCode æ»‘åŠ¨çª—å£"></a>LeetCode æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨é—®é¢˜åŒ…å«ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä¸€ä¸ªå¤§æ•°ç»„ä¸Šçš„å­åˆ—è¡¨ï¼Œè¯¥æ•°ç»„æ˜¯ä¸€ä¸ªåº•å±‚å…ƒç´ é›†åˆã€‚å‡è®¾æœ‰æ•°ç»„ [a b c d e f g h ]ï¼Œä¸€ä¸ªå¤§å°ä¸º 3 çš„ <strong>æ»‘åŠ¨çª—å£</strong> åœ¨å…¶ä¸Šæ»‘åŠ¨ï¼Œåˆ™æœ‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[a b c]</span><br><span class="line">  [b c d]</span><br><span class="line">    [c d e]</span><br><span class="line">      [d e f]</span><br><span class="line">        [e f g]</span><br><span class="line">          [f g h]</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯ä½¿ç”¨è¿™ä¸ªçª—å£åœ¨æ•°ç»„çš„ <strong>åˆæ³•åŒºé—´</strong> å†…è¿›è¡Œæ»‘åŠ¨ï¼ŒåŒæ—¶ <strong>åŠ¨æ€åœ°</strong>è®°å½•ä¸€äº›æœ‰ç”¨çš„æ•°æ®ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæå¤§åœ°æé«˜ç®—æ³•åœ°æ•ˆç‡ã€‚</p>
<h2 id="239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a><a href="https://leetcode-cn.com/problems/sliding-window-maximum/" target="_blank" rel="noopener">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</a></h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <em>nums</em>ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º <em>k</em> çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£ <em>k</em> å†…çš„æ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚</p>
<p>è¿”å›æ»‘åŠ¨çª—å£æœ€å¤§å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">3</span>,-<span class="number">1</span>,-<span class="number">3</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>], å’Œ k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: [<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>] </span><br><span class="line">è§£é‡Š: </span><br><span class="line"></span><br><span class="line">  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼</span><br><span class="line">---------------               -----</span><br><span class="line">[<span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>] -<span class="number">3</span>  <span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       <span class="number">3</span></span><br><span class="line"> <span class="number">1</span> [<span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span>] <span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       <span class="number">3</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span> [-<span class="number">1</span>  -<span class="number">3</span>  <span class="number">5</span>] <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       <span class="number">5</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span> [-<span class="number">3</span>  <span class="number">5</span>  <span class="number">3</span>] <span class="number">6</span>  <span class="number">7</span>       <span class="number">5</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span> [<span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>] <span class="number">7</span>       <span class="number">6</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span>  <span class="number">5</span> [<span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>]      <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<p>ä½ å¯ä»¥å‡è®¾ <em>k</em> æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ è¾“å…¥æ•°ç»„çš„å¤§å°ï¼Œä¸”è¾“å…¥æ•°ç»„ä¸ä¸ºç©ºã€‚</p>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<p>ä½ èƒ½åœ¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å†…è§£å†³æ­¤é¢˜å—ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] maxSlidingWindow2(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//é¢˜ç›®ä¸Šè¯´çš„ä¸ä¸ºç©ºï¼Œè¿˜æ˜¯ç»™æˆ‘æ¥äº†ä¸ªç©ºã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line">    <span class="keyword">if</span>(nums.length==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k==<span class="number">1</span>) <span class="keyword">return</span> nums;</span><br><span class="line">    LinkedList&lt;Integer&gt; list=<span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">int</span> []res=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length-k+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line">    list.add(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!list.isEmpty() &amp;&amp; nums[list.getLast()]&lt;nums[i])&#123;</span><br><span class="line">            <span class="comment">//å°äºnums[i]çš„å…ƒç´ ,ä»å³è¾¹(å°¾)å‡ºé˜Ÿåˆ— ,æ§åˆ¶æœ€å·¦è¾¹(å¤´)æœ€å¤§</span></span><br><span class="line">            list.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç„¶åå°†å®ƒåŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œä»å³è¾¹(å°¾)</span></span><br><span class="line">        list.addLast(i);</span><br><span class="line">        <span class="comment">//å¦‚æœé˜Ÿåˆ—æº¢å‡ºäº†å°±ä»å³è¾¹ç§»é™¤ä¸€ä¸ªï¼ˆå¤´ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span>(i-list.getFirst()==k)&#123;</span><br><span class="line">            list.removeFirst();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;=k-<span class="number">1</span>)&#123;</span><br><span class="line">            res[index++]=nums[list.getFirst()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2020.2.9 å›å¤´çœ‹äº†ä¸‹ï¼Œè¿™ä¸æ˜¯å•è°ƒé˜Ÿåˆ—ä¹ˆğŸ˜‚ï¼ˆç”¨å †ä¹Ÿå¯ä»¥å•¦ï¼Œä¸è¿‡æ—¢ç„¶è¦åœ¨å¤´å°¾éƒ½æ“ä½œï¼Œç›´æ¥ç”¨é˜Ÿåˆ—ä¼šæ›´æ–¹ä¾¿ï¼‰</p>
</blockquote>
<p>å…¶å®å¼€å§‹æˆ‘ä¹Ÿä¸ä¼šåšï¼Œçœ‹äº†æç¤ºåæäº†åŠå¤©æ‰å¼„å‡ºæ¥ï¼Œ23msï¼Œ70%å·¦å³ï¼Œæ€è·¯å°±æ˜¯åˆ©ç”¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—(å¤´å°¾éƒ½å¯ä»¥è¿›å‡º)ï¼Œé˜Ÿåˆ—ä¸­å­˜<strong>æ•°ç»„ä¸‹æ ‡</strong>ï¼Œç„¶åéå†æ•°ç»„ï¼Œåœ¨è¿›å…¥é˜Ÿåˆ—æ—¶ä»å³å‘å·¦éå†é˜Ÿå°¾ï¼Œå°†<strong>å°äºå½“å‰å…ƒç´ </strong>çš„é˜Ÿå°¾å…ƒç´ å»é™¤(å› ä¸ºå·²ç»æ²¡ç”¨äº†ï¼Œåé¢çš„æœ€å¤§å€¼ä¸å¯èƒ½æ˜¯å®ƒä»¬)ï¼Œä¸¾ä¸ªä¾‹å­</p>
<blockquote>
<p>[2ï¼Œ1ï¼Œ-1ï¼Œ3ï¼Œâ€¦â€¦]  k=3 ï¼Œå½“è¯»åˆ°<strong>3</strong>è¿™ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œçª—å£å†å‘å³ç§»åŠ¨æœ€å¤§å€¼è‚¯å®šä¸ä¼šæ˜¯å³è¾¹çš„å…ƒç´ äº†ï¼Œæ‰€ä»¥ç›´æ¥å‰”é™¤ä»–ä»¬ï¼Œåœ¨çº¸ä¸Šç”»ä¸€ç”»å°±æ˜ç™½äº†</p>
</blockquote>
<p>ç„¶åå¾ˆå…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»€ä¹ˆæ—¶å€™ç§»é™¤æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œå…¶å®æŒ‰ç…§äººçš„æ€è·¯æ¥æƒ³å°±æ˜¯æœ€å·¦è¾¹çš„å…ƒç´ ä¸åœ¨çª—å£å†…çš„æ—¶å€™ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œè¯»åˆ°<strong>3</strong>çš„æ—¶å€™ï¼Œ<strong>2</strong>å…¶å®å°±åº”è¯¥å‰”é™¤äº†å› ä¸ºå®ƒå·²ç»ä¸åœ¨çª—å£å†…äº†ã€‚ç”¨ä»£ç æ¥æè¿°å°±æ˜¯</p>
<p><code>i-list.getFirst()==k</code>ï¼Œiä»£è¡¨<strong>å½“å‰å…ƒç´ ä¸‹æ ‡</strong>ï¼Œä¸Šé¢çš„ä¾‹å­<strong>3</strong>å¯¹åº”çš„<strong>i</strong>å°±æ˜¯<strong>3</strong>ï¼Œ<strong>list.getFirst()=0</strong>ï¼Œåˆšå¥½å·®ä¸ºkï¼Œå°±ä»£è¡¨<strong>2</strong>å·²ç»è¶…å‡ºçª—å£äº†åº”è¯¥ç§»é™¤äº†ã€‚</p>
<p>å…¶å®è¿™é‡Œæˆ‘å¼€å§‹ä¸æ˜¯è¿™æ ·åšçš„ï¼Œæˆ‘åœ¨é˜Ÿåˆ—é‡Œé¢å­˜çš„ä¸æ˜¯å…ƒç´ ç´¢å¼•ï¼Œæˆ‘å­˜çš„æ˜¯å…ƒç´ ï¼Œç„¶ååœ¨åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç§»é™¤çš„æ—¶å€™å‘ç°åˆ¤æ–­ä¸äº†ï¼Œ<strong>index</strong>ä¹Ÿåªæ˜¯ç»“æœå…ƒç´ çš„ä¸‹æ ‡ï¼Œå¹¶ä¸èƒ½ä»£è¡¨é˜Ÿåˆ—æœ€å·¦å…ƒç´ çš„ä¸‹æ ‡ï¼Œå¯¹äºæ•°ç»„å­˜ä¸‹æ ‡ä¼˜å…ˆäºå­˜å…ƒç´ ï¼Œå¤šä¸€ä¸ªå·²çŸ¥é‡æœ‰æ—¶å€™è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å±äºå¯¹æš´åŠ›æ³•çš„ä¼˜åŒ–å§ï¼Œæœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦<code>O(NK)</code>ï¼Œæ¯”å¦‚å®Œå…¨é€†åºçš„æƒ…å†µï¼ˆ2020.2.9å›é¡¾fixï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] maxSlidingWindow3(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//é¢˜ç›®ä¸Šè¯´çš„ä¸ä¸ºç©ºï¼Œè¿˜æ˜¯ç»™æˆ‘æ¥äº†ä¸ªç©ºã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums[<span class="number">0</span>]&#125;;</span><br><span class="line">    <span class="keyword">int</span> localMax = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[len - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªçª—å£çš„æœ€å¤§å€¼</span></span><br><span class="line">        localMax = max(nums[i], localMax);</span><br><span class="line">    &#125;</span><br><span class="line">    result[<span class="number">0</span>] = localMax;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len - k + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//çª—å£çš„ä¸‹ä¸€ä¸ªå…ƒç´  k=3 , i=1 ä¸‹ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ä¸º 3</span></span><br><span class="line">        <span class="keyword">if</span> (nums[i + k - <span class="number">1</span>] &gt; localMax) &#123;</span><br><span class="line">            <span class="comment">//åˆ¤æ–­å½“å‰çª—å£æœ€å¤§å€¼å’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„å¤§å°</span></span><br><span class="line">            <span class="comment">//å¦‚æœæ¯”å½“å‰çª—å£çš„æœ€å¤§å€¼è¿˜è¦å¤§ å°±ä¸ç”¨æ‰¾äº† å°±æ˜¯å®ƒäº†</span></span><br><span class="line">            localMax = nums[i + k - <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i - <span class="number">1</span>] == localMax) &#123;</span><br><span class="line">            <span class="comment">//ä¸‹ä¸€ä¸ªå…ƒç´ æ¯”å½“å‰çª—å£æœ€å¤§å€¼å° è€Œä¸”å¾ˆä¸å·§</span></span><br><span class="line">            <span class="comment">//å½“å‰æœ€å¤§å€¼åˆšå¥½æ˜¯å½“å‰çª—å£çš„æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯é©¬ä¸Šè¦è¶…è¿‡çª—å£çš„å…ƒç´ </span></span><br><span class="line">            localMax = nums[i];</span><br><span class="line">            <span class="comment">//æ‰€ä»¥å°±è¦é‡æ–°æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = i; x &lt; i + k; x++) &#123;</span><br><span class="line">                localMax = max(nums[x], localMax);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å‰©ä¸‹çš„è¯·å†µå°±æ˜¯ æ¯”å½“å‰æœ€å¤§å€¼å°ï¼Œå¹¶ä¸”æœ€å¤§å€¼ä¸æ˜¯æœ€å·¦è¾¹çš„å…ƒç´ (è¿˜æ²¡æœ‰å‡ºç•Œ)ï¼Œæœ€å¤§å€¼ä¸å˜</span></span><br><span class="line">        <span class="comment">//copyåˆ°ç»“æœä¸­</span></span><br><span class="line">        result[i] = localMax;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶å®å¯ä»¥ç”¨Math.max()</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a&gt;=b)<span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2msï¼Œ99%  æäº¤è®°å½•è¿™ç§åšæ³•æ˜¯æœ€å¿«çš„ğŸ˜‚ï¼Œæ—¶é—´å¤æ‚åº¦æœ€ååº”è¯¥æ˜¯<code>O(NK)</code></p>
<h2 id="5312-å¤§å°ä¸º-K-ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®"><a href="#5312-å¤§å°ä¸º-K-ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®" class="headerlink" title="5312. å¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/number-of-sub-arrays-of-size-k-and-average-greater-than-or-equal-to-threshold/" target="_blank" rel="noopener">5312. å¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>arr</code> å’Œä¸¤ä¸ªæ•´æ•° <code>k</code> å’Œ <code>threshold</code> ã€‚</p>
<p>è¯·ä½ è¿”å›é•¿åº¦ä¸º <code>k</code> ä¸”å¹³å‡å€¼å¤§äºç­‰äº <code>threshold</code> çš„å­æ•°ç»„æ•°ç›®ã€‚</p>
<p> <strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">8</span>], k = <span class="number">3</span>, threshold = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šå­æ•°ç»„ [<span class="number">2</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>] å’Œ [<span class="number">5</span>,<span class="number">5</span>,<span class="number">8</span>] çš„å¹³å‡å€¼åˆ†åˆ«ä¸º <span class="number">4</span>ï¼Œ<span class="number">5</span> å’Œ <span class="number">6</span> ã€‚å…¶ä»–é•¿åº¦ä¸º <span class="number">3</span> çš„å­æ•°ç»„çš„å¹³å‡å€¼éƒ½å°äº <span class="number">4</span> ï¼ˆthreshold çš„å€¼)ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], k = <span class="number">1</span>, threshold = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">23</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>], k = <span class="number">3</span>, threshold = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šå‰ <span class="number">6</span> ä¸ªé•¿åº¦ä¸º <span class="number">3</span> çš„å­æ•°ç»„å¹³å‡å€¼éƒ½å¤§äº <span class="number">5</span> ã€‚æ³¨æ„å¹³å‡å€¼ä¸æ˜¯æ•´æ•°ã€‚</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>], k = <span class="number">7</span>, threshold = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>], k = <span class="number">4</span>, threshold = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 10^5</code></li>
<li><code>1 &lt;= arr[i] &lt;= 10^4</code></li>
<li><code>1 &lt;= k &lt;= arr.length</code></li>
<li><code>0 &lt;= threshold &lt;= 10^4</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>19åŒå‘¨èµ›çš„ç¬¬2é¢˜ï¼Œå¾ˆç®€å•çš„æ»‘åŠ¨çª—å£ï¼Œæšä¸¾æ‰€æœ‰çª—å£è®¡æ•°å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numOfSubarrays</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k, <span class="keyword">int</span> threshold)</span> </span>&#123;</span><br><span class="line">    threshold*=k;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">        sum+=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=k;i&lt;arr.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sum&gt;=threshold) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//0 1 2 3</span></span><br><span class="line">        sum+=arr[i];</span><br><span class="line">        sum-=arr[i-k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"abcabcbb"</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span> </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="string">"abc"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"bbbbb"</span></span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="string">"b"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="string">"pwwkew"</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="string">"wke"</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ<span class="string">"pwke"</span> æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®å¾ˆä¹…ä»¥å‰(åŠå¹´å‰)åšè¿‡ä¸€æ¬¡ï¼Œå½“æ—¶ç”¨çš„æ–¹æ³•å¾ˆlowğŸ˜‚</p>
<p><img src="http://static.imlgw.top///20190503/zQ9MBrOhQm4S.png?imageslim" alt="mark"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> [] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">if</span> (chars.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> length = <span class="number">1</span>;</span><br><span class="line">    String temp=<span class="keyword">new</span> String();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;s.length()-<span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[i] != chars[i+<span class="number">1</span>]) &#123;</span><br><span class="line">            temp=s.substring(i, i+<span class="number">2</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">2</span>; j &lt; s.length(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!temp.contains(chars[j]+<span class="string">""</span>)) &#123;</span><br><span class="line">                temp = s.substring(i, j+<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Breakå‡ºæ¥ååˆ¤æ–­æ˜¯å¦æ˜¯æœ€é•¿çš„k</span></span><br><span class="line">        length=temp.length()&gt;length?temp.length():length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘è¿™ç§å®Œå…¨å°±æ˜¯åˆ©ç”¨apiæš´åŠ›æ³•ï¼Œå±…ç„¶è¿˜è·‘è¿‡äº†ï¼Œæ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯O(N3)ï¼Œè¿™é¢˜çš„acç‡è¿˜æ˜¯æŒºä½çš„åªæœ‰ 29.3%</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸‹é¢çš„æ˜¯æˆ‘ä¸‹åˆé‡æ–°åšçš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring4</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è¾¹ç•Œé—®é¢˜æ°¸è¿œä¸èƒ½å¿½ç•¥</span></span><br><span class="line">    <span class="comment">//LinkedList&lt;Integer&gt; list=new LinkedList&lt;&gt;();</span></span><br><span class="line">    <span class="keyword">int</span> length=s.length();</span><br><span class="line">    <span class="keyword">if</span>(length==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;length;i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> index=i-<span class="number">1</span>; <span class="comment">//å½“å‰å…ƒç´ å‰ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">while</span>(index&gt;=head)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)!=s.charAt(index))&#123;</span><br><span class="line">                index--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//æŒ‰æ€è·¯åº”è¯¥æ˜¯æŠŠç›¸ç­‰å‰æ‰€æœ‰å…ƒç´ ç§»é™¤ï¼Œä½†æ˜¯é‚£æ ·æ•ˆç‡å¥½ä½ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å†³å®šç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—</span></span><br><span class="line">                head=index+<span class="number">1</span>;</span><br><span class="line">                tail++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ä»å°¾éå†åˆ°å¤´ä»ç„¶æ²¡æœ‰ç›¸ç­‰ï¼Œå¯ä»¥æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">            <span class="keyword">if</span>(index==head-<span class="number">1</span>)&#123;</span><br><span class="line">                tail++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ¯æ¬¡ç»“æŸå¾ªç¯å å°¾index-å¤´index</span></span><br><span class="line">        max=tail-head+<span class="number">1</span> &gt; max?tail-head+<span class="number">1</span>:max;</span><br><span class="line">        <span class="comment">//System.out.println(max);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>20mså·¦å³80%å·¦å³ï¼Œæ€è·¯ä¹Ÿæ¯”è¾ƒæ¸…æ™°ï¼Œéå†å­—ç¬¦ä¸²ï¼Œç„¶åä»åå¾€å‰éå†å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å½“å‰å­—ç¬¦ä¸²åœ¨å‰é¢æœ‰æ²¡æœ‰ï¼Œæœ‰çš„è¯å°±å°†å‰é¢ç›¸ç­‰é‚£ä¸ªå…ƒç´ (index)å‰çš„å…ƒç´ éƒ½ç§»é™¤ï¼ˆçª—å£å³ç§»ï¼‰</p>
<p>eg: <code>[head...index....tail] i</code>  å‘å³ç§»åŠ¨<code>....index [head ... i]</code></p>
<p>æŠŠå½“å‰å…ƒç´ æ·»åŠ è¿›æ¥ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(N^2)ï¼Œæ¯”ä¸Šé¢å•çº¯çš„æš´åŠ›æ³•è¦å¿«å¤šäº†ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æœ€ä¼˜è§£</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ä¸Šé¢çš„ç®—æ³•ï¼Œå…¶å®è¿˜å¯ä»¥ä¼˜åŒ–ï¼Œæ¯æ¬¡åˆ¤æ–­å‰é¢æœ‰æ²¡æœ‰é‡å¤å…ƒç´ çš„æ—¶å€™å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå¤§å°256çš„æ‰©å±•ASCIIç è¡¨æ•°ç»„æ¥åˆ¤æ–­ï¼ˆå‰ææ˜¯è¿™äº›å­—ç¬¦éƒ½åœ¨æ ‡å‡†çš„ASCIIå­—ç¬¦ä¸­ï¼‰ï¼Œ<code>freq[s.charAt(i)]</code> ä»£è¡¨çš„å°±æ˜¯s.charAt(i)è¿™ä¸ªå­—ç¬¦åœ¨çª—å£å†…å‡ºç°è¿‡æ²¡æœ‰ï¼Œå‡ºç°è¿‡å°±ä¸º1ï¼Œå¦åˆ™å°±æ˜¯0ï¼Œè¿™é‡Œå¦‚æœASCIIä¸å¤Ÿå…¶å®ä¹Ÿå¯ä»¥ç”¨HashMapï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¹Ÿå¾ˆé«˜æ¥è¿‘O(1)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length=s.length();</span><br><span class="line">    <span class="keyword">if</span>(length==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>]; <span class="comment">//ASCIIç è¡¨</span></span><br><span class="line">    freq[s.charAt(<span class="number">0</span>)]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(head&lt;length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(tail+<span class="number">1</span>&lt;length&amp;&amp;freq[s.charAt(tail+<span class="number">1</span>)]==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//æ²¡æœ‰é‡å¤ï¼Œå³è¾¹ç•Œå³ç§»</span></span><br><span class="line">            tail++;</span><br><span class="line">            freq[s.charAt(tail)]++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//é€æ¸ç¼©å‡å·¦è¾¹ç•Œï¼Œç›´åˆ°ä¸å†æœ‰é‡å¤å…ƒç´ </span></span><br><span class="line">            freq[s.charAt(head)]--;</span><br><span class="line">            head++;</span><br><span class="line">        &#125;</span><br><span class="line">        max=max&lt;tail-head+<span class="number">1</span>?tail-head+<span class="number">1</span>:max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åšæ³•æœ€åæƒ…å†µï¼ˆæ²¡æœ‰é‡å¤çš„å­—ç¬¦ï¼‰ä¸‹å…¶å®ä¼šéå†ä¸¤éæ•°ç»„tailå…ˆç§»åŠ¨åˆ°å°¾éƒ¨headéšåæœ‰ç§»åŠ¨åˆ°å°¾éƒ¨ï¼Œä½†æ˜¯æ¯”è¾ƒå¥½ç†è§£ï¼Œè§£æ³•å››å®é™…ä¸Šå°±æ˜¯å¯¹è¿™é‡Œçš„ä¼˜åŒ–ï¼Œheadæ¯æ¬¡ç§»åŠ¨éƒ½æ˜¯ç›´æ¥ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªé‡å¤å…ƒç´ çš„ä½ç½®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„å‘å³ç§»</p>
<p><strong>è§£æ³•å››</strong></p>
<p>æäº¤è®°å½•ä¸Šæœ€å¿«çš„æ–¹æ³•ï¼Œç†è§£èµ·æ¥æœ‰ç‚¹è´¹åŠ²ï¼Œç°åœ¨å›å¤´çœ‹åˆçœ‹ä¸æ‡‚äº†ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = s.length(), ans = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ç´¢å¼•ä¸ºå…ƒç´ å€¼ï¼Œè¿™é‡Œå› ä¸ºå…ƒç´ éƒ½æ˜¯å­—ç¬¦è½¬è¿‡æ¥å°±æ˜¯askllç ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¿™æ ·</span></span><br><span class="line">    <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>, i = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå­—ç¬¦ char åœ¨æ²¡æœ‰å‡ºç°è¿‡ï¼Œindex[char]ä¸º0ï¼Œå‡ºç°åˆ™index[char]æ˜¯éå†å‡ºç°çš„æœ€åçš„charçš„ä½ç½®</span></span><br><span class="line">        <span class="comment">// index[s.charAt(j)] æ˜¯å½“å‰å­—ç¬¦ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®(ä»1å¼€å§‹)</span></span><br><span class="line">        i = Math.max(i,index[s.charAt(j)]);</span><br><span class="line">        <span class="comment">//j - i + 1 å°±æ˜¯èˆå¼ƒs.charAt(j)é‡å¤å‡ºç°ä¹‹å‰å­—ç¬¦çš„é•¿åº¦  å¦‚abca,å½“s.charAt(j) == aæ—¶ï¼Œj - i + 1å°±æ˜¯bcaçš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">//æ±‚æœ€å¤§å€¼å¸¸è§„æ“ä½œ</span></span><br><span class="line">        ans = Math.max(ans, j - i + <span class="number">1</span>);</span><br><span class="line">        index[s.charAt(j)] = j + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// ä»1å¼€å§‹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ€ä¸»è¦å°±æ˜¯è¿™ä¸ª<strong>i</strong>çš„ç†è§£</p>
<p><img src="http://static.imlgw.top///20190503/Qcj2l3E0v5sN.png?imageslim" alt="mark"></p>
<p>è¿™ä¸ªiä¸ä¸€å®šæ˜¯å½“å‰å…ƒç´ ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç¦»<strong>å½“å‰</strong>å…ƒç´ ä»å³å‘å·¦<strong>æœ€è¿‘</strong>çš„<strong>é‡å¤å­—ç¬¦</strong>çš„_ä½ç½®_ã€‚è€Œindexä¸­å­˜çš„å°±æ˜¯è¿™ä¸ªå…ƒç´ çš„ç´¢å¼•ä½ç½®+1ï¼Œä¸ºä»€ä¹ˆè¦åŠ 1ï¼Ÿ</p>
<p><img src="http://static.imlgw.top///20190503/N4GzYaft0suh.png?imageslim" alt="mark"></p>
<p>ä¸»è¦æ˜¯å› ä¸ºiçš„é»˜è®¤å€¼æ˜¯0è€Œæ•°ç»„é»˜è®¤å€¼ä¹Ÿæ˜¯0ï¼Œå¦‚æœä»¥0å¼€å§‹å°±ä¼šå‡ºç°ä¸Šé¢çš„æƒ…å†µã€‚</p>
<p>å…¶å®è¿™ä¸¤ç§ç®—æ³•ä¹Ÿæ¯”è¾ƒç±»ä¼¼ï¼Œåªæ˜¯åé¢åˆ¤æ–­å­—ç¬¦æ˜¯å¦å‡ºç°è¿‡çš„æ–¹å¼ä¸åŒï¼Œå‰è€…æ˜¯ç›´æ¥éå†è¿™ä¸ªå­ä¸²ï¼Œåè€…æ˜¯åˆ©ç”¨å­—ç¬¦ä¸ºç´¢å¼•ï¼Œå…¶å€¼å°±æ˜¯ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®(+1)ï¼Œå€Ÿæ­¤æ¥è®¡ç®—é•¿åº¦ã€‚</p>
<p><strong>å›é¦–æ</strong></p>
<p>19/9/14ï¼Œåœ¨ç½‘é¡µä¸Šåˆå†™äº†ä¸€ç§ä¸åŒçš„è§£æ³•ï¼Œå±äºè§£æ³•4çš„å˜ä½“ï¼ˆåšçš„æ—¶å€™å¹¶æ²¡æœ‰æƒ³åˆ°è§£æ³•4ï¼‰ï¼Œ<code>freq[]</code> æ•°ç»„ç´¢å¼•æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å€¼æ˜¯è¯¥å­—ç¬¦åœ¨sä¸­å¯¹åº”çš„ç´¢å¼•ï¼Œä¸ä¼šéå†ä¸¤éæ•°ç»„ï¼Œleftå¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥è·³åˆ°ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring6</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()&lt;<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(s.length()==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>,res=<span class="number">0</span>;</span><br><span class="line">    Arrays.fill(freq,-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(right&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">char</span> sr=s.charAt(right);</span><br><span class="line">        <span class="comment">//å·²ç»å­˜åœ¨,å¹¶ä¸”åœ¨çª—å£å†…</span></span><br><span class="line">        <span class="keyword">if</span>(freq[sr]!=-<span class="number">1</span> &amp;&amp; freq[sr]&gt;=left)&#123;</span><br><span class="line">            <span class="comment">//System.out.println(left+","+right+","+freq[sr]);</span></span><br><span class="line">            res=Math.max(res,right-left);</span><br><span class="line">            left=freq[sr]+<span class="number">1</span>;</span><br><span class="line">            freq[sr]=right;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">            freq[sr]=right;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å›é¦–æ2</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring7</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span>||s.length()&lt;<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(s.length()==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>,res=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//Arrays.fill(freq,-1);</span></span><br><span class="line">    <span class="keyword">while</span>(right&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">char</span> sr=s.charAt(right);</span><br><span class="line">        <span class="comment">//å·²ç»å­˜åœ¨(å‡ºç°è¿‡),å¹¶ä¸”ä¸Šä¸€æ¬¡å‡ºç°åœ¨çª—å£å†…</span></span><br><span class="line">        <span class="keyword">if</span>(freq[sr]!=<span class="number">0</span> &amp;&amp; freq[sr]&gt;=left)&#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œä¸åŒ…å«right,æ‰€ä»¥ä¸ç”¨åŠ 1</span></span><br><span class="line">            res=Math.max(res,right-left);</span><br><span class="line">            <span class="comment">//leftç§»åŠ¨åˆ°é‡å¤ä½ç½®å…ƒç´ çš„ä¸‹ä¸€ä¸ª</span></span><br><span class="line">            <span class="comment">//å› ä¸ºfreqçš„å€¼æ˜¯å­˜çš„ç´¢å¼•+1æ‰€ä»¥è¿™é‡Œä¸ç”¨+1</span></span><br><span class="line">            left=freq[sr];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//è¿™é‡ŒåŒ…å«rightæ‰€ä»¥éœ€è¦åŠ 1</span></span><br><span class="line">            res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åŠ 1æ˜¯ä¸ºäº†åŒºåˆ«sçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">        freq[sr]=right+<span class="number">1</span>;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ„Ÿè§‰å¯¹è¿™é¢˜æœ‰å¾ˆæ·±çš„æ‰§å¿µğŸ˜…ï¼Œå¯¹ä¸Šé¢å³ä¼˜åŒ–äº†ä¸€ä¸‹ï¼Œä½†æ˜¯å…¶å®è¿˜æ˜¯ä¸Šé¢çš„è§£æ³•ä¸‰æ¯”è¾ƒç®€å•ï¼Œè¯´åˆ°è§£æ³•ä¸‰ï¼Œæˆ‘åˆæŠ½é£æ”¹äº†ä¸€ä¸ªbooleanæ•°ç»„ç‰ˆæœ¬çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.4.13 é‡å†™äº†ä¸€éï¼Œä»£ç æ›´ç®€æ´äº†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> ||s.length()&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] freq=<span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right &amp;&amp; right&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(!freq[s.charAt(right)])&#123;</span><br><span class="line">            max=Math.max(max,right-left+<span class="number">1</span>);</span><br><span class="line">            freq[s.charAt(right++)]=<span class="keyword">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            freq[s.charAt(left++)]=<span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>ä»¥ä¸Šè§£æ³•å…¨éƒ¨ä½œåºŸ</em></strong></p>
<p>ç»Ÿä¸€ä½¿ç”¨<code>for-while</code>ç»“æ„ï¼Œèƒ½ç”¨<code>for-if</code>çš„ä¸€å®šå¯ä»¥ç”¨<code>for-while</code>ï¼Œåè¿‡æ¥å°±ä¸è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2020.5.5æ ¹æ®è‡ªå·±æ€»ç»“çš„æ»‘çª—æ¨¡æ¿é‡å†™</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] freq=<span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n;right++)&#123;</span><br><span class="line">        <span class="keyword">while</span>(freq[s.charAt(right)])&#123;</span><br><span class="line">            freq[s.charAt(left++)]=<span class="keyword">false</span>; <span class="comment">//leftä¸ç”¨é™åˆ¶</span></span><br><span class="line">        &#125;</span><br><span class="line">        freq[s.charAt(right)]=<span class="keyword">true</span>;</span><br><span class="line">        res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æœ€ä¼˜è§£</strong></p>
<p>mapè®°å½•å…ƒç´ æœ€åå‡ºç°çš„ä½ç½®ï¼Œå½“é‡å¤çš„æ—¶å€™æ›´æ–°èµ·ç‚¹ï¼Œåªç”¨éå†ä¸€é</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s)==<span class="number">0</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    m:=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">    start:=<span class="number">0</span></span><br><span class="line">    res:=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i,ch:=<span class="keyword">range</span> s&#123;</span><br><span class="line">        <span class="keyword">if</span> idx,ok:=m[ch];ok &amp;&amp; idx+<span class="number">1</span>&gt;start&#123;</span><br><span class="line">            start=idx+<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        m[ch]=i</span><br><span class="line">        res=Max(res,i-start+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Max</span><span class="params">(a,b <span class="keyword">int</span>)</span> <span class="title">int</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> a&gt;b&#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="219-å­˜åœ¨é‡å¤å…ƒç´ -II"><a href="#219-å­˜åœ¨é‡å¤å…ƒç´ -II" class="headerlink" title="219. å­˜åœ¨é‡å¤å…ƒç´  II"></a><a href="https://leetcode-cn.com/problems/contains-duplicate-ii/" target="_blank" rel="noopener">219. å­˜åœ¨é‡å¤å…ƒç´  II</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° <em>k</em>ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• <em>i</em> å’Œ <em>j</em>ï¼Œä½¿å¾— **nums [i] = nums [j]**ï¼Œå¹¶ä¸” <em>i</em> å’Œ <em>j</em> çš„å·®çš„ç»å¯¹å€¼æœ€å¤§(ä¸è¶…è¿‡)ä¸º <em>k</em>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡º: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å»ºè®®åŒºçœ‹çœ‹åŸç‰ˆçš„è‹±æ–‡é¢˜ï¼Œè¿™é‡Œç¿»è¯‘è¿‡æ¥æœ‰ç‚¹è¯¯å¯¼äººï¼Œåº”è¯¥æ˜¯ä¸è¶…è¿‡kï¼Œå†™ä¸ªæœ€å¤§æå¾—æˆ‘æœ‰ç‚¹æ‡µ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">containsNearbyDuplicate2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=nums.length;</span><br><span class="line">    <span class="comment">//if(k==35000) return false; å“ˆå“ˆå“ˆå“ˆ</span></span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>||k==<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> index=i-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i-index&lt;=k)&#123;</span><br><span class="line">            <span class="comment">//kæ­¥ä¹‹å†…</span></span><br><span class="line">            <span class="keyword">if</span>(index&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]==nums[index--])&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æš´åŠ›æ³•ï¼Œæƒ¨ä¸å¿ç¹ï¼Œ600msï¼Œ15%beats ã€‚è¿™é¢˜æœ€å¥½çš„åšæ³•è¿˜æ˜¯å€ŸåŠ©hashè¡¨</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">containsNearbyDuplicate3</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> len=nums.length;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>||k==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(nums[i]))&#123;</span><br><span class="line">            <span class="keyword">int</span> index=map.get(nums[i]);</span><br><span class="line">            <span class="keyword">if</span>(i-index&lt;=k) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¤§äºkäº†é‚£å‰é¢é‚£ä¸ªæ²¡ç”¨äº†</span></span><br><span class="line">                map.replace(nums[i],i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.put(nums[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>12msï¼Œ90%ï¼Œå…¶å®æ•ˆç‡çš„å·®è·å°±åœ¨æŸ¥æ‰¾å­ä¸²é‡Œæœ‰æ²¡æœ‰è¿™ä¸ªå­—ç¬¦ä¸Šï¼ŒHashMapçš„containsKeyçš„æ•ˆç‡æ¯”æˆ‘ä»¬éå†çš„ä¸çŸ¥é“é«˜åˆ°é‚£é‡Œå»äº†ï¼Œåº•å±‚æºç æš‚æ—¶è¿˜çœ‹ä¸å¤ªæ‡‚ï¼Œä»¥åçœ‹çš„æ—¶å€™å†ä¸“é—¨æ¥è®²</p>
<p>19.9.14åˆåšäº†ä¸€éï¼Œç›´æ¥åœ¨ç½‘é¡µä¸Šå†™çš„ï¼Œæœ¬æ¥åº”è¯¥æ˜¯bugfreeçš„ï¼Œç»“æœå‡åäº†ã€‚ã€‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">containsNearbyDuplicate4</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">	HashMap&lt;Integer,Integer&gt; hashMap=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(right&lt;nums.length)&#123;</span><br><span class="line">		<span class="keyword">if</span>(hashMap.containsKey(nums[right]))&#123;</span><br><span class="line">			<span class="comment">//md,é‡æ–°åšçš„æ—¶å€™è¿™é‡Œå‡åäº†çœŸæ˜¯ä¸ªzz</span></span><br><span class="line">			<span class="keyword">if</span>(right-hashMap.get(nums[right])&lt;=k)&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">				hashMap.put(nums[right],right);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			hashMap.put(nums[right],right);</span><br><span class="line">		&#125;</span><br><span class="line">		right++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>19.9.15åˆåšäº†ä¸€éï¼Œè¿™æ¬¡ä»£ç å†™çš„å¾ˆç®€æ´ï¼Œæ€è·¯ä¹Ÿä¸åŒäº†ï¼Œç›´æ¥åˆ©ç”¨seté›†åˆï¼Œç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºkçš„è¿ç»­set(çª—å£)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">containsNearbyDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    HashSet&lt;Integer&gt; set=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!set.add(nums[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (set.size()&gt;k) &#123;</span><br><span class="line">            set.remove(nums[i-k]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="209-é•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#209-é•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="209. é•¿åº¦æœ€å°çš„å­æ•°ç»„"></a><a href="https://leetcode-cn.com/problems/minimum-size-subarray-sum/" target="_blank" rel="noopener">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a></h2><p>ç»™å®šä¸€ä¸ªå«æœ‰ <strong>n</strong> ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° <strong>s ï¼Œ</strong>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ <strong>â‰¥ s</strong> çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„<strong>ã€‚</strong>å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="number">7</span>, nums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line">è§£é‡Š: å­æ•°ç»„ [<span class="number">4</span>,<span class="number">3</span>] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¿›é˜¶:</strong></p>
<p>å¦‚æœä½ å·²ç»å®Œæˆäº†<em>O</em>(<em>n</em>) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯• <em>O</em>(<em>n</em> log <em>n</em>) æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è€è§„çŸ©å…ˆä¸Šä¸ªæ…¢çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minSubArrayLen</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=nums.length;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> minLen=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i-<span class="number">1</span>]&gt;=s) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> index=i-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> sum=nums[i];</span><br><span class="line">        <span class="comment">//ç´¯åŠ å‰é¢çš„å…ƒç´ ï¼Œç›´åˆ°å¤§äºsæˆ–è€…index&lt;0</span></span><br><span class="line">        <span class="keyword">while</span>(sum&lt;s&amp;&amp;index&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            sum+=nums[index--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;=s)&#123;</span><br><span class="line">            minLen=minLen&gt;i-index?i-index:minLen;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(i==len-<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ˜¯æœ€å¼€å§‹æƒ³åˆ°äº†æ€è·¯æ¯”è¾ƒæ¸…æ™°ï¼Œéå†æ•°ç»„ç„¶åé€†åºæ±‚å’Œç›´åˆ°å¤§äºSï¼Œè¦æ³¨æ„è¾¹ç•Œï¼Œæ¯”è¾ƒæ…¢ï¼Œä¸»è¦å°±æ˜¯é‚£ä¸ªå¾ªç¯ç´¯åŠ å‰é¢çš„å…ƒç´ ä¼šå¾ˆè€—è´¹æ—¶é—´ï¼Œ111msï¼Œ14% beatsğŸ¤£</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minSubArrayLen2</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len =nums.length;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//çª—å£å·¦å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> minLen=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 2,3,1,2,4,3 | 7</span></span><br><span class="line">    <span class="keyword">while</span> (tail&lt;len) &#123;</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;=s)&#123;</span><br><span class="line">            minLen=minLen&gt;tail-head+<span class="number">1</span>?tail-head+<span class="number">1</span>:minLen;</span><br><span class="line">            <span class="comment">//System.out.println(minLen);</span></span><br><span class="line">            <span class="comment">//åˆ é™¤å¤´èŠ‚ç‚¹ï¼ˆå·¦è¾¹ç•Œå·¦ç§»ï¼‰</span></span><br><span class="line">            sum-=nums[head++];</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//å°¾æŒ‡é’ˆåˆ°è¾¾è¾¹ç•Œäº†</span></span><br><span class="line">            <span class="keyword">if</span>(tail==len-<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">//å°¾èŠ‚ç‚¹++ï¼Œ(å³è¾¹ç•Œå³ç§»)</span></span><br><span class="line">            sum+=nums[++tail];</span><br><span class="line">            <span class="comment">//å¦‚æœæœ‰å…ƒç´ å¤§äºsç›´æ¥è¿”å›ï¼ŒèŠ‚çº¦æ—¶é—´</span></span><br><span class="line">            <span class="keyword">if</span>(nums[tail]&gt;=s)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen==Integer.MAX_VALUE?<span class="number">0</span>:minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ms ï¼Œ99%beatsï¼Œä¸€å¯¹æ¯”å·®è·å°±å‡ºæ¥äº†ï¼Œä¸Šé¢è¿™ç§åšæ³•å°±æ˜¯åˆ©ç”¨äº†æ»‘åŠ¨çª—å£çš„æ€æƒ³ï¼Œå¾ˆå·§å¦™çš„åˆ©ç”¨äº†ä¸Šä¸€æ¬¡è®¡ç®—çš„å€¼ï¼Œä¸ç”¨é‡å¤çš„è®¡ç®—ç´¯åŠ å’Œï¼Œä¸Šé¢çš„é‚£ç§æ–¹æ³•æ¯æ¬¡éƒ½ä¼šé‡æ–°è®¡ç®—ç´¯åŠ å’Œï¼Œä½†æ˜¯å¾ˆå¤šéƒ½æ˜¯é‡å¤çš„è®¡ç®—ï¼Œæ‰€ä»¥æµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œè¦æ³¨æ„è¾¹ç•Œæ¡ä»¶</p>
<p><code>2 3 1 2 4 3  s=7</code></p>
<p><img src="http://static.imlgw.top///20190504/U9BTOJMRVhDO.jpg?imageslim" alt="mark"></p>
<p>è‡ªå·±åœ¨çº¸ä¸Šç”»ä¸€ä¸‹å°±æ‡‚äº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p><del>æ‰¾åˆ°ä¸€ä¸ªæ¨¡æ¿ï¼Œç»Ÿä¸€ä¸€ä¸‹å†™æ³•</del></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minSubArrayLen3</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len =nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(len==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> minLen=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 2,3,1,2,4,3 | 7</span></span><br><span class="line">    <span class="keyword">while</span> (head&lt;=len) &#123;</span><br><span class="line">        <span class="keyword">if</span>(tail+<span class="number">1</span>&lt;=len &amp;&amp; sum&lt;s)&#123;</span><br><span class="line">            sum+=nums[++tail];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sum-=nums[head++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;=s)&#123;</span><br><span class="line">            minLen=minLen&gt;tail-head+<span class="number">1</span>?tail-head+<span class="number">1</span>:minLen;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen==Integer.MAX_VALUE?<span class="number">0</span>:minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Update(2020.5.4)</strong></p>
<p>ä¸Šé¢çš„è¿™ä¹Ÿé…å«æ¨¡æ¿ï¼Ÿä¸‹é¢çš„æ˜¯é‡åšçš„æ—¶å€™ç»Ÿä¸€çš„å†™æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> INF = <span class="number">1</span> &lt;&lt; <span class="number">31</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minSubArrayLen</span><span class="params">(s <span class="keyword">int</span>, nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    res := INF</span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(nums); right++ &#123;</span><br><span class="line">        sum += nums[right]</span><br><span class="line">        <span class="keyword">for</span> sum &gt;= s &#123;</span><br><span class="line">            res = Min(res, right-left+<span class="number">1</span>)</span><br><span class="line">            sum -= nums[left]</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> res == INF &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é¢è¯•é¢˜57-II-å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—"><a href="#é¢è¯•é¢˜57-II-å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—" class="headerlink" title="é¢è¯•é¢˜57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—"></a><a href="https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/" target="_blank" rel="noopener">é¢è¯•é¢˜57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—</a></h2><p>è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° target ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º target çš„è¿ç»­æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚</p>
<p>åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">5</span>]]</span><br></pre></td></tr></table></figure>


<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">15</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 10^5</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ»‘åŠ¨çª—å£ï¼Œæ ¹æ®ç­‰å·®æ•°åˆ—å‰né¡¹å’Œæ±‚sumï¼Œç„¶åé€æ­¥çš„ç¼©åœˆï¼Œå³ç§»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] findContinuousSequence(<span class="keyword">int</span> target) &#123;</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; res=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">1</span>,right=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//9 rightæœ€å¤šåˆ°5</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right &amp;&amp; right&lt;=(target+<span class="number">1</span>)/<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="comment">//ç­‰å·®æ•°åˆ—å‰né¡¹å’Œ</span></span><br><span class="line">        <span class="keyword">int</span> n=right-left+<span class="number">1</span>;</span><br><span class="line">        sum=left*n+n*(n-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(sum&gt;target)&#123;</span><br><span class="line">            left++; <span class="comment">//å‰”é™¤ä¸€ä¸ªå°çš„</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum&lt;target)&#123;</span><br><span class="line">            right++; <span class="comment">//æ·»åŠ ä¸€ä¸ªå¤§çš„</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">//buildç»“æœé›†</span></span><br><span class="line">            res.add(build(left,right));</span><br><span class="line">            left++;<span class="comment">//çª—å£å·¦ç§»,å‰”é™¤ä¸€ä¸ªå°çš„</span></span><br><span class="line">            right++; <span class="comment">//å›å¤´é‡å†™å‘ç°è¿™é‡Œè¿˜å¯ä»¥ä¼˜åŒ–,å³è¾¹ç•Œä¹Ÿå¯ä»¥æ‰©å¤§</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] build(<span class="keyword">int</span> left,<span class="keyword">int</span> right)&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[right-left+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=left;i&lt;=right;i++)&#123;</span><br><span class="line">        res[i-left]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå…¶å®å¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼Œè¿˜æœ‰æ›´å¥½çš„æ•°å­¦è§£æ³•ï¼Œç›´æ¥æ ¹æ®æ±‚å’Œå…¬å¼ï¼Œæšä¸¾æ‰€æœ‰çš„é•¿åº¦ï¼Œé€†å‘æ±‚å‡ºæ‰€æœ‰çš„é¦–é¡¹ï¼Œè¿™é‡Œåé¢æœ‰æ—¶é—´å†æ¥å®ç°</p>
<h2 id="480-æ»‘åŠ¨çª—å£ä¸­ä½æ•°"><a href="#480-æ»‘åŠ¨çª—å£ä¸­ä½æ•°" class="headerlink" title="480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°"></a><a href="https://leetcode-cn.com/problems/sliding-window-median/" target="_blank" rel="noopener">480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°</a></h2><p>ä¸­ä½æ•°æ˜¯æœ‰åºåºåˆ—æœ€ä¸­é—´çš„é‚£ä¸ªæ•°ã€‚å¦‚æœåºåˆ—çš„å¤§å°æ˜¯å¶æ•°ï¼Œåˆ™æ²¡æœ‰æœ€ä¸­é—´çš„æ•°ï¼›æ­¤æ—¶ä¸­ä½æ•°æ˜¯æœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°çš„å¹³å‡æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]ï¼Œä¸­ä½æ•°æ˜¯ <span class="number">3</span></span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>]ï¼Œä¸­ä½æ•°æ˜¯ (<span class="number">2</span> + <span class="number">3</span>) / <span class="number">2</span> = <span class="number">2.5</span></span><br></pre></td></tr></table></figure>

<p>ç»™å‡ºä¸€ä¸ªæ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º <em>k</em> çš„çª—å£ä»æœ€å·¦ç«¯æ»‘åŠ¨åˆ°æœ€å³ç«¯ã€‚çª—å£ä¸­æœ‰ k ä¸ªæ•°ï¼Œæ¯æ¬¡çª—å£ç§»åŠ¨ 1 ä½ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ‰¾å‡ºæ¯æ¬¡çª—å£ç§»åŠ¨åå¾—åˆ°çš„æ–°çª—å£ä¸­å…ƒç´ çš„ä¸­ä½æ•°ï¼Œå¹¶è¾“å‡ºç”±å®ƒä»¬ç»„æˆçš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>ç»™å‡º <em>nums</em> = <code>[1,3,-1,-3,5,3,6,7]</code>ï¼Œä»¥åŠ <em>k</em> = 3ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">çª—å£ä½ç½®                      ä¸­ä½æ•°</span><br><span class="line">---------------               -----</span><br><span class="line">[<span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>] -<span class="number">3</span>  <span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       <span class="number">1</span></span><br><span class="line"> <span class="number">1</span> [<span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span>] <span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       -<span class="number">1</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span> [-<span class="number">1</span>  -<span class="number">3</span>  <span class="number">5</span>] <span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>       -<span class="number">1</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span> [-<span class="number">3</span>  <span class="number">5</span>  <span class="number">3</span>] <span class="number">6</span>  <span class="number">7</span>       <span class="number">3</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span> [<span class="number">5</span>  <span class="number">3</span>  <span class="number">6</span>] <span class="number">7</span>       <span class="number">5</span></span><br><span class="line"> <span class="number">1</span>  <span class="number">3</span>  -<span class="number">1</span>  -<span class="number">3</span>  <span class="number">5</span> [<span class="number">3</span>  <span class="number">6</span>  <span class="number">7</span>]      <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p> å› æ­¤ï¼Œè¿”å›è¯¥æ»‘åŠ¨çª—å£çš„ä¸­ä½æ•°æ•°ç»„ <code>[1,-1,-1,3,5,6]</code>ã€‚</p>
<p><strong>æç¤ºï¼š</strong><br>å‡è®¾<code>k</code>æ˜¯åˆæ³•çš„ï¼Œå³ï¼š<code>k</code> å§‹ç»ˆå°äºè¾“å…¥çš„éç©ºæ•°ç»„çš„å…ƒç´ ä¸ªæ•°.</p>
<p>headé¢˜ï¼Œç†æ¸…æ¥šæ€è·¯åä¹Ÿä¸éš¾ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span>[] medianSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//çœ‹äº†ä¸€åœˆè¯„è®ºåŒºï¼Œå¤§æ¦‚çŸ¥é“æ€è·¯äº†ï¼Œè¿˜æ˜¯è¦æ’åº</span></span><br><span class="line">    <span class="comment">//List&lt;Integer&gt; list=new ArrayList&lt;&gt;(); ç”¨é“¾è¡¨è¿˜æ˜¯ä¸æ–¹ä¾¿å•Š</span></span><br><span class="line">    <span class="keyword">int</span> [] queue=<span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=k-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//å¤´å°¾</span></span><br><span class="line">    <span class="keyword">double</span> [] res=<span class="keyword">new</span> <span class="keyword">double</span>[nums.length-k+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">        queue[i]=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(queue);</span><br><span class="line">    printArray(queue);</span><br><span class="line">    <span class="keyword">if</span> (k%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">        res[<span class="number">0</span>]=queue[(k-<span class="number">1</span>)/<span class="number">2</span>]/<span class="number">2.0</span>+queue[(k-<span class="number">1</span>)/<span class="number">2</span>+<span class="number">1</span>]/<span class="number">2.0</span>;</span><br><span class="line">        <span class="comment">//æ³¨æ„é™¤å°æ•° .ã€‚ã€‚ã€‚ã€‚è¿™é‡Œçš„æµ‹è¯•ç”¨ä¾‹Integeræœ€å¤§å€¼ï¼Œç›´æ¥ç›¸åŠ /2ä¼šè¶Šç•Œ</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res[<span class="number">0</span>]=queue[k/<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=k;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="comment">//æ’å…¥ä¹‹å‰è¦ç§»é™¤ä¸Šä¸€æ¬¡çš„å¤´å…ƒç´ ï¼Œè¿™é‡Œç”¨æ•°ç»„ä¸å¥½æå•Šå•Š</span></span><br><span class="line">        <span class="comment">//System.out.println(nums[i-k]);</span></span><br><span class="line">        deleHead(queue,nums[i-k]);</span><br><span class="line">        tail--;</span><br><span class="line">        <span class="comment">//printArray(queue);</span></span><br><span class="line">        <span class="comment">//äºŒåˆ†æ‰¾æ’å…¥ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> index=binarySearch(queue,<span class="number">0</span>,tail,nums[i]);</span><br><span class="line">        System.out.println(index);</span><br><span class="line">        tail++;</span><br><span class="line">        <span class="comment">//æ’å…¥å…ƒç´ ï¼Œtail++;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=tail;j&gt;index;j--) &#123;</span><br><span class="line">            <span class="comment">//åä¸€ä¸ªç­‰äºå‰ä¸€ä¸ªï¼Œç»™æ’å…¥çš„å…ƒç´ è…¾å‡ºä½ç½®</span></span><br><span class="line">            queue[j]=queue[j-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        queue[index]=nums[i];</span><br><span class="line">        <span class="comment">//æ±‚ä¸­ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (k%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">            res[i-k+<span class="number">1</span>]=queue[head+(tail-head)/<span class="number">2</span>]/<span class="number">2.0</span>+queue[head+(tail-head)/<span class="number">2</span>+<span class="number">1</span>]/<span class="number">2.0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res[i-k+<span class="number">1</span>]=queue[head+(tail-head)/<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleHead</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>,i=<span class="number">0</span>;j&lt;nums.length;j++,i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[j]==target)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i==nums.length-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;nums.length-<span class="number">1</span>)&#123;</span><br><span class="line">                nums[i]=nums[i+<span class="number">1</span>];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi,<span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[mid]&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid]&gt;target)&#123;</span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®è¯„è®ºåŒºæä¾›çš„æ€è·¯ï¼Œç”¨æ•°ç»„å®ç°äº†ä¸€éï¼Œå½“æ—¶å°±æ„Ÿè§‰æœ‰é—®é¢˜ï¼Œç¡®å®ï¼Œæœ€å 164ms ï¼Œ27%ï¼Œå¾ˆæ…¢äº†ï¼Œæˆ‘è§‰å¾—ä¸»è¦é—®é¢˜å°±æ˜¯é‚£ä¸ªåˆ é™¤å¤´çš„æ“ä½œï¼Œä½†æ˜¯æ¯•ç«Ÿæ•°ç»„ï¼Œæ²¡åŠæ³•ï¼Œéšå³æ”¹ç”¨é“¾è¡¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span>[] medianSlidingWindow2(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//çœ‹äº†ä¸€åœˆè¯„è®ºåŒºï¼Œå¤§æ¦‚çŸ¥é“æ€è·¯äº†ï¼Œè¿˜æ˜¯è¦æ’åº</span></span><br><span class="line">    List&lt;Integer&gt; list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> head=<span class="number">0</span>,tail=k-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//å¤´å°¾</span></span><br><span class="line">    <span class="keyword">double</span> [] res=<span class="keyword">new</span> <span class="keyword">double</span>[nums.length-k+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//Arrays.sort(nums,0,k);</span></span><br><span class="line">    <span class="keyword">int</span> []temp=<span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">        temp[i]=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(temp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">        list.add(temp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (k%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">        res[<span class="number">0</span>]=list.get((k-<span class="number">1</span>)/<span class="number">2</span>)/<span class="number">2.0</span>+list.get((k-<span class="number">1</span>)/<span class="number">2</span>+<span class="number">1</span>)/<span class="number">2.0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res[<span class="number">0</span>]=list.get(k/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=k;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="comment">//æ’å…¥ä¹‹å‰è¦ç§»é™¤ä¸Šä¸€æ¬¡çš„å¤´å…ƒç´ ï¼Œè¿™é‡Œç”¨æ•°ç»„ä¸å¥½æå•Šå•Š</span></span><br><span class="line">        <span class="comment">//list.remove((Object)nums[i-k]); ç›´æ¥åˆ å¤ªæ…¢äº†</span></span><br><span class="line">        <span class="keyword">int</span> dele=binarySearch(list,<span class="number">0</span>,k-<span class="number">1</span>,nums[i-k]);</span><br><span class="line">        list.remove(dele);</span><br><span class="line">        <span class="comment">//System.out.println(list);</span></span><br><span class="line">        <span class="comment">//äºŒåˆ†æ‰¾æ’å…¥ç‚¹ï¼Œæ‰¾çš„åŒºé—´ä¸º [i-k+1, i-1]</span></span><br><span class="line">        <span class="comment">//int head=i-k+1,tail=i-1;</span></span><br><span class="line">        <span class="keyword">int</span> index=binarySearch(list,<span class="number">0</span>,k-<span class="number">2</span>,nums[i]);</span><br><span class="line">        System.out.println(index);</span><br><span class="line">        list.add(-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=k-<span class="number">1</span>;j&gt;index;j--) &#123;</span><br><span class="line">            <span class="comment">//åä¸€ä¸ªç­‰äºå‰ä¸€ä¸ªï¼Œç»™æ’å…¥çš„å…ƒç´ è…¾å‡ºä½ç½®</span></span><br><span class="line">            list.set(j,list.get(j-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        list.set(index,nums[i]);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//æ±‚ä¸­ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (k%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">            res[i-k+<span class="number">1</span>]=list.get((k-<span class="number">1</span>)/<span class="number">2</span>) / <span class="number">2.0</span> + list.get((k-<span class="number">1</span>)/<span class="number">2</span>+<span class="number">1</span>)/<span class="number">2.0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res[i-k+<span class="number">1</span>]=list.get(k/<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(List&lt;Integer&gt; list,<span class="keyword">int</span> lo,<span class="keyword">int</span> hi,<span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(lo&lt;=hi)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=lo+(hi-lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(list.get(mid)&lt;target)&#123;</span><br><span class="line">            lo=mid+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(list.get(mid)&gt;target)&#123;</span><br><span class="line">            hi=mid-<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>47msï¼Œ70%å·¦å³ï¼Œåˆ é™¤çš„æ—¶å€™åˆ©ç”¨äºŒåˆ†åˆ é™¤ï¼Œå¦‚æœç›´æ¥æ ¹æ®å…ƒç´ å»åˆ å°±è·Ÿæ•°ç»„æ•ˆç‡å·®ä¸å¤šäº†ã€‚</p>
<h2 id="76-æœ€å°è¦†ç›–å­ä¸²"><a href="#76-æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="76. æœ€å°è¦†ç›–å­ä¸²"></a><a href="https://leetcode-cn.com/problems/minimum-window-substring/" target="_blank" rel="noopener">76. æœ€å°è¦†ç›–å­ä¸²</a></h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² Sã€ä¸€ä¸ªå­—ç¬¦ä¸² Tï¼Œè¯·åœ¨å­—ç¬¦ä¸² S é‡Œé¢æ‰¾å‡ºï¼šåŒ…å« T æ‰€æœ‰å­—æ¯çš„æœ€å°å­ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: S = <span class="string">"ADOBECODEBANC"</span>, T = <span class="string">"ABC"</span></span><br><span class="line">è¾“å‡º: <span class="string">"BANC"</span></span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å¦‚æœ S ä¸­ä¸å­˜è¿™æ ·çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ã€‚</li>
<li>å¦‚æœ S ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> slen=s.length();</span><br><span class="line">    <span class="keyword">int</span> tlen=t.length();</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">0</span>; <span class="comment">//åˆå§‹éƒ½ä¸º0</span></span><br><span class="line">    <span class="keyword">int</span>[] target=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>]; <span class="comment">//A:1 B:1 C:1</span></span><br><span class="line">    <span class="keyword">int</span>[] window=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>; <span class="comment">//ä¸åŒå­—ç¬¦çš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tlen;i++) &#123;</span><br><span class="line">        target[t.charAt(i)]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a:target) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a!=<span class="number">0</span>) &#123;</span><br><span class="line">            count++; <span class="comment">//ç»Ÿè®¡ä¸åŒå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> match=<span class="number">0</span>; <span class="comment">//matchä»£è¡¨å·²ç»åŒ¹é…çš„å­—ç¬¦</span></span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>,Integer.MAX_VALUE&#125;;</span><br><span class="line">    <span class="keyword">while</span>(r&lt;slen)&#123;</span><br><span class="line">        <span class="keyword">char</span> c=s.charAt(r); </span><br><span class="line">        <span class="keyword">if</span>(target[c]!=<span class="number">0</span>)&#123; <span class="comment">//åœ¨ç›®æ ‡å­ä¸²ä¸­å­˜åœ¨</span></span><br><span class="line">            window[c]++; <span class="comment">//windowå¯¹åº”çš„char++</span></span><br><span class="line">            <span class="keyword">if</span>(window[c]==target[c])&#123; <span class="comment">//åˆ°è¾¾äº†ç›®æ ‡ä¸²ä¸­è¯¥charæ‰€éœ€çš„æ•°é‡</span></span><br><span class="line">                match++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        r++;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;r&amp;&amp;count==match) &#123; <span class="comment">//æ»¡è¶³ç›®æ ‡ä¸²ï¼Œæ³¨æ„åˆ«è¶Šç•Œ</span></span><br><span class="line">            <span class="keyword">char</span> d=s.charAt(l);</span><br><span class="line">            <span class="keyword">if</span> (r-l&lt;res[<span class="number">1</span>]-res[<span class="number">0</span>]) &#123; <span class="comment">//ç»Ÿè®¡æœ€å°å€¼</span></span><br><span class="line">                res[<span class="number">0</span>]=l;</span><br><span class="line">                res[<span class="number">1</span>]=r;</span><br><span class="line">            &#125;</span><br><span class="line">            l++;</span><br><span class="line">            <span class="keyword">if</span> (target[d]!=<span class="number">0</span>) &#123;</span><br><span class="line">                window[d]--;</span><br><span class="line">                <span class="keyword">if</span> (window[d]&lt;target[d]) &#123;<span class="comment">//å·¦è¾¹ç•Œå·¦ç§»åä¸å†æ»¡è¶³ç›®æ ‡ä¸²</span></span><br><span class="line">                    match--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">1</span>]==Integer.MAX_VALUE?<span class="string">""</span>:s.substring(res[<span class="number">0</span>],res[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>10ms 86%ï¼ŒHardé¢˜ï¼Œå…¶å®å¤§è‡´çš„æ€è·¯è¿˜æ˜¯æœ‰çš„ï¼Œä¸»è¦æ˜¯ä¸çŸ¥é“æ€ä¹ˆå»å’Œç›®æ ‡ä¸²å¯¹æ¯”ï¼Œæ²¡æƒ³åˆ°ç”¨ä¸€ä¸ª<code>window</code>æ•°ç»„å»å¯¹æ¯”ï¼Œä¸€è‡´æƒ³çš„æ˜¯åœ¨ç›®æ ‡ä¸²çš„æ•°ç»„ä¸Šåšæ‰‹è„šï¼Œä½†æ˜¯è¶Šæƒ³è¶Šå¤æ‚ã€‚ã€‚ã€‚å¤ªè ¢äº†ğŸ˜…ï¼Œè¿™é¢˜å…¶å®ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªHashMapæ¥åšï¼Œä½†æ˜¯æˆ‘çœ‹äº†ä¸‹æäº¤è®°å½•ä¸Šçš„æ™®ééƒ½æ˜¯7,80msï¼Œç›¸å¯¹éƒ½æ¯”è¾ƒæ…¢ï¼Œå®é™…ä¸Šé¢˜ç›®æ²¡æœ‰æ˜ç¡®çš„è¯´æ˜æœ‰ç‰¹æ®Šå­—ç¬¦çš„è¯éƒ½æ˜¯å¯ä»¥ç”¨ä¸€ä¸ª<strong>ASCII</strong>æ•°ç»„æ¥å……å½“HashMapçš„ï¼Œå½“ç„¶æˆ‘è¿™é‡Œç”¨æ•°ç»„çš„æ—¶å€™ç›¸æ¯”HashMapè¦å¤šäº†ä¸€æ­¥ï¼Œéœ€è¦ç»Ÿè®¡ä¸åŒå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œä¸è¿‡è¿™ä¸ªæ“ä½œä¹Ÿæ˜¯å¸¸æ•°çº§åˆ«çš„æ“ä½œï¼Œå¹¶ä¸è€—æ—¶ï¼Œæ•´ä½“æ—¶é—´å¤æ‚åº¦O(N+M)ï¼ŒNMåˆ†åˆ«ä»£è¡¨ç›®æ ‡å­ä¸²<code>t</code> å’Œæºå­—ç¬¦ä¸² <code>p</code>çš„é•¿åº¦ï¼Œé¦–å…ˆéå†äº†<code>t</code> ç„¶åæ»‘åŠ¨çª—å£ï¼Œåé¢çš„æ»‘åŠ¨çª—å£å·¦å³è¾¹ç•Œæœ€å¤šç§»åŠ¨2Mæ¬¡</p>
<p><strong>Update</strong></p>
<p>2020.4.15ï¼Œåœ¨ç„äº†ä¸€çœ¼ä¹‹å‰åšçš„ä¹‹åæŒ‰ç…§ä¹‹å‰çš„æ€è·¯é‡å†™äº†ä¸€éï¼Œæ„Ÿè§‰è¿˜è¡Œï¼Œæœ‰ä¸€ä¸ªåœ°æ–¹WAäº†ä¸€æ¬¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.4.15</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || t==<span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span>[] needMap=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>]; <span class="comment">//éœ€è¦çš„å­—ç¬¦map</span></span><br><span class="line">    <span class="keyword">int</span>[] curMap=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];  <span class="comment">//å·²ç»åŒ¹é…çš„å­—ç¬¦map</span></span><br><span class="line">    <span class="keyword">int</span> needCount=<span class="number">0</span>; <span class="comment">//éœ€è¦åŒ¹é…çš„å­—ç¬¦ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(needMap[t.charAt(i)]==<span class="number">0</span>)&#123;</span><br><span class="line">            needCount++;</span><br><span class="line">        &#125;</span><br><span class="line">        needMap[t.charAt(i)]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> matchCount=<span class="number">0</span>; <span class="comment">//å·²ç»åŒ¹é…çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> minLeft=<span class="number">0</span>,maxRight=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right &amp;&amp; right&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">char</span> c=s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span>(needMap[c]!=<span class="number">0</span>)&#123;</span><br><span class="line">            curMap[c]++;</span><br><span class="line">            <span class="keyword">if</span>(curMap[c]==needMap[c])&#123;</span><br><span class="line">                matchCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;=right &amp;&amp; right&lt;s.length() &amp;&amp; matchCount==needCount)&#123;</span><br><span class="line">            <span class="keyword">if</span>(right-left&lt;maxRight-minLeft)&#123;</span><br><span class="line">                maxRight=right;</span><br><span class="line">                minLeft=left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">char</span> cl=s.charAt(left);</span><br><span class="line">            <span class="keyword">if</span>(curMap[cl]!=<span class="number">0</span>)&#123;</span><br><span class="line">                curMap[cl]--;</span><br><span class="line">                <span class="comment">//è¿™é‡Œæ³¨æ„ï¼ŒWAç‚¹ï¼Œå¼€å§‹å†™çš„=0</span></span><br><span class="line">                <span class="keyword">if</span>(curMap[cl]&lt;needMap[cl])&#123;</span><br><span class="line">                    matchCount--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Integer.MAX_VALUE==maxRight?<span class="string">""</span>:s.substring(minLeft,maxRight+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åˆ·é¢˜çš„æ—¶å€™å‘ç°æœ‰ä¸€é“å¾ˆç±»ä¼¼çš„é¢˜ï¼Œ<a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#857-%E6%9C%80%E5%B0%8F%E7%9A%84%E7%AA%97%E5%8F%A3%E5%AD%90%E5%BA%8F%E5%88%97%EF%BC%88LintCode%EF%BC%89">æœ€å°çª—å£å­åºåˆ—</a>å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯è¿™é“é¢˜è¦æ±‚æœ‰åºï¼ˆå­åºåˆ—ï¼‰</p>
</blockquote>
<h2 id="632-æœ€å°åŒºé—´"><a href="#632-æœ€å°åŒºé—´" class="headerlink" title="632. æœ€å°åŒºé—´"></a><a href="https://leetcode-cn.com/problems/smallest-range-covering-elements-from-k-lists/" target="_blank" rel="noopener">632. æœ€å°åŒºé—´</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ä½ æœ‰Â <code>k</code>Â ä¸ªå‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ã€‚æ‰¾åˆ°ä¸€ä¸ª<strong>æœ€å°</strong>åŒºé—´ï¼Œä½¿å¾—Â <code>k</code>Â ä¸ªåˆ—è¡¨ä¸­çš„æ¯ä¸ªåˆ—è¡¨è‡³å°‘æœ‰ä¸€ä¸ªæ•°åŒ…å«åœ¨å…¶ä¸­ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰å¦‚æœÂ <code>b-a &lt; d-c</code>Â æˆ–è€…åœ¨Â <code>b-a == d-c</code>Â æ—¶Â <code>a &lt; c</code>ï¼Œåˆ™åŒºé—´ [a,b] æ¯” [c,d] å°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:[[<span class="number">4</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">24</span>,<span class="number">26</span>], [<span class="number">0</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">20</span>], [<span class="number">5</span>,<span class="number">18</span>,<span class="number">22</span>,<span class="number">30</span>]]</span><br><span class="line">è¾“å‡º: [<span class="number">20</span>,<span class="number">24</span>]</span><br><span class="line">è§£é‡Š: </span><br><span class="line">åˆ—è¡¨ <span class="number">1</span>ï¼š[<span class="number">4</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">24</span>, <span class="number">26</span>]ï¼Œ<span class="number">24</span> åœ¨åŒºé—´ [<span class="number">20</span>,<span class="number">24</span>] ä¸­ã€‚</span><br><span class="line">åˆ—è¡¨ <span class="number">2</span>ï¼š[<span class="number">0</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">20</span>]ï¼Œ<span class="number">20</span> åœ¨åŒºé—´ [<span class="number">20</span>,<span class="number">24</span>] ä¸­ã€‚</span><br><span class="line">åˆ—è¡¨ <span class="number">3</span>ï¼š[<span class="number">5</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">30</span>]ï¼Œ<span class="number">22</span> åœ¨åŒºé—´ [<span class="number">20</span>,<span class="number">24</span>] ä¸­ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:</strong></p>
<ol>
<li> ç»™å®šçš„åˆ—è¡¨å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå‡åºè¡¨ç¤º &gt;= ã€‚</li>
<li> 1 &lt;= <code>k</code> &lt;= 3500</li>
<li> -10<sup>5</sup> &lt;= <code>å…ƒç´ çš„å€¼</code>Â &lt;= 10<sup>5</sup></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">smallestRange</span><span class="params">(nums [][]<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="comment">//åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ k,å­˜åœ¨äºé‚£äº›æ•°ç»„ä¸­</span></span><br><span class="line">    <span class="keyword">var</span> m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>][]<span class="keyword">int</span>)</span><br><span class="line">    <span class="keyword">var</span> Max = <span class="function"><span class="keyword">func</span> <span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;<span class="keyword">if</span> a &gt; b &#123;<span class="keyword">return</span> a&#125;; <span class="keyword">return</span> b&#125;</span><br><span class="line">    <span class="keyword">var</span> Min = <span class="function"><span class="keyword">func</span> <span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;<span class="keyword">if</span> a &lt; b &#123;<span class="keyword">return</span> a&#125;; <span class="keyword">return</span> b&#125;</span><br><span class="line">    <span class="comment">//è®°å½•æœ€å¤§æœ€å°å€¼ï¼Œç„¶ååœ¨åŒºé—´å†…æ»‘çª—ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å°†æ‰€æœ‰æ•°ç»„å½’å¹¶æ’ä¸€ä¸‹ï¼Œç„¶åæ»‘çª—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‡’å¾—å†™äº†</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥ä¸‹é¢çš„åšæ³•å®é™…ä¸Šæ˜¯å’Œå¾ªåºæ— å…³çš„ï¼Œæ²¡æœ‰ç”¨åˆ°æœ‰åºè¿™ä¸ªæ¡ä»¶</span></span><br><span class="line">    <span class="keyword">var</span> maxV = math.MinInt32</span><br><span class="line">    <span class="keyword">var</span> minV = math.MaxInt32</span><br><span class="line">    <span class="keyword">for</span> i :=<span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(nums[i]); j++ &#123;</span><br><span class="line">            m[nums[i][j]] = <span class="built_in">append</span>(m[nums[i][j]], i)</span><br><span class="line">            maxV = Max(maxV, nums[i][j])</span><br><span class="line">            minV = Min(minV, nums[i][j])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒ 76.æœ€å°è¦†ç›–å­ä¸²ï¼Œè¿™é¢˜å¯èƒ½æ€ç»´çš„è½¬æ¢æ¯”è¾ƒé‡è¦</span></span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> freq = <span class="built_in">make</span>([]<span class="keyword">int</span>, n+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> res =[]<span class="keyword">int</span>&#123;minV, maxV&#125;</span><br><span class="line">    <span class="keyword">var</span> left = minV</span><br><span class="line">    <span class="keyword">for</span> right := minV; right &lt;= maxV; right++ &#123;</span><br><span class="line">        <span class="keyword">if</span> lis, ok := m[right]; ok &#123;</span><br><span class="line">            <span class="keyword">for</span> _, numIdx := <span class="keyword">range</span> lis &#123;</span><br><span class="line">                freq[numIdx]++</span><br><span class="line">                <span class="keyword">if</span> freq[numIdx] == <span class="number">1</span>&#123;</span><br><span class="line">                    count++</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> count == n &amp;&amp; left &lt;= right &#123;</span><br><span class="line">            <span class="keyword">if</span> right-left &lt; res[<span class="number">1</span>]-res[<span class="number">0</span>] &#123;</span><br><span class="line">                res[<span class="number">0</span>] = left</span><br><span class="line">                res[<span class="number">1</span>] = right</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> lis, ok := m[left]; ok&#123;</span><br><span class="line">                <span class="keyword">for</span> _, numIdx := <span class="keyword">range</span> lis &#123;</span><br><span class="line">                    freq[numIdx]--</span><br><span class="line">                    <span class="keyword">if</span> freq[numIdx] &lt; <span class="number">1</span> &#123;</span><br><span class="line">                        count--</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸Šé¢çš„è§£æ³•å¹¶ä¸æ˜¯æœ€å¥½çš„è§£æ³•ï¼Œæ²¡æœ‰ç”¨åˆ°æœ‰åºçš„æ¡ä»¶ï¼Œæ¯”è¾ƒå¥½çš„è§£æ³•åº”è¯¥æ˜¯å°æ ¹å †ï¼ˆæœ¬æ¥æ‰“ç®—ç”¨Goæ’¸ä¸€ä¸ªçš„ï¼Œå†™ä¸€åŠæ„Ÿè§‰å¤ªéº»çƒ¦äº†ï¼Œä¸è¿‡æ•´ä½“å°æ ¹å †çš„é€»è¾‘å®ç°æ˜¯å¯¹çš„ï¼Œå°±æ˜¯æ²¡æœ‰æ³›å‹è¦æ”¹å¾ˆå¤šä¸œè¥¿ï¼Œä¸å¤ªæ–¹ä¾¿ï¼‰<br><img src="https://i.loli.net/2020/11/30/Q5KsxNi3MquZtWE.png"><br>ç»´æŠ¤ä¸¤ä¸ªæœ€å€¼ï¼Œä¸€ä¸ªæ˜¯æ‰¾åˆ°ä¸€ä¸ªèƒ½è¦†ç›–å½“å‰æ‰€æœ‰åˆ—è¡¨çš„æœ€å°çš„å³ç«¯ç‚¹ï¼ˆmaxï¼‰ï¼Œä¸€ä¸ªæ˜¯å½“å‰åˆ—è¡¨æœ€å°çš„é‚£ä¸ªå…ƒç´ ï¼ˆæœ€å·¦çš„ç«¯ç‚¹ï¼‰ï¼Œç„¶åä¸æ–­ç¼©å‡å·¦ç«¯ç‚¹æ±‚æœ€å°åŒºé—´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span> <span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">        <span class="keyword">this</span>.j = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//kç»„é“¾è¡¨ï¼Œå¹³å‡mä¸ªå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(kmlog(k))</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] smallestRange(List&lt;List&lt;Integer&gt;&gt; nums) &#123;</span><br><span class="line">    PriorityQueue&lt;Node&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; nums.get(a.i).get(a.j)-nums.get(b.i).get(b.j));</span><br><span class="line">    <span class="keyword">int</span> INF = (<span class="keyword">int</span>) <span class="number">1e5</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        pq.add(<span class="keyword">new</span> Node(i, <span class="number">0</span>));</span><br><span class="line">        max = Math.max(max, nums.get(i).get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> [] res = &#123;-INF, INF&#125;;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        Node cur = pq.poll();</span><br><span class="line">        <span class="comment">//åº”è¯¥æŠŠvalä¹Ÿå­˜è¿›å»çš„ï¼Œæ‡’å¾—æ”¹äº†</span></span><br><span class="line">        <span class="keyword">if</span> (max-nums.get(cur.i).get(cur.j) &lt; res[<span class="number">1</span>]-res[<span class="number">0</span>]) &#123;</span><br><span class="line">            res[<span class="number">0</span>] = nums.get(cur.i).get(cur.j);</span><br><span class="line">            res[<span class="number">1</span>] = max;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur.j+<span class="number">1</span> &gt;= nums.get(cur.i).size()) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pq.add(<span class="keyword">new</span> Node(cur.i, cur.j+<span class="number">1</span>));</span><br><span class="line">        max = Math.max(max, nums.get(cur.i).get(cur.j+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="438-æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"><a href="#438-æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯" class="headerlink" title="438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"></a><a href="https://leetcode-cn.com/problems/find-all-anagrams-in-a-string/" target="_blank" rel="noopener">438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</a></h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <strong>s</strong> å’Œä¸€ä¸ªéç©ºå­—ç¬¦ä¸² <strong>p</strong>ï¼Œæ‰¾åˆ° <strong>s</strong> ä¸­æ‰€æœ‰æ˜¯ <strong>p</strong> çš„å­—æ¯å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚</p>
<p>å­—ç¬¦ä¸²åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œå¹¶ä¸”å­—ç¬¦ä¸² <strong>s</strong> å’Œ <strong>p</strong> çš„é•¿åº¦éƒ½ä¸è¶…è¿‡ 20100ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å­—æ¯å¼‚ä½è¯æŒ‡å­—æ¯ç›¸åŒï¼Œä½†æ’åˆ—ä¸åŒçš„å­—ç¬¦ä¸²ã€‚</li>
<li>ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s: <span class="string">"cbaebabacd"</span> p: <span class="string">"abc"</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line">[<span class="number">0</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Š:</span><br><span class="line">èµ·å§‹ç´¢å¼•ç­‰äº <span class="number">0</span> çš„å­ä¸²æ˜¯ <span class="string">"cba"</span>, å®ƒæ˜¯ <span class="string">"abc"</span> çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br><span class="line">èµ·å§‹ç´¢å¼•ç­‰äº <span class="number">6</span> çš„å­ä¸²æ˜¯ <span class="string">"bac"</span>, å®ƒæ˜¯ <span class="string">"abc"</span> çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br></pre></td></tr></table></figure>

<p> <strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s: <span class="string">"abab"</span> p: <span class="string">"ab"</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">è§£é‡Š:</span><br><span class="line">èµ·å§‹ç´¢å¼•ç­‰äº <span class="number">0</span> çš„å­ä¸²æ˜¯ <span class="string">"ab"</span>, å®ƒæ˜¯ <span class="string">"ab"</span> çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br><span class="line">èµ·å§‹ç´¢å¼•ç­‰äº <span class="number">1</span> çš„å­ä¸²æ˜¯ <span class="string">"ba"</span>, å®ƒæ˜¯ <span class="string">"ab"</span> çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br><span class="line">èµ·å§‹ç´¢å¼•ç­‰äº <span class="number">2</span> çš„å­ä¸²æ˜¯ <span class="string">"ab"</span>, å®ƒæ˜¯ <span class="string">"ab"</span> çš„å­—æ¯å¼‚ä½è¯ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å’Œä¸Šé¢ä¸€é¢˜å…¶å®ä¸€æ ·ï¼Œåªæ˜¯è¿™é‡Œè¦æ±‚æ˜¯è¿ç»­çš„ï¼Œåœ¨ä¸Šé¢ä¸€é¢˜çš„åŸºç¡€ä¸Šåœ¨æ·»åŠ ç»“æœçš„æ—¶å€™åˆ¤æ–­ä¸‹é•¿åº¦å°±OK</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findAnagrams</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] target=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span>[] window=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> plen=p.length();</span><br><span class="line">    <span class="keyword">int</span> slen=s.length();</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>,match=<span class="number">0</span>;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> ArraysList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;plen;i++) &#123;</span><br><span class="line">        target[p.charAt(i)]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a:target) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a!=<span class="number">0</span>)&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(r&lt;slen)&#123;</span><br><span class="line">        <span class="keyword">char</span> right=s.charAt(r);</span><br><span class="line">        <span class="keyword">if</span> (target[right]!=<span class="number">0</span>) &#123;</span><br><span class="line">            window[right]++;</span><br><span class="line">            <span class="keyword">if</span> (window[right]==target[right]) &#123;</span><br><span class="line">                match++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        r++;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;r &amp;&amp; count==match)&#123;</span><br><span class="line">            <span class="keyword">char</span> left=s.charAt(l);</span><br><span class="line">            <span class="keyword">if</span> (r-l==res) &#123;</span><br><span class="line">                res.add(l);</span><br><span class="line">            &#125;</span><br><span class="line">            l++;</span><br><span class="line">            <span class="keyword">if</span> (target[left]!=<span class="number">0</span>) &#123;</span><br><span class="line">                window[left]--;</span><br><span class="line">                <span class="comment">//ä¸æ»¡è¶³äº†</span></span><br><span class="line">                <span class="keyword">if</span> (window[left]&lt;target[left]) &#123;</span><br><span class="line">                    match--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>UPDATE:2020.7.23</strong></p>
<p>ç”¨æ¨¡æ¿é‡å†™äº†ä¸‹</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findAnagrams</span><span class="params">(s <span class="keyword">string</span>, p <span class="keyword">string</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> target = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">128</span>)</span><br><span class="line">    <span class="keyword">var</span> window = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">128</span>)</span><br><span class="line">    <span class="keyword">var</span> match = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, sp := <span class="keyword">range</span> p &#123;</span><br><span class="line">        <span class="keyword">if</span> target[sp] == <span class="number">0</span> &#123;</span><br><span class="line">            match++</span><br><span class="line">        &#125;</span><br><span class="line">        target[sp]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> res []<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(s); right++ &#123;</span><br><span class="line">        <span class="keyword">if</span> target[s[right]] &gt; <span class="number">0</span> &#123;</span><br><span class="line">            window[s[right]]++</span><br><span class="line">            <span class="keyword">if</span> window[s[right]] == target[s[right]] &#123;</span><br><span class="line">                count++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> count == match &amp;&amp; left &lt;= right &#123;</span><br><span class="line">            <span class="keyword">if</span> right-left+<span class="number">1</span> == <span class="built_in">len</span>(p) &#123;</span><br><span class="line">                res = <span class="built_in">append</span>(res, left)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> window[s[left]] &gt; <span class="number">0</span> &#123;</span><br><span class="line">                window[s[left]]--</span><br><span class="line">                <span class="keyword">if</span> window[s[left]] &lt; target[s[left]] &#123;</span><br><span class="line">                    count--</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>15msï¼Œ86%æ—¶é—´å¤æ‚åº¦<code>O(M+N)</code>ï¼Œå…¶å®æ˜¯å®Œå…¨å¥—çš„ä¹‹å‰æœ€å°è¦†ç›–å­ä¸²çš„æ¨¡æ¿ï¼Œä¸å¦‚è‚¯å®šä¸å¥½å†™è¿™ä¹ˆé•¿</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ­£å¸¸çš„åšæ³•ï¼Œå®é™…ä¸Šä¸Šé¢çš„è§£æ³•ä¸€ç›´åœ¨é¿å…ç›´æ¥æ¯”è¾ƒtargetå’Œwindowï¼Œä½†æ˜¯å®é™…ä¸Šæ¯”è¾ƒè¿™ä¸¤ä¸ªæ•°ç»„çš„æˆæœ¬æ˜¯å¾ˆä½çš„ï¼Œä¸¤ä¸ªæ•°ç»„é•¿åº¦å›ºå®šï¼Œæ¯”è¾ƒæ—¶é—´å¤æ‚åº¦O(1)ï¼Œå…·ä½“æƒ…å†µå…·ä½“åˆ†æï¼Œä¸è¿‡å¥—æ¨¡æ¿å‡ ä¹æ˜¯é€šç”¨çš„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findAnagrams</span><span class="params">(s <span class="keyword">string</span>, p <span class="keyword">string</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">    <span class="comment">//-'a'çœ‹èµ·æ¥å¤ªä¸‘äº†ï¼Œç›´æ¥128</span></span><br><span class="line">    <span class="keyword">var</span> target [<span class="number">128</span>]<span class="keyword">int</span> <span class="comment">//æ³¨æ„ç”¨æ•°ç»„ï¼Œå¯ä»¥ç›´æ¥æ¯”è¾ƒ</span></span><br><span class="line">    <span class="keyword">var</span> window [<span class="number">128</span>]<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> _, sp := <span class="keyword">range</span> p &#123;</span><br><span class="line">        target[sp]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> res []<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(s); right++ &#123;</span><br><span class="line">        <span class="keyword">if</span> target[s[right]] &gt; <span class="number">0</span> &#123;</span><br><span class="line">            window[s[right]]++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> right-left+<span class="number">1</span> &gt; <span class="built_in">len</span>(p) &#123;</span><br><span class="line">            <span class="keyword">if</span> window[s[left]] &gt; <span class="number">0</span> &#123;</span><br><span class="line">                window[s[left]]--</span><br><span class="line">            &#125;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> window == target &#123;</span><br><span class="line">            res = <span class="built_in">append</span>(res, left)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="567-å­—ç¬¦ä¸²çš„æ’åˆ—"><a href="#567-å­—ç¬¦ä¸²çš„æ’åˆ—" class="headerlink" title="567. å­—ç¬¦ä¸²çš„æ’åˆ—"></a><a href="https://leetcode-cn.com/problems/permutation-in-string/" target="_blank" rel="noopener">567. å­—ç¬¦ä¸²çš„æ’åˆ—</a></h2><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <strong>s1</strong> å’Œ <strong>s2</strong>ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ <strong>s2</strong> æ˜¯å¦åŒ…å« <strong>s1</strong> çš„æ’åˆ—ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ’åˆ—ä¹‹ä¸€æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„å­ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s1 = <span class="string">"ab"</span> s2 = <span class="string">"eidbaooo"</span></span><br><span class="line">è¾“å‡º: True</span><br><span class="line">è§£é‡Š: s2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ (<span class="string">"ba"</span>).</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: s1= <span class="string">"ab"</span> s2 = <span class="string">"eidboaoo"</span></span><br><span class="line">è¾“å‡º: False</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>è¾“å…¥çš„å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯</li>
<li>ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦éƒ½åœ¨ [1, 10,000] ä¹‹é—´</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®æ˜¯ <a href="#76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2">76.æœ€å°è¦†ç›–å­ä¸²</a> çš„å¼±åŒ–ç‰ˆæœ¬ï¼Œå¥—è·¯æ»‘çª—ï¼Œä½†æ˜¯æœ‰ä¸€äº›ç»†èŠ‚éœ€è¦æ³¨æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkInclusion</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s1==<span class="keyword">null</span> || s2==<span class="keyword">null</span> || s1.length()&gt;s2.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n1=s1.length();</span><br><span class="line">    <span class="keyword">int</span> n2=s2.length();</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n1;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> c=s1.charAt(i)-<span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(freq[c]==<span class="number">0</span>)&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        freq[c]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] window=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> match=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n2;right++)&#123;</span><br><span class="line">        <span class="keyword">int</span> cr=s2.charAt(right)-<span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(freq[cr]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            window[cr]++;</span><br><span class="line">            <span class="keyword">if</span>(window[cr]==freq[cr])&#123;</span><br><span class="line">                match++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right-left+<span class="number">1</span>&gt;n1)&#123;</span><br><span class="line">            <span class="keyword">int</span> cl=s2.charAt(left)-<span class="string">'a'</span>;</span><br><span class="line">            <span class="keyword">if</span>(freq[cl]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">//WAç‚¹ï¼Œå¼€å§‹å†™é”™äº†</span></span><br><span class="line">                <span class="comment">//window[cl]--;</span></span><br><span class="line">                <span class="keyword">if</span>(window[cl]==freq[cl])&#123;</span><br><span class="line">                    match--; <span class="comment">//match--çš„å‰ææ˜¯åŸæœ¬æ˜¯åŒ¹é…çš„</span></span><br><span class="line">                &#125;</span><br><span class="line">                window[cl]--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(match==count)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€å¼€å§‹å†™å®Œäº†ï¼Œæµ‹è¯•äº†ç”¨ä¾‹å‘ç°éƒ½æ˜¯å¯¹çš„ï¼Œå¿ƒé‡Œä¸€å–œï¼Œéš¾é“åˆbugfreeäº†ï¼Ÿæäº¤ï¼Œç»“æœè¿˜æ˜¯WAäº†ğŸ¤£ï¼Œdebugäº†åŠå¤©ï¼Œæ ¹æ®é”™è¯¯çš„å“ªä¸ªé•¿caseè‡ªå·±æ„é€ äº†ä¸€ä¸ªçŸ­caseï¼ˆé•¿çš„ä¸å¥½debugï¼‰ï¼Œç„¶åå‘ç°äº†é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘çœ‹è§è¯„è®ºåŒºä¹Ÿæœ‰äººé—®åˆ°ï¼Œé¡ºæ‰‹è¿˜å›äº†ä¸€ä¸‹ğŸ˜ï¼Œå…¶å®é”™è¯¯çš„åŸå› å°±æ˜¯å¥—æ¨¡æ¿æ²¡å¥—å¥½ï¼Œæ²¡ç†è§£æ¨¡æ¿çš„ç»†èŠ‚</p>
<p>è¿™é‡Œçš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯<code>match--</code>çš„æ—¶å€™æœ‰ä¸€ä¸ªå¤§å‰æï¼š<code>cl</code>å­—ç¬¦å·²ç»åŒ¹é…å¥½äº†ï¼Œä¹Ÿå°±æ˜¯<code>window[cl]==freq[cl]</code></p>
<p>è¿™ä¸ªæ—¶å€™ä½ <code>left++</code>å°†<code>cl</code>ç§»é™¤çª—å£ï¼Œæ‰èƒ½åš<code>match--</code>æ“ä½œï¼Œå¦åˆ™åƒä¹‹å‰çš„æ¨¡æ¿ä¸­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (target[left]!=<span class="number">0</span>) &#123;</span><br><span class="line">    window[left]--;</span><br><span class="line">    <span class="comment">//ä¸æ»¡è¶³äº†</span></span><br><span class="line">    <span class="keyword">if</span> (window[left]&lt;target[left]) &#123;</span><br><span class="line">        match--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†™å°±æœ‰å¯èƒ½window[left]è¿˜æ²¡æœ‰åŒ¹é…ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ç›´æ¥å‡å°±é”™äº†ï¼Œä¹‹å‰çš„æ¨¡æ¿ä¸­ç¼©åœˆéƒ½æ˜¯åœ¨match==countçš„å‰æä¸‹ç¼©åœˆçš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ï¼Œéƒ½æ˜¯åŒ¹é…çš„ï¼Œå…¶å®ä¹Ÿå¯ä»¥åƒä¹‹å‰çš„æ¨¡æ¿ä¸€æ ·å†™ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkInclusion</span><span class="params">(String s1, String s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s1==<span class="keyword">null</span> || s2==<span class="keyword">null</span> || s1.length()&gt;s2.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n1=s1.length();</span><br><span class="line">    <span class="keyword">int</span> n2=s2.length();</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n1;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> c=s1.charAt(i)-<span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(freq[c]==<span class="number">0</span>)&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        freq[c]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] window=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> match=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n2;right++)&#123;</span><br><span class="line">        <span class="keyword">int</span> cr=s2.charAt(right)-<span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(freq[cr]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            window[cr]++;</span><br><span class="line">            <span class="keyword">if</span>(window[cr]==freq[cr])&#123;</span><br><span class="line">                match++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//****************************</span></span><br><span class="line">        <span class="comment">//ä¸»è¦å°±æ˜¯è¿™é‡Œä¸ä¸€æ ·</span></span><br><span class="line">        <span class="keyword">while</span>(match==count)&#123;</span><br><span class="line">            <span class="keyword">if</span>(right-left+<span class="number">1</span>==n1) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">int</span> cl=s2.charAt(left)-<span class="string">'a'</span>;</span><br><span class="line">            <span class="keyword">if</span>(freq[cl]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                window[cl]--;</span><br><span class="line">                <span class="keyword">if</span>(window[cl]&lt;freq[cl])&#123;</span><br><span class="line">                    match--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//****************************</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±ä¸ç”¨è€ƒè™‘å…ˆå‡è¿˜æ˜¯åå‡çš„é—®é¢˜äº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™é¢˜å…¶å®è¿˜å¯ä»¥æš´åŠ›åšï¼Œçª—å£å¤§å°å›ºå®šï¼Œæ¯æ»‘åŠ¨ä¸€æ¬¡å°±åˆ¤æ–­çª—å£å’Œ<code>freq</code>æ˜¯ä¸æ˜¯ç›¸ç­‰ï¼Œå› ä¸ºé¢˜ç›®è¯´äº†éƒ½æ˜¯å°å†™å­—æ¯æ‰€ä»¥ä¹Ÿæ˜¯è¡Œå¾—é€šçš„ï¼Œåªæ˜¯å¸¸æ•°ä¼šå¤§ä¸€äº›ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†™äº†ï¼Œç¬”è¯•æ¨èè¿™æ ·å†™ï¼Œä»£ç å¥½å†™ä¸€ç‚¹</p>
<h2 id="é¢è¯•é¢˜-17-18-æœ€çŸ­è¶…ä¸²"><a href="#é¢è¯•é¢˜-17-18-æœ€çŸ­è¶…ä¸²" class="headerlink" title="é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²"></a><a href="https://leetcode-cn.com/problems/shortest-supersequence-lcci/" target="_blank" rel="noopener">é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²</a></h2><p>å‡è®¾ä½ æœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªé•¿ä¸€ä¸ªçŸ­ï¼ŒçŸ­çš„å…ƒç´ å‡ä¸ç›¸åŒã€‚æ‰¾åˆ°é•¿æ•°ç»„ä¸­åŒ…å«çŸ­æ•°ç»„æ‰€æœ‰çš„å…ƒç´ çš„æœ€çŸ­å­æ•°ç»„ï¼Œå…¶å‡ºç°é¡ºåºæ— å…³ç´§è¦ã€‚</p>
<p>è¿”å›æœ€çŸ­å­æ•°ç»„çš„å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹ï¼Œå¦‚æœ‰å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å›å·¦ç«¯ç‚¹æœ€å°çš„ä¸€ä¸ªã€‚è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">big = [<span class="number">7</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">7</span>]</span><br><span class="line">small = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">7</span>,<span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">big = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">small = [<span class="number">4</span>]</span><br><span class="line">è¾“å‡º: []</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>big.length &lt;= 100000</code></li>
<li><code>1 &lt;= small.length &lt;= 100000</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¹Ÿæ˜¯å±äº <a href="#76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2">76.æœ€å°è¦†ç›–å­ä¸²</a>çš„å¼±åŒ–ï¼Œè™½ç„¶è§£æ³•éƒ½ä¸€æ ·ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæ³¨æ„ç»†èŠ‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ²¡å•¥å¥½è¯´çš„ï¼Œå¥—æ¨¡æ¿å°±è¡Œäº†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] shortestSeq(<span class="keyword">int</span>[] big, <span class="keyword">int</span>[] small) &#123;</span><br><span class="line">    <span class="keyword">if</span>(big==<span class="keyword">null</span> || big.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> slen=small.length;</span><br><span class="line">    <span class="keyword">int</span> blen=big.length;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    res[<span class="number">0</span>]=-<span class="number">1</span>;res[<span class="number">1</span>]=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">    HashSet&lt;Integer&gt; set=<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i:small) set.add(i);</span><br><span class="line">    HashMap&lt;Integer,Integer&gt; window=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> match=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;blen;right++)&#123;</span><br><span class="line">        <span class="keyword">int</span> wr=big[right];</span><br><span class="line">        <span class="keyword">if</span>(set.contains(wr))&#123;</span><br><span class="line">            window.put(wr,window.getOrDefault(wr,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(window.get(wr)==<span class="number">1</span>)&#123;</span><br><span class="line">                match++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(match==slen)&#123;</span><br><span class="line">            <span class="keyword">if</span>(right-left+<span class="number">1</span>&lt;min)&#123;</span><br><span class="line">                res[<span class="number">0</span>]=left;</span><br><span class="line">                res[<span class="number">1</span>]=right;</span><br><span class="line">                min=right-left+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> wl=big[left];</span><br><span class="line">            <span class="keyword">if</span>(set.contains(wl))&#123;</span><br><span class="line">                window.put(wl,window.get(wl)-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(window.get(wl)==<span class="number">0</span>)&#123;</span><br><span class="line">                    match--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>]==-<span class="number">1</span>?<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>]:res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1004-æœ€å¤§è¿ç»­1çš„ä¸ªæ•°-III"><a href="#1004-æœ€å¤§è¿ç»­1çš„ä¸ªæ•°-III" class="headerlink" title="1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III"></a><a href="https://leetcode-cn.com/problems/max-consecutive-ones-iii/" target="_blank" rel="noopener">1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III</a></h2><p>ç»™å®šä¸€ä¸ªç”±è‹¥å¹² <code>0</code> å’Œ <code>1</code> ç»„æˆçš„æ•°ç»„ <code>A</code>ï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥å°† <code>K</code> ä¸ªå€¼ä» 0 å˜æˆ 1 ã€‚</p>
<p>è¿”å›ä»…åŒ…å« 1 çš„æœ€é•¿ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>], K = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">ç²—ä½“æ•°å­—ä» <span class="number">0</span> ç¿»è½¬åˆ° <span class="number">1</span>ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º <span class="number">6</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], K = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">10</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">ç²—ä½“æ•°å­—ä» <span class="number">0</span> ç¿»è½¬åˆ° <span class="number">1</span>ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º <span class="number">10</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= A.length &lt;= 20000</code></li>
<li><code>0 &lt;= K &lt;= A.length</code></li>
<li><code>A[i]</code> ä¸º <code>0</code> æˆ– <code>1</code> </li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®ä¸‹é¢ä¸€é¢˜<a href="#424-%E6%9B%BF%E6%8D%A2%E5%90%8E%E7%9A%84%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</a>çš„å¼±åŒ–ç‰ˆæœ¬</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç®€å•çš„æ»‘çª—</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestOnes</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(A==<span class="keyword">null</span> || A.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> N=A.length;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,res=<span class="number">0</span>,countA=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;N;right++)&#123;</span><br><span class="line">        countA+=(A[right]&amp;<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//ifä¹Ÿå¯ä»¥ï¼Œä¸ªäººå–œæ¬¢whileé€šç”¨æ€§æ›´å¼º</span></span><br><span class="line">        <span class="keyword">while</span>(right-left+<span class="number">1</span>-countA&gt;K)&#123; </span><br><span class="line">            countA-=(A[left++]&amp;<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§æ¨¡æ¿æ¥å†™ç®€ç›´æ˜¯ä¿¡æ‰‹æ‹ˆæ¥ï¼ˆå…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ¨¡æ¿ï¼Œå°±æ˜¯è§„èŒƒäº†å†™æ³•è€Œå·²ï¼‰</p>
<h2 id="5434-åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º-1-çš„æœ€é•¿å­æ•°ç»„"><a href="#5434-åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º-1-çš„æœ€é•¿å­æ•°ç»„" class="headerlink" title="5434. åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º 1 çš„æœ€é•¿å­æ•°ç»„"></a><a href="https://leetcode-cn.com/problems/longest-subarray-of-1s-after-deleting-one-element/" target="_blank" rel="noopener">5434. åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º 1 çš„æœ€é•¿å­æ•°ç»„</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„Â <code>nums</code>Â ï¼Œä½ éœ€è¦ä»ä¸­åˆ æ‰ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>è¯·ä½ åœ¨åˆ æ‰å…ƒç´ çš„ç»“æœæ•°ç»„ä¸­ï¼Œè¿”å›æœ€é•¿çš„ä¸”åªåŒ…å« 1 çš„éç©ºå­æ•°ç»„çš„é•¿åº¦ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­æ•°ç»„ï¼Œè¯·è¿”å› 0 ã€‚</p>
<p><strong>æç¤º 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šåˆ æ‰ä½ç½® <span class="number">2</span> çš„æ•°åï¼Œ[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>] åŒ…å« <span class="number">3</span> ä¸ª <span class="number">1</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šåˆ æ‰ä½ç½® <span class="number">4</span> çš„æ•°å­—åï¼Œ[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>] çš„æœ€é•¿å…¨ <span class="number">1</span> å­æ•°ç»„ä¸º [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums &#x3D; [1,1,1]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä½ å¿…é¡»è¦åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  <code>1 &lt;= nums.length &lt;= 10^5</code></li>
<li>  <code>nums[i]</code>Â è¦ä¹ˆæ˜¯Â <code>0</code>Â è¦ä¹ˆæ˜¯Â <code>1</code> ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>29thåŒå‘¨èµ›çš„t3ï¼Œç§’åˆ‡ï¼Œå…¶å®æ˜¯ä¸Šä¸€é¢˜<a href="#1004-%E6%9C%80%E5%A4%A7%E8%BF%9E%E7%BB%AD1%E7%9A%84%E4%B8%AA%E6%95%B0-iii">1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III</a>çš„å¼±åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Â  Â <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestSubarray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">Â  Â  Â  Â <span class="keyword">int</span> res=<span class="number">0</span>, sum=<span class="number">0</span>;</span><br><span class="line">Â  Â  Â  Â <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">Â  Â  Â  Â <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;nums.length;right++)&#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â sum+=(nums[right]&amp;<span class="number">1</span>);</span><br><span class="line">Â  Â  Â  Â  Â  Â <span class="comment">//åŒºé—´å’Œå°äºright-left-1è¯´æ˜ä¸­é—´ä¸æ­¢ä¸€ä¸ª0éœ€è¦ç¼©å‡çª—å£</span></span><br><span class="line">Â  Â  Â  Â  Â  Â <span class="keyword">while</span>(left&lt;right &amp;&amp; sum&lt;= right-left-<span class="number">1</span>)&#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â <span class="keyword">if</span>(nums[left] == <span class="number">1</span>)&#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â sum--;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â   &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â left++;</span><br><span class="line">Â  Â  Â  Â  Â   &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â <span class="comment">//è‡³å°‘åˆ é™¤ä¸€ä¸ªï¼Œæ‰€ä»¥ä¸ç”¨+1</span></span><br><span class="line">Â  Â  Â  Â  Â  Â res = Math.max(res,right-left);</span><br><span class="line">Â  Â  Â   &#125;</span><br><span class="line">Â  Â  Â  Â <span class="keyword">return</span> res;</span><br><span class="line">Â   &#125;</span><br></pre></td></tr></table></figure>
<p>å¾ˆå¯æƒœè¿™æ¬¡å‰3é¢˜15åˆ†é’Ÿå°±åšå®Œäº†ï¼Œéƒ½æ˜¯ç›´æ¥webä¸Šå†™çš„ï¼Œæœ¬ä»¥ä¸ºæœ‰æœºä¼šAKï¼Œæœ€åä¸€é¢˜æäº†åŠå¤©æœ€åäº¤äº†ä¸€å‘è¿˜æ˜¯æ²¡è¿‡ï¼Œè²Œä¼¼å¾ˆå¤šäººå†™äº†å‡ç®—æ³•ï¼Œè´ªå¿ƒè½è¿‡äº†ï¼ˆlcæ•°æ®å¤ªå¼±äº†ï¼‰<br><img src="https://upload.cc/i1/2020/06/28/mhTiQ9.png" alt="UTOOLS1593333299362.png"></p>
<h2 id="424-æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦"><a href="#424-æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦" class="headerlink" title="424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦"></a><a href="https://leetcode-cn.com/problems/longest-repeating-character-replacement/" target="_blank" rel="noopener">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</a></h2><p>ç»™ä½ ä¸€ä¸ªä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥å°†ä»»æ„ä½ç½®ä¸Šçš„å­—ç¬¦æ›¿æ¢æˆå¦å¤–çš„å­—ç¬¦ï¼Œæ€»å…±å¯æœ€å¤šæ›¿æ¢ k æ¬¡ã€‚åœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œåï¼Œæ‰¾åˆ°åŒ…å«é‡å¤å­—æ¯çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚</p>
<p><strong>æ³¨æ„:</strong><br>å­—ç¬¦ä¸²é•¿åº¦ å’Œ k ä¸ä¼šè¶…è¿‡ 104ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = <span class="string">"ABAB"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">4</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">ç”¨ä¸¤ä¸ª<span class="string">'A'</span>æ›¿æ¢ä¸ºä¸¤ä¸ª<span class="string">'B'</span>,åä¹‹äº¦ç„¶ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = <span class="string">"AABABBA"</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡º:</span><br><span class="line"><span class="number">4</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">å°†ä¸­é—´çš„ä¸€ä¸ª<span class="string">'A'</span>æ›¿æ¢ä¸º<span class="string">'B'</span>,å­—ç¬¦ä¸²å˜ä¸º <span class="string">"AABBBBA"</span></span><br><span class="line">å­ä¸² <span class="string">"BBBB"</span> æœ‰æœ€é•¿é‡å¤å­—æ¯, ç­”æ¡ˆä¸º <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸Šé¢ä¸€é¢˜çš„åŠ å¼ºç‰ˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">characterReplacement</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>, start = <span class="number">0</span>, end = <span class="number">0</span>, cur = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (end &lt; s.length()) &#123;</span><br><span class="line">        <span class="comment">//å½“å‰çª—å£å‡ºç°æœ€å¤šçš„å­—ç¬¦</span></span><br><span class="line">        cur = Math.max(cur, ++count[s.charAt(end)]);</span><br><span class="line">        <span class="comment">//ä¸èƒ½æ›¿æ¢äº†,ä¸åŒå­—ç¬¦å¤ªå¤šäº†,éœ€è¦ç¼©å‡çª—å£</span></span><br><span class="line">        <span class="keyword">while</span> (end - start + <span class="number">1</span> - cur &gt; k)&#123;</span><br><span class="line">            <span class="comment">//ç¼©å‡å·¦è¾¹ç•Œçš„count</span></span><br><span class="line">            count[s.charAt(start)]--;</span><br><span class="line">            start++;<span class="comment">//ä¸èƒ½æ›¿æ¢äº†ï¼Œstart++</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡æœ€å¤§å€¼</span></span><br><span class="line">        max = Math.max(max, end - start + <span class="number">1</span>);</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UPDATE: (2020.5.5)</strong></p>
<p>æŒ‰ç…§æ¨¡æ¿é‡å†™ï¼Œæœç„¶æ»‘çª—çš„é¢˜éƒ½æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">characterReplacement</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">int</span> maxFreq=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n;right++)&#123;</span><br><span class="line">        <span class="keyword">char</span> c=s.charAt(right);</span><br><span class="line">        freq[c]++;</span><br><span class="line">        maxFreq=Math.max(maxFreq,freq[c]);</span><br><span class="line">        <span class="keyword">while</span>((right-left+<span class="number">1</span>-maxFreq)&gt;k)&#123;</span><br><span class="line">            freq[s.charAt(left)]--;</span><br><span class="line">            left++; <span class="comment">//è¿™é‡Œå®é™…ä¸Šåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ”¹æˆifä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡ä¸ºäº†ç»Ÿä¸€å†™æ³•å°±ä¸æ”¹äº†</span></span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,right-left+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡å†™è¿™é¢˜çš„æ—¶å€™å‘ç°è¿™é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œè¿™ä¸ªé‡Œé¢çš„<code>maxFreq</code>æ˜¯ä¸€ä¸ªåªå¢ä¸å‡çš„é‡ï¼Œæ˜¯ä¸€ä¸ªå†å²æœ€å¤§å€¼ï¼Œåªæœ‰å½“å‡ºç°æ›´å¤§çš„freqçš„æ—¶å€™æ‰ä¼šæ›´æ–°<code>maxFreq</code>ï¼Œå½“<code>maxFreq</code>ä¿æŒä¸å˜çš„æ—¶å€™ç»“æœä¸ä¼šå—åˆ°å½±å“ï¼Œåªæœ‰å‡ºç°äº†æ›´å¤§freqçš„æ—¶å€™æ‰æœ‰å¯èƒ½ä¼šä½¿ç»“æœå˜å¤§</p>
<blockquote>
<p><a href="https://leetcode-cn.com/problems/longest-repeating-character-replacement/solution/hua-dong-chuang-kou-chang-gui-tao-lu-by-xiaoneng/" target="_blank" rel="noopener">æ‹·è´è‡ªé¢˜è§£åŒº</a> </p>
<p>å› ä¸ºæˆ‘ä»¬åªå¯¹æœ€é•¿æœ‰æ•ˆçš„å­å­—ç¬¦ä¸²æ„Ÿå…´è¶£ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ»‘åŠ¨çª—å£ä¸éœ€è¦æ”¶ç¼©ï¼Œå³ä½¿çª—å£å¯èƒ½è¦†ç›–æ— æ•ˆçš„å­å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å³è¾¹æ·»åŠ ä¸€ä¸ªå­—ç¬¦æ¥æ‰©å±•çª—å£ï¼Œæˆ–è€…å°†æ•´ä¸ªçª—å£å‘å³è¾¹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ã€‚è€Œä¸”æˆ‘ä»¬åªåœ¨æ–°å­—ç¬¦çš„è®¡æ•°è¶…è¿‡å†å²æœ€å¤§è®¡æ•°(æ¥è‡ªè¦†ç›–æœ‰æ•ˆå­å­—ç¬¦ä¸²çš„å‰ä¸€ä¸ªçª—å£)æ—¶æ‰å¢é•¿çª—å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç²¾ç¡®çš„å½“å‰çª—å£çš„æœ€å¤§è®¡æ•°;æˆ‘ä»¬åªå…³å¿ƒæœ€å¤§è®¡æ•°æ˜¯å¦è¶…è¿‡å†å²æœ€å¤§è®¡æ•°;è¿™åªä¼šå› ä¸ºæ–°å­—ç¬¦è€Œå‘ç”Ÿã€‚</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ†¨æ†¨çš„è§£æ³•ï¼Œä¸è¿‡ç»å¯¹æ˜¯èƒ½ACçš„ï¼Œæ—¶é—´å¤æ‚åº¦å¹¶æ²¡æœ‰é—®é¢˜ï¼Œä¾ç„¶æ˜¯<code>O(N)</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">characterReplacement</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c=<span class="string">'A'</span>;c&lt;=<span class="string">'Z'</span>;c++)&#123;</span><br><span class="line">        <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">        <span class="keyword">int</span> temp=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n;right++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(right)==c)&#123;</span><br><span class="line">                freq[c]++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>((right-left+<span class="number">1</span>-freq[c])&gt;k)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(left)==c)&#123;</span><br><span class="line">                    freq[c]--;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            temp=Math.max(temp,right-left+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,temp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¢ç„¶é¢˜ç›®è¯´äº†åªæœ‰å¤§å†™å­—æ¯ï¼Œé‚£å°±ç›´æ¥æšä¸¾æ‰€æœ‰çš„å­—ç¬¦ç„¶åæ»‘çª—å°±è¡Œäº†ğŸ˜‚ï¼Œç®€å•ç›´ç™½</p>
<h2 id="1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²"><a href="#1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²" class="headerlink" title="1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²"></a><a href="https://leetcode-cn.com/problems/replace-the-substring-for-balanced-string/" target="_blank" rel="noopener">1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²</a></h2><p>æœ‰ä¸€ä¸ªåªå«æœ‰ <code>&#39;Q&#39;, &#39;W&#39;, &#39;E&#39;, &#39;R&#39;</code> å››ç§å­—ç¬¦ï¼Œä¸”é•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ã€‚</p>
<p>å‡å¦‚åœ¨è¯¥å­—ç¬¦ä¸²ä¸­ï¼Œè¿™å››ä¸ªå­—ç¬¦éƒ½æ°å¥½å‡ºç° <code>n/4</code> æ¬¡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªè¿™æ ·çš„å­—ç¬¦ä¸² <code>s</code>ï¼Œè¯·é€šè¿‡ã€Œæ›¿æ¢å­ä¸²ã€çš„æ–¹å¼ï¼Œä½¿åŸå­—ç¬¦ä¸² s å˜æˆä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ã€‚</p>
<p>ä½ å¯ä»¥ç”¨å’Œã€Œå¾…æ›¿æ¢å­ä¸²ã€é•¿åº¦ç›¸åŒçš„ ä»»ä½• å…¶ä»–å­—ç¬¦ä¸²æ¥å®Œæˆæ›¿æ¢ã€‚</p>
<p>è¯·è¿”å›å¾…æ›¿æ¢å­ä¸²çš„æœ€å°å¯èƒ½é•¿åº¦ã€‚</p>
<p>å¦‚æœåŸå­—ç¬¦ä¸²è‡ªèº«å°±æ˜¯ä¸€ä¸ªå¹³è¡¡å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› 0 </p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"QWER"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šs å·²ç»æ˜¯å¹³è¡¡çš„äº†ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"QQWE"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ª <span class="string">'Q'</span> æ›¿æ¢æˆ <span class="string">'R'</span>ï¼Œè¿™æ ·å¾—åˆ°çš„ <span class="string">"RQWE"</span> (æˆ– <span class="string">"QRWE"</span>) æ˜¯å¹³è¡¡çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"QQQW"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŠŠå‰é¢çš„ <span class="string">"QQ"</span> æ›¿æ¢æˆ <span class="string">"ER"</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"QQQQ"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ›¿æ¢å <span class="number">3</span> ä¸ª <span class="string">'Q'</span>ï¼Œä½¿ s = <span class="string">"QWER"</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>1 &lt;= s.length &lt;= 10^5</li>
<li>s.length æ˜¯ 4 çš„å€æ•°</li>
<li>s ä¸­åªå«æœ‰ â€˜Qâ€™, â€˜Wâ€™, â€˜Eâ€™, â€˜Râ€™ å››ç§å­—ç¬¦</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å‘¨èµ›é¢˜ï¼Œè¯´å®è¯ä¸å¤šåšåšç«èµ›çœŸä¸çŸ¥é“è‡ªå·±å¤šèœ</p>
<p>(update: 2020.4.15)</p>
<p>æˆ‘æ‹¿åˆ°è¿™é¢˜ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯æ— è„‘å¥—è·¯æ»‘çª—ï¼Œæ—¢ç„¶è¦ä¿è¯å¹³è¡¡ï¼Œé‚£ä¹ˆæ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½åº”è¯¥æ˜¯<code>N/4</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»Ÿè®¡ä¸‹å¤šå‡ºæ¥çš„æœ‰å‡ ä¸ªï¼Œæ¯”å¦‚<code>QQQW</code>ï¼Œé‚£ä¹ˆå¤šå‡ºæ¥çš„å°±æ˜¯2ä¸ª**<code>Q</code><strong>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦æ±‚çš„çª—å£å†…</strong>è‡³å°‘**æœ‰2ä¸ªQï¼Œè¿™æ ·é—®é¢˜å…¶å®å°±è½¬æ¢æˆäº† <a href="#76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2">76. æœ€å°è¦†ç›–å­ä¸²</a>ï¼ˆè¿™æ˜æ˜æ˜¯ä¸ªmidé¢˜ï¼Œä½ å’‹è¿˜ç»™è½¬æ¢æˆhardäº†ï¼Œä½ æ˜¯ä¸æ˜¯å‚»ğŸ¤£ï¼‰</p>
<p>å…¶å®æœ€å°è¦†ç›–å­ä¸²çœ‹èµ·æ¥å¥½åƒæŒºéš¾ï¼Œä½†æ˜¯æ˜¯æœ‰å¥—è·¯çš„ï¼Œæˆ‘ä»¬ç›´æ¥å¥—æ¨¡æ¿å°±å¯ä»¥äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">balancedString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> N=s.length();</span><br><span class="line">    <span class="comment">//è¿™é‡Œç”¨26æœ‰çš„æµªè´¹,ä¸ºäº†æ–¹ä¾¿å†™ä»£ç ,å°±è¿™æ ·å§</span></span><br><span class="line">    <span class="keyword">int</span>[] need=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ä¸º-N/4è¿™æ ·æœ€åå¾—åˆ°çš„å¤§äº0çš„å€¼å°±æ˜¯å¤šå‡ºæ¥çš„</span></span><br><span class="line">    Arrays.fill(need,-N/<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">int</span>[] cur=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        need[s.charAt(i)-<span class="string">'A'</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æœ‰å‡ ä¸ªå­—ç¬¦å¤šå‡ºæ¥äº†</span></span><br><span class="line">    <span class="keyword">int</span> needCount=<span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;need.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(need[i]&gt;<span class="number">0</span>) needCount++;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">if</span>(needCount==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=N;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> matchCount=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æ— è„‘å¥—è·¯æ»‘çª—</span></span><br><span class="line">    <span class="keyword">while</span>(right&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">char</span> c=s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span>(need[c-<span class="string">'A'</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            cur[c-<span class="string">'A'</span>]++;</span><br><span class="line">            <span class="keyword">if</span>(cur[c-<span class="string">'A'</span>]==need[c-<span class="string">'A'</span>])&#123;</span><br><span class="line">                matchCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;=right &amp;&amp; matchCount==needCount)&#123;</span><br><span class="line">            res=Math.min(right-left+<span class="number">1</span>,res);</span><br><span class="line">            <span class="keyword">char</span> cl=s.charAt(left);</span><br><span class="line">            <span class="keyword">if</span>(need[cl-<span class="string">'A'</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                cur[cl-<span class="string">'A'</span>]--;</span><br><span class="line">                <span class="keyword">if</span>(cur[cl-<span class="string">'A'</span>]&lt;need[cl-<span class="string">'A'</span>])&#123;</span><br><span class="line">                    matchCount--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸Šé¢çš„è§£æ³•æ˜¯è€ƒè™‘<code>çª—å£å†…</code>çš„å…ƒç´ ç»„æˆï¼Œçª—å£å†…è‡³å°‘åº”è¯¥æœ‰å“ªäº›å…ƒç´ ï¼Œåè¿‡æ¥æƒ³ï¼Œæˆ‘ä»¬çª—å£å†…çš„å…ƒç´ æ˜¯å¤šå‡ºæ¥çš„å…ƒç´ ï¼Œæˆ‘ä»¬æ˜¯æŠŠå¤šçš„å…ƒç´ æ”¾åˆ°çª—å£ä¸­ï¼Œé‚£ä¹ˆçª—å£å¤–çš„å…ƒç´ å°±è‚¯å®šéƒ½æ˜¯<code>å°äºç­‰äºN/4</code>çš„äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹è¿›è¡Œæ»‘çª—ï¼Œç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„çª—å£çš„æœ€å°å€¼ï¼Œè¿™æ ·ä»£ç å°±ä¼šç®€æ´å¾ˆå¤š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//codeåˆ æ‰äº†ï¼Œä¹‹å‰çš„ä»£ç æœ‰ç‚¹é—®é¢˜ï¼Œæœ€åçš„è¿”å›å€¼æœ‰äº›æƒ…å†µè¿‡ä¸å»ï¼Œlcçš„caseå¤ªå¼±äº†ï¼Œè®©æˆ‘è¿‡äº†</span></span><br></pre></td></tr></table></figure>

<p><strong>UPDATE: (2020.5.4)</strong></p>
<p>æŒ‰ç…§å…ˆå‰çš„æ¨¡æ¿æ¥åˆ†æä¸‹ï¼Œè¿™é‡Œè¦æ±‚çš„æ˜¯æœ€å°çš„ä¿®æ”¹æ¬¡æ•°ï¼Œå¾ˆæ˜æ˜¾ä¸èƒ½ç”¨<code>for-if</code>ï¼Œæ‰€ä»¥é‡‡ç”¨<code>for-while</code>çš„ç»“æ„ï¼Œ<code>for-while</code>æœ€åŸºæœ¬çš„ç»“æ„å°±æ˜¯å¤–å±‚æšä¸¾æ‰€æœ‰<code>right</code>ï¼Œå†…å±‚æ ¹æ®é¢˜ç›®è¦æ±‚ç¼©å‡<code>left</code>ï¼Œä½†æ˜¯è¿™é¢˜leftä¹Ÿéœ€è¦æ§åˆ¶è¾¹ç•Œï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯<code>left&lt;=right</code> ä½†æ˜¯å®é™…ä¸Šè¿™æ ·ä¼šæœ‰ä¸€ç±»caseç»“æœä¸å¯¹ï¼Œæ¯”å¦‚â€QWERâ€è¿™æ ·çš„ï¼Œè¿”å›çš„ç»“æœæ˜¯1ï¼Œ<del>æˆ‘ä¸Šé¢åœ¨æœ€ååšäº†ç‰¹åˆ¤</del>ï¼ˆä¸Šé¢çš„ç‰¹åˆ¤æ˜¯é”™çš„ï¼Œæ¯”å¦‚â€œQWEEâ€è¿™æ ·çš„å°±è¿”å›0ï¼‰ï¼Œå…¶å®è¿™é‡Œè¿˜å¯ä»¥ä¿®æ”¹ä¸‹è¾¹ç•Œï¼Œæ”¹æˆ<code>left&lt;N</code>ï¼Œè¿™æ ·å°±æ²¡é—®é¢˜äº†ï¼Œè¿™æ ·leftå°±å¯ä»¥è¶…è¿‡rightè¾¾åˆ°right+1ï¼Œè¿™æ ·å¯¹â€QWERâ€å°±èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œå¹¶ä¸”æ ¹æ®é¢˜ç›®ä¿¡æ¯å½“<code>left=right+1</code>ä¹‹å<code>left</code>å°±ä¸ä¼šå†å¢åŠ äº†ï¼Œwhileæ¡ä»¶å°±æ— æ³•æ»¡è¶³äº†ï¼Œä½†æ˜¯æœ‰çš„é¢˜ç›®<code>left</code>æ˜¯ä¸ç”¨è®¾ç½®é™åˆ¶çš„ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨è¾¾åˆ°right+1ä¹‹åå°±ä¸ä¼šç»§ç»­å¢åŠ äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">balancedString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="keyword">null</span> || s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> N=s.length();</span><br><span class="line">        <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res=N;</span><br><span class="line">        <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++) &#123;</span><br><span class="line">            freq[s.charAt(i)-<span class="string">'A'</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;N;right++)&#123;</span><br><span class="line">            freq[s.charAt(right)-<span class="string">'A'</span>]--;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;N &amp;&amp; freq[<span class="string">'Q'</span>-<span class="string">'A'</span>]&lt;=N/<span class="number">4</span> &amp;&amp; freq[<span class="string">'W'</span>-<span class="string">'A'</span>]&lt;=N/<span class="number">4</span> &amp;&amp; freq[<span class="string">'E'</span>-<span class="string">'A'</span>]&lt;=N/<span class="number">4</span> &amp;&amp; freq[<span class="string">'R'</span>-<span class="string">'A'</span>]&lt;=N/<span class="number">4</span>)&#123;</span><br><span class="line">                res=Math.min(res,right-left+<span class="number">1</span>);</span><br><span class="line">                freq[s.charAt(left++)-<span class="string">'A'</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1358-åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®"><a href="#1358-åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®" class="headerlink" title="1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/number-of-substrings-containing-all-three-characters/" target="_blank" rel="noopener">1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®</a></h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå®ƒåªåŒ…å«ä¸‰ç§å­—ç¬¦ a, b å’Œ c ã€‚</p>
<p>è¯·ä½ è¿”å› aï¼Œb å’Œ c éƒ½ <strong>è‡³å°‘</strong> å‡ºç°è¿‡ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²æ•°ç›®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abcabc"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">10</span></span><br><span class="line">è§£é‡Šï¼šåŒ…å« aï¼Œb å’Œ c å„è‡³å°‘ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²ä¸º <span class="string">"abc"</span>, <span class="string">"abca"</span>, <span class="string">"abcab"</span>, <span class="string">"abcabc"</span>, <span class="string">"bca"</span>, <span class="string">"bcab"</span>, <span class="string">"bcabc"</span>, <span class="string">"cab"</span>, <span class="string">"cabc"</span> å’Œ <span class="string">"abc"</span> (ç›¸åŒå­—ç¬¦ä¸²ç®—å¤šæ¬¡)ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"aaacb"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šåŒ…å« aï¼Œb å’Œ c å„è‡³å°‘ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²ä¸º <span class="string">"aaacb"</span>, <span class="string">"aacb"</span> å’Œ <span class="string">"acb"</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abc"</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>3 &lt;= s.length &lt;= 5 x 10^4</li>
<li>s åªåŒ…å«å­—ç¬¦ aï¼Œb å’Œ c ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>20åŒå‘¨èµ›T3</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfSubstrings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=-<span class="number">1</span>,slen=s.length();</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//abc</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;slen-<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">while</span>(right+<span class="number">1</span>&lt;slen &amp;&amp; !valid(freq))&#123;</span><br><span class="line">            freq[s.charAt(++right)-<span class="string">'a'</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        res+=valid(freq)?(slen-right):<span class="number">0</span>;</span><br><span class="line">        freq[s.charAt(left)-<span class="string">'a'</span>]--;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">valid</span><span class="params">(<span class="keyword">int</span>[] freq)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> freq[<span class="number">0</span>]!=<span class="number">0</span> &amp;&amp; freq[<span class="number">1</span>]!=<span class="number">0</span> &amp;&amp; freq[<span class="number">2</span>]!=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æšä¸¾æ‰€æœ‰çš„å·¦è¾¹ç•Œï¼Œç„¶åæ‰¾åˆ°æœ€çŸ­çš„å¯ä»¥æ»¡è¶³çš„å³è¾¹ç•Œï¼Œé‚£ä¹ˆåŒ…æ‹¬å³è¾¹ç•Œå’Œä¹‹åçš„æ‰€æœ‰çš„éƒ½æ»¡è¶³æ¡ä»¶ï¼Œç›´æ¥è®¡ç®—å°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦<code>O(N)</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>2020.5.4 ç”¨è‡ªå·±æ€»ç»“çš„æ»‘çª—æ¨¡æ¿é‡å†™ï¼Œä¹Ÿæ˜¯<code>for-while</code>ç»“æ„ï¼Œrightå’Œleftä¸èƒ½åŒæ—¶æ‰©å±•ã€‚æ¯”å¦‚<code>&quot;aaacb&quot;</code>è¿™æ ·çš„case</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfSubstrings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n=s.length();</span><br><span class="line">    <span class="keyword">int</span>[] freq=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;n;right++)&#123;</span><br><span class="line">        freq[s.charAt(right)-<span class="string">'a'</span>]++;</span><br><span class="line">        <span class="keyword">while</span>(freq[<span class="number">0</span>]&gt;<span class="number">0</span> &amp;&amp; freq[<span class="number">1</span>]&gt;<span class="number">0</span> &amp;&amp; freq[<span class="number">2</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            res+=n-right; <span class="comment">//åé¢çš„éƒ½ç¬¦åˆæ¡ä»¶</span></span><br><span class="line">            freq[s.charAt(left)-<span class="string">'a'</span>]--;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1423-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"><a href="#1423-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°" class="headerlink" title="1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"></a><a href="https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/" target="_blank" rel="noopener">1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°</a></h2><p>å‡ å¼ å¡ç‰Œ <strong>æ’æˆä¸€è¡Œ</strong>ï¼Œæ¯å¼ å¡ç‰Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç‚¹æ•°ã€‚ç‚¹æ•°ç”±æ•´æ•°æ•°ç»„ <code>cardPoints</code> ç»™å‡ºã€‚</p>
<p>æ¯æ¬¡è¡ŒåŠ¨ï¼Œä½ å¯ä»¥ä»è¡Œçš„å¼€å¤´æˆ–è€…æœ«å°¾æ‹¿ä¸€å¼ å¡ç‰Œï¼Œæœ€ç»ˆä½ å¿…é¡»æ­£å¥½æ‹¿ <code>k</code> å¼ å¡ç‰Œã€‚</p>
<p>ä½ çš„ç‚¹æ•°å°±æ˜¯ä½ æ‹¿åˆ°æ‰‹ä¸­çš„æ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>cardPoints</code> å’Œæ•´æ•° <code>k</code>ï¼Œè¯·ä½ è¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">12</span></span><br><span class="line">è§£é‡Šï¼šç¬¬ä¸€æ¬¡è¡ŒåŠ¨ï¼Œä¸ç®¡æ‹¿å“ªå¼ ç‰Œï¼Œä½ çš„ç‚¹æ•°æ€»æ˜¯ <span class="number">1</span> ã€‚ä½†æ˜¯ï¼Œå…ˆæ‹¿æœ€å³è¾¹çš„å¡ç‰Œå°†ä¼šæœ€å¤§åŒ–ä½ çš„å¯è·å¾—ç‚¹æ•°ã€‚æœ€ä¼˜ç­–ç•¥æ˜¯æ‹¿å³è¾¹çš„ä¸‰å¼ ç‰Œï¼Œæœ€ç»ˆç‚¹æ•°ä¸º <span class="number">1</span> + <span class="number">6</span> + <span class="number">5</span> = <span class="number">12</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>], k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæ— è®ºä½ æ‹¿èµ·å“ªä¸¤å¼ å¡ç‰Œï¼Œå¯è·å¾—çš„ç‚¹æ•°æ€»æ˜¯ <span class="number">4</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">9</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">9</span>], k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">55</span></span><br><span class="line">è§£é‡Šï¼šä½ å¿…é¡»æ‹¿èµ·æ‰€æœ‰å¡ç‰Œï¼Œå¯ä»¥è·å¾—çš„ç‚¹æ•°ä¸ºæ‰€æœ‰å¡ç‰Œçš„ç‚¹æ•°ä¹‹å’Œã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">1</span>,<span class="number">1000</span>,<span class="number">1</span>], k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ æ— æ³•æ‹¿åˆ°ä¸­é—´é‚£å¼ å¡ç‰Œï¼Œæ‰€ä»¥å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ä¸º <span class="number">1</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcardPoints = [<span class="number">1</span>,<span class="number">79</span>,<span class="number">80</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">200</span>,<span class="number">1</span>], k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">202</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= cardPoints.length &lt;= 10^5</code></li>
<li><code>1 &lt;= cardPoints[i] &lt;= 10^4</code></li>
<li><code>1 &lt;= k &lt;= cardPoints.length</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>186å‘¨èµ›T2ï¼Œå¾ˆæ˜æ˜¾çš„æ»‘åŠ¨çª—å£ï¼Œå‰åæ‹¿Kå¼ æœ€å¤§ï¼Œåªéœ€è¦æ±‚ä¸€ä¸ªæœ€å°çš„<code>[n-k]</code>åŒºé—´å€¼å°±è¡Œäº†ï¼Œä¹Ÿå¯ä»¥ç”¨å‰ç¼€å’Œï¼Œæ€è·¯éƒ½ä¸€æ ·</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxScore</span><span class="params">(cardPoints []<span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> cardPoints == <span class="literal">nil</span> || <span class="built_in">len</span>(cardPoints) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    n := <span class="built_in">len</span>(cardPoints)</span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    right := n - k - <span class="number">1</span></span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    windowSum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i, num := <span class="keyword">range</span> cardPoints &#123;</span><br><span class="line">        sum += num</span><br><span class="line">        <span class="keyword">if</span> i == right &#123;</span><br><span class="line">            windowSum = sum</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> k == n &#123;</span><br><span class="line">        <span class="keyword">return</span> sum</span><br><span class="line">    &#125;</span><br><span class="line">    minWin := windowSum</span><br><span class="line">    <span class="keyword">for</span> right+<span class="number">1</span> &lt; n &#123;</span><br><span class="line">        windowSum += (cardPoints[right+<span class="number">1</span>] - cardPoints[left])</span><br><span class="line">        minWin = min(windowSum, minWin)</span><br><span class="line">        right++</span><br><span class="line">        left++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum - minWin</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Tagé‡Œé¢æœ‰dpï¼Œç¡®å®è¿™é¢˜å’Œå‰é¢çš„<a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#877-%E7%9F%B3%E5%AD%90%E6%B8%B8%E6%88%8F">çŸ³å­æ¸¸æˆ</a>æœ‰ä¸€ç‚¹åƒï¼Œä½†æ˜¯è¿˜æ˜¯æ»‘çª—æ¥çš„æ¯”è¾ƒç›´æ¥ã€‚ã€‚</p>
<h2 id="1208-å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"><a href="#1208-å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰" class="headerlink" title="1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"></a><a href="https://leetcode-cn.com/problems/get-equal-substrings-within-budget/" target="_blank" rel="noopener">1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰</a></h2><p>ç»™ä½ ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œ<code>s</code> å’Œ <code>t</code>ã€‚</p>
<p>å°† <code>s</code> ä¸­çš„ç¬¬ <code>i</code> ä¸ªå­—ç¬¦å˜åˆ° <code>t</code> ä¸­çš„ç¬¬ <code>i</code> ä¸ªå­—ç¬¦éœ€è¦ <code>|s[i] - t[i]|</code> çš„å¼€é”€ï¼ˆå¼€é”€å¯èƒ½ä¸º 0ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­—ç¬¦çš„ ASCII ç å€¼çš„å·®çš„ç»å¯¹å€¼ã€‚</p>
<p>ç”¨äºå˜æ›´å­—ç¬¦ä¸²çš„æœ€å¤§é¢„ç®—æ˜¯ <code>maxCost</code>ã€‚åœ¨è½¬åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œæ€»å¼€é”€åº”å½“å°äºç­‰äºè¯¥é¢„ç®—ï¼Œè¿™ä¹Ÿæ„å‘³ç€å­—ç¬¦ä¸²çš„è½¬åŒ–å¯èƒ½æ˜¯ä¸å®Œå…¨çš„ã€‚</p>
<p>å¦‚æœä½ å¯ä»¥å°† <code>s</code> çš„å­å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå®ƒåœ¨ <code>t</code> ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å¯ä»¥è½¬åŒ–çš„æœ€å¤§é•¿åº¦ã€‚</p>
<p>å¦‚æœ <code>s</code> ä¸­æ²¡æœ‰å­å­—ç¬¦ä¸²å¯ä»¥è½¬åŒ–æˆ <code>t</code> ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› <code>0</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abcd"</span>, t = <span class="string">"bcdf"</span>, cost = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ <span class="string">"abc"</span> å¯ä»¥å˜ä¸º <span class="string">"bcd"</span>ã€‚å¼€é”€ä¸º <span class="number">3</span>ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abcd"</span>, t = <span class="string">"cdef"</span>, cost = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ä»»ä¸€å­—ç¬¦è¦æƒ³å˜æˆ t ä¸­å¯¹åº”çš„å­—ç¬¦ï¼Œå…¶å¼€é”€éƒ½æ˜¯ <span class="number">2</span>ã€‚å› æ­¤ï¼Œæœ€å¤§é•¿åº¦ä¸º <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abcd"</span>, t = <span class="string">"acde"</span>, cost = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ æ— æ³•ä½œå‡ºä»»ä½•æ”¹åŠ¨ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length, t.length &lt;= 10^5</code></li>
<li><code>0 &lt;= maxCost &lt;= 10^6</code></li>
<li><code>s</code> å’Œ <code>t</code> éƒ½åªå«å°å†™è‹±æ–‡å­—æ¯ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">equalSubstring</span><span class="params">(s <span class="keyword">string</span>, t <span class="keyword">string</span>, maxCost <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    cost := <span class="number">0</span></span><br><span class="line">    res := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(s); right++ &#123;</span><br><span class="line">        cost += getCost(s[right], t[right])</span><br><span class="line">        <span class="keyword">if</span> cost &lt;= maxCost &#123;</span><br><span class="line">            res = max(res, right-left+<span class="number">1</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cost -= getCost(s[left], t[left])</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getCost</span><span class="params">(a, b <span class="keyword">byte</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123; <span class="comment">//a-b&lt;0 byteæ˜¯uint8ç›´æ¥è¿™æ ·å‡ä¼šå˜æˆæ­£æ•°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">int</span>(b - a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(a - b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé¢˜æœ¬èº«ä¸éš¾ï¼Œä¸»è¦æ˜¯ä¸ºäº†å­¦ä¹ æ»‘çª—ç±»å‹çš„é¢˜ï¼Œè¿™é¢˜æˆ‘åˆæ”¹äº†å¥½é•¿æ—¶é—´ï¼Œæœç„¶åšæ»‘çª—çš„é¢˜è¿˜æ˜¯æœ‰ç‚¹ä¹±ï¼Œä¸è¿‡åšäº†è¿™ä¸€é¢˜ä¹‹åå·²ç»æœ‰ç‚¹æ„Ÿè§‰äº†ï¼Œç›®å‰æ‰“ç®—æŠŠæ‰€æœ‰çš„æ»‘çª—éƒ½é‡åšä¸€éï¼Œç„¶åæ€»ç»“ä¸€ä¸‹å¥—è·¯</p>
<p><strong>æ€è€ƒ</strong></p>
<p>ä¸‹é¢<code>for-while</code>çš„ç»“æ„ä¼¼ä¹æ›´åŠ ç»Ÿä¸€ï¼Œä¸Šé¢<code>for-if</code>çš„ç»“æ„åªèƒ½ç”¨åœ¨æ±‚<strong>æœ€é•¿ï¼Œæœ€å¤§</strong>çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ—¶å€™<code>left</code>å’Œ<code>right</code>å…è®¸åŒæ—¶åŠ åŠ ï¼Œæ‰€ä»¥ç”¨<code>if</code>ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ±‚æœ€çŸ­çš„æ—¶å€™ï¼Œæ¯”å¦‚ä¸Šé¢<a href="#209-%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a>å°±ä¸èƒ½ç”¨<code>for-if</code> ï¼Œå½“rightåˆ°è¾¾è¾¹ç•Œçš„æ—¶å€™leftå¯èƒ½è¿˜éœ€è¦ç»§ç»­ç§»åŠ¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨<code>if</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">equalSubstring</span><span class="params">(s <span class="keyword">string</span>, t <span class="keyword">string</span>, maxCost <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    left := <span class="number">0</span></span><br><span class="line">    cost := <span class="number">0</span></span><br><span class="line">    res := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(s); right++ &#123;</span><br><span class="line">        cost += getCost(s[right], t[right])</span><br><span class="line">        <span class="keyword">for</span> cost &gt; maxCost &#123;</span><br><span class="line">            cost -= getCost(s[left], t[left])</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        res = max(res, right-left+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1052-çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿"><a href="#1052-çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿" class="headerlink" title="1052. çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿"></a><a href="https://leetcode-cn.com/problems/grumpy-bookstore-owner/" target="_blank" rel="noopener">1052. çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿</a></h2><p>ä»Šå¤©ï¼Œä¹¦åº—è€æ¿æœ‰ä¸€å®¶åº—æ‰“ç®—è¯•è¥ä¸š <code>customers.length</code> åˆ†é’Ÿã€‚æ¯åˆ†é’Ÿéƒ½æœ‰ä¸€äº›é¡¾å®¢ï¼ˆ<code>customers[i]</code>ï¼‰ä¼šè¿›å…¥ä¹¦åº—ï¼Œæ‰€æœ‰è¿™äº›é¡¾å®¢éƒ½ä¼šåœ¨é‚£ä¸€åˆ†é’Ÿç»“æŸåç¦»å¼€ã€‚</p>
<p>åœ¨æŸäº›æ—¶å€™ï¼Œä¹¦åº—è€æ¿ä¼šç”Ÿæ°”ã€‚ å¦‚æœä¹¦åº—è€æ¿åœ¨ç¬¬ <code>i</code> åˆ†é’Ÿç”Ÿæ°”ï¼Œé‚£ä¹ˆ <code>grumpy[i] = 1</code>ï¼Œå¦åˆ™ <code>grumpy[i] = 0</code>ã€‚ å½“ä¹¦åº—è€æ¿ç”Ÿæ°”æ—¶ï¼Œé‚£ä¸€åˆ†é’Ÿçš„é¡¾å®¢å°±ä¼šä¸æ»¡æ„ï¼Œä¸ç”Ÿæ°”åˆ™ä»–ä»¬æ˜¯æ»¡æ„çš„ã€‚</p>
<p>ä¹¦åº—è€æ¿çŸ¥é“ä¸€ä¸ªç§˜å¯†æŠ€å·§ï¼Œèƒ½æŠ‘åˆ¶è‡ªå·±çš„æƒ…ç»ªï¼Œå¯ä»¥è®©è‡ªå·±è¿ç»­ <code>X</code> åˆ†é’Ÿä¸ç”Ÿæ°”ï¼Œä½†å´åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p>
<p>è¯·ä½ è¿”å›è¿™ä¸€å¤©è¥ä¸šä¸‹æ¥ï¼Œæœ€å¤šæœ‰å¤šå°‘å®¢æˆ·èƒ½å¤Ÿæ„Ÿåˆ°æ»¡æ„çš„æ•°é‡ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcustomers &#x3D; [1,0,1,2,1,1,7,5], grumpy &#x3D; [0,1,0,1,0,1,0,1], X &#x3D; 3</span><br><span class="line">è¾“å‡ºï¼š16</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä¹¦åº—è€æ¿åœ¨æœ€å 3 åˆ†é’Ÿä¿æŒå†·é™ã€‚</span><br><span class="line">æ„Ÿåˆ°æ»¡æ„çš„æœ€å¤§å®¢æˆ·æ•°é‡ &#x3D; 1 + 1 + 1 + 1 + 7 + 5 &#x3D; 16.</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= X &lt;= customers.length == grumpy.length &lt;= 20000</code></li>
<li><code>0 &lt;= customers[i] &lt;= 1000</code></li>
<li><code>0 &lt;= grumpy[i] &lt;= 1</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ»‘åŠ¨çª—å£çš„æ„Ÿè§‰æ¥äº†ï¼Œè¶Šæ¥è¶Šç†Ÿç»ƒäº†ï¼Œè¿™é¢˜ç›´æ¥bugfreeäº†ğŸ˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSatisfied</span><span class="params">(<span class="keyword">int</span>[] customers, <span class="keyword">int</span>[] grumpy, <span class="keyword">int</span> X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(grumpy==<span class="keyword">null</span> || grumpy.length&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> N=grumpy.length;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> window=<span class="number">0</span>;<span class="comment">//çª—å£å†…åè½¬äººæ•°</span></span><br><span class="line">    <span class="keyword">int</span> max=<span class="number">0</span>; <span class="comment">//æœ€å¤šåè½¬äººæ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;N;right++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(grumpy[right]==<span class="number">1</span>)&#123;</span><br><span class="line">            window+=customers[right];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//whileå’Œiféƒ½å¯ä»¥,ä¸ªäººæ¯”è¾ƒå–œæ¬¢whileé€šç”¨æ€§æ¯”è¾ƒå¼º</span></span><br><span class="line">        <span class="keyword">while</span>(right-left+<span class="number">1</span>&gt;X)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grumpy[left]==<span class="number">1</span>)&#123;</span><br><span class="line">                window-=customers[left];</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        max=Math.max(window,max);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        res+=(grumpy[i]==<span class="number">0</span>?customers[i]:<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res+max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä»ç„¶æ˜¯å‰é¢æ€»ç»“çš„<code>for-while</code>ç»“æ„ï¼Œç­‰æˆ‘æŠŠæ‰€æœ‰çš„æ»‘çª—tagåšå®Œäº†å†æ¥æ€»ç»“ä¸€æ³¢</p>
<h2 id="1040-ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­-II"><a href="#1040-ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­-II" class="headerlink" title="1040. ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­ II"></a><a href="https://leetcode-cn.com/problems/moving-stones-until-consecutive-ii/" target="_blank" rel="noopener">1040. ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­ II</a></h2><p>åœ¨ä¸€ä¸ªé•¿åº¦<strong>æ— é™</strong>çš„æ•°è½´ä¸Šï¼Œç¬¬ <code>i</code> é¢—çŸ³å­çš„ä½ç½®ä¸º <code>stones[i]</code>ã€‚å¦‚æœä¸€é¢—çŸ³å­çš„ä½ç½®æœ€å°/æœ€å¤§ï¼Œé‚£ä¹ˆè¯¥çŸ³å­è¢«ç§°ä½œ<strong>ç«¯ç‚¹çŸ³å­</strong>ã€‚</p>
<p>æ¯ä¸ªå›åˆï¼Œä½ å¯ä»¥å°†ä¸€é¢—ç«¯ç‚¹çŸ³å­æ‹¿èµ·å¹¶ç§»åŠ¨åˆ°ä¸€ä¸ªæœªå ç”¨çš„ä½ç½®ï¼Œä½¿å¾—è¯¥çŸ³å­ä¸å†æ˜¯ä¸€é¢—ç«¯ç‚¹çŸ³å­ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœçŸ³å­åƒ <code>stones = [1,2,5]</code> è¿™æ ·ï¼Œä½ å°†<strong>æ— æ³•</strong>ç§»åŠ¨ä½äºä½ç½® 5 çš„ç«¯ç‚¹çŸ³å­ï¼Œå› ä¸ºæ— è®ºå°†å®ƒç§»åŠ¨åˆ°ä»»ä½•ä½ç½®ï¼ˆä¾‹å¦‚ 0 æˆ– 3ï¼‰ï¼Œè¯¥çŸ³å­éƒ½ä»ç„¶ä¼šæ˜¯ç«¯ç‚¹çŸ³å­ã€‚</p>
<p>å½“ä½ æ— æ³•è¿›è¡Œä»»ä½•ç§»åŠ¨æ—¶ï¼Œå³ï¼Œè¿™äº›çŸ³å­çš„ä½ç½®è¿ç»­æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚</p>
<p>è¦ä½¿æ¸¸æˆç»“æŸï¼Œä½ å¯ä»¥æ‰§è¡Œçš„æœ€å°å’Œæœ€å¤§ç§»åŠ¨æ¬¡æ•°åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ ä»¥é•¿åº¦ä¸º 2 çš„æ•°ç»„å½¢å¼è¿”å›ç­”æ¡ˆï¼š<code>answer = [minimum_moves, maximum_moves]</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æˆ‘ä»¬å¯ä»¥ç§»åŠ¨ä¸€æ¬¡ï¼Œ<span class="number">4</span> -&gt; <span class="number">8</span>ï¼Œæ¸¸æˆç»“æŸã€‚</span><br><span class="line">æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç§»åŠ¨ä¸¤æ¬¡ <span class="number">9</span> -&gt; <span class="number">5</span>ï¼Œ<span class="number">4</span> -&gt; <span class="number">6</span>ï¼Œæ¸¸æˆç»“æŸã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">10</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æˆ‘ä»¬å¯ä»¥ç§»åŠ¨ <span class="number">3</span> -&gt; <span class="number">8</span>ï¼Œæ¥ç€æ˜¯ <span class="number">10</span> -&gt; <span class="number">7</span>ï¼Œæ¸¸æˆç»“æŸã€‚</span><br><span class="line">æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç§»åŠ¨ <span class="number">3</span> -&gt; <span class="number">7</span>, <span class="number">4</span> -&gt; <span class="number">8</span>, <span class="number">5</span> -&gt; <span class="number">9</span>ï¼Œæ¸¸æˆç»“æŸã€‚</span><br><span class="line">æ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œ <span class="number">10</span> -&gt; <span class="number">2</span> è¿™æ ·çš„ç§»åŠ¨æ¥ç»“æŸæ¸¸æˆï¼Œå› ä¸ºè¿™æ˜¯ä¸åˆè¦æ±‚çš„ç§»åŠ¨ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">100</span>,<span class="number">101</span>,<span class="number">104</span>,<span class="number">102</span>,<span class="number">103</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>3 &lt;= stones.length &lt;= 10^4</code></li>
<li><code>1 &lt;= stones[i] &lt;= 10^9</code></li>
<li><code>stones[i]</code> çš„å€¼å„ä¸ç›¸åŒã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ‡µé€¼ï¼ŒæŸæ¬¡å‘¨èµ›çš„T4ï¼Œå—¯æŠ„ï¼Œä¸ä¼šåšï¼Œé¢˜ç›®éƒ½å·®ç‚¹æ²¡çœ‹æ‡‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] numMovesStonesII(<span class="keyword">int</span>[] stones) &#123;</span><br><span class="line">    <span class="keyword">if</span>(stones==<span class="keyword">null</span> || stones.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//0 1 2 3 4 5 6 7 8 9 10</span></span><br><span class="line">    <span class="comment">//      0 1 2 3        4</span></span><br><span class="line">    <span class="keyword">int</span> N=stones.length;</span><br><span class="line">    Arrays.sort(stones);</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] res=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    res[<span class="number">0</span>]=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;N;right++)&#123;</span><br><span class="line">        <span class="comment">//æ•´ä¸ªåŒºé—´èŒƒå›´å¤§äºNäº†éœ€è¦ç¼©å°åŒºé—´</span></span><br><span class="line">        <span class="keyword">while</span>(stones[right]-stones[left]+<span class="number">1</span>&gt;N)&#123; </span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> windowStones=right-left+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(windowStones==N-<span class="number">1</span>&amp;&amp;stones[right]-stones[left]+<span class="number">1</span>==N-<span class="number">1</span>)&#123;</span><br><span class="line">            res[<span class="number">0</span>]=Math.min(<span class="number">2</span>,res[<span class="number">0</span>]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res[<span class="number">0</span>]=Math.min(res[<span class="number">0</span>],N-windowStones);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res[<span class="number">1</span>]=Math.max(stones[N-<span class="number">1</span>]-stones[<span class="number">1</span>]-N+<span class="number">2</span>,stones[N-<span class="number">2</span>]-stones[<span class="number">0</span>]-N+<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1456-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"><a href="#1456-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®" class="headerlink" title="1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/maximum-number-of-vowels-in-a-substring-of-given-length/" target="_blank" rel="noopener">1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®</a></h2><p>ç»™ä½ å­—ç¬¦ä¸² s å’Œæ•´æ•° k ã€‚</p>
<p>è¯·è¿”å›å­—ç¬¦ä¸² s ä¸­é•¿åº¦ä¸º k çš„å•ä¸ªå­å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«çš„æœ€å¤§å…ƒéŸ³å­—æ¯æ•°ã€‚</p>
<p>è‹±æ–‡ä¸­çš„ å…ƒéŸ³å­—æ¯ ä¸ºï¼ˆa, e, i, o, uï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"abciiidef"</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šå­å­—ç¬¦ä¸² <span class="string">"iii"</span> åŒ…å« <span class="number">3</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"aeiou"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šä»»æ„é•¿åº¦ä¸º <span class="number">2</span> çš„å­å­—ç¬¦ä¸²éƒ½åŒ…å« <span class="number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"leetcode"</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">"lee"</span>ã€<span class="string">"eet"</span> å’Œ <span class="string">"ode"</span> éƒ½åŒ…å« <span class="number">2</span> ä¸ªå…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"rhythms"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šå­—ç¬¦ä¸² s ä¸­ä¸å«ä»»ä½•å…ƒéŸ³å­—æ¯ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"tryhard"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>1 &lt;= s.length &lt;= 10^5</li>
<li>s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
<li>1 &lt;= k &lt;= s.length</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¥½ä¹…æ²¡å†™æ»‘çª—çš„é¢˜äº†ï¼Œå›é¡¾ä¸‹ä¹‹å‰çš„æ¨¡æ¿ï¼Œ<code>for-while</code>ç»“æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxVowels</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> right=<span class="number">0</span>;right&lt;s.length();right++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vowel(s.charAt(right)))&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right-left &gt;= k)&#123;</span><br><span class="line">            <span class="keyword">if</span>(vowel(s.charAt(left)))&#123;</span><br><span class="line">                count--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        res=Math.max(res,count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">vowel</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ch==<span class="string">'a'</span> || ch==<span class="string">'e'</span> || ch==<span class="string">'i'</span> || ch==<span class="string">'o'</span> || ch==<span class="string">'u'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1461-æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º-K-çš„äºŒè¿›åˆ¶å­ä¸²"><a href="#1461-æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º-K-çš„äºŒè¿›åˆ¶å­ä¸²" class="headerlink" title="1461. æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º K çš„äºŒè¿›åˆ¶å­ä¸²"></a><a href="https://leetcode-cn.com/problems/check-if-a-string-contains-all-binary-codes-of-size-k/" target="_blank" rel="noopener">1461. æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º K çš„äºŒè¿›åˆ¶å­ä¸²</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²Â <code>s</code>Â å’Œä¸€ä¸ªæ•´æ•°Â <code>k</code>Â ã€‚</p>
<p>å¦‚æœæ‰€æœ‰é•¿åº¦ä¸º <code>k</code>Â çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²éƒ½æ˜¯ <code>s</code>Â çš„å­ä¸²ï¼Œè¯·è¿”å› True ï¼Œå¦åˆ™è¯·è¿”å› False ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"00110110"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">2</span> çš„äºŒè¿›åˆ¶ä¸²åŒ…æ‹¬ <span class="string">"00"</span>ï¼Œ<span class="string">"01"</span>ï¼Œ<span class="string">"10"</span> å’Œ <span class="string">"11"</span>ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ s ä¸­ä¸‹æ ‡ä¸º <span class="number">0</span>ï¼Œ<span class="number">1</span>ï¼Œ<span class="number">3</span>ï¼Œ<span class="number">2</span> å¼€å§‹çš„é•¿åº¦ä¸º <span class="number">2</span> çš„å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"00110"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"0110"</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">1</span> çš„äºŒè¿›åˆ¶ä¸²åŒ…æ‹¬ <span class="string">"0"</span> å’Œ <span class="string">"1"</span>ï¼Œæ˜¾ç„¶å®ƒä»¬éƒ½æ˜¯ s çš„å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"0110"</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">2</span> çš„äºŒè¿›åˆ¶ä¸² <span class="string">"00"</span> æ²¡æœ‰å‡ºç°åœ¨ s ä¸­ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">"0000000001011100"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  <code>1 &lt;= s.length &lt;= 5 * 10^5</code></li>
<li>  <code>s</code> ä¸­åªå« 0 å’Œ 1 ã€‚</li>
<li>  <code>1 &lt;= k &lt;= 20</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æŸæ¬¡å‘¨èµ›çš„T2è¿˜æ˜¯T3ï¼Œå¿˜äº†ï¼Œæˆ‘ç”¨äº†æœ€æš´åŠ›çš„æ–¹æ³•ï¼Œç›´æ¥å›æº¯ç”Ÿæˆäº†æ‰€æœ‰çš„äºŒè¿›åˆ¶ä¸²ï¼Œç„¶åå¯¹æ¯”çš„ï¼Œå†™çš„å¾ˆå¿«ï¼Œä¹ŸACäº†ï¼Œä½†æ˜¯ä½†æ˜¯åé¢ä¸€ç›´æ²¡æ—¶é—´é‡å†™ï¼Œä»Šå¤©å¶ç„¶å‘ç°äº†è¿™é“é¢˜ï¼Œé‡å†™ä¸‹</p>
<p>ç»å…¸for-whileç»“æ„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasAllCodes</span><span class="params">(s <span class="keyword">string</span>, k <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> set = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>)</span><br><span class="line"> Â  Â <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line"> Â  Â <span class="keyword">var</span> cur = <span class="number">0</span></span><br><span class="line"> Â  Â <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; <span class="built_in">len</span>(s); right++&#123;</span><br><span class="line"> Â  Â  Â  Â cur = cur * <span class="number">2</span> + <span class="keyword">int</span>(s[right] &amp; <span class="number">1</span>)</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> right - left + <span class="number">1</span> &gt; k&#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â cur &amp;= ^(<span class="number">1</span> &lt;&lt; k) <span class="comment">//å°†é¦–ä½ç½®ä¸º0</span></span><br><span class="line"> Â  Â  Â  Â  Â  Â left++</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> right - left + <span class="number">1</span> == k&#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â set[cur] = <span class="literal">true</span> Â  </span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">return</span> <span class="built_in">len</span>(set) == <span class="number">1</span> &lt;&lt; k</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé¢˜ä¹Ÿå¯ä»¥ç›´æ¥å­˜å­—ç¬¦ä¸²è¿›å»ï¼Œä½†æ˜¯å­˜å­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦å°±ä¸æ˜¯O(N)äº†(Nä¸ºå­—ç¬¦é•¿åº¦)ï¼Œè€Œæ˜¯O(KN)ï¼Œå› ä¸ºå­—ç¬¦ä¸²Hashçš„å¤æ‚åº¦æ˜¯O(K)ï¼Œä½†æ˜¯è¿™é‡ŒKå¾ˆå°ï¼Œæ‰€ä»¥å…¶å®ä¹Ÿæ— æ‰€è°“ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦è¿½æ±‚æ›´åŠ ä¼˜ç§€çš„è§£æ³•ï¼Œæ‰€ä»¥æœ€å¥½çš„åšæ³•è¿˜æ˜¯å°†å…¶è½¬æ¢æˆæ•°å­—ï¼Œç„¶åå­˜åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™é‡Œçœ‹äº†åˆ«äººçš„è§£æ³•åˆå­¦åˆ°äº†ä¸€æ‰‹ä½è¿ç®—çš„å°æŠ€å·§ï¼Œ<code>cur &amp; ^(1&lt;&lt;k)</code>ï¼ˆkä¸ºcuré•¿åº¦-1ï¼‰å¯ä»¥å°†curé¦–ä½ç½®ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ¶ˆå»é¦–ä½ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼Œå°±ä¸èµ˜è¿°äº†</p>
<h2 id="1498-æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®"><a href="#1498-æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®" class="headerlink" title="1498. æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition/" target="_blank" rel="noopener">1498. æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>target</code> ã€‚</p>
<p>è¯·ä½ ç»Ÿè®¡å¹¶è¿”å› <code>nums</code> ä¸­èƒ½æ»¡è¶³å…¶æœ€å°å…ƒç´ ä¸æœ€å¤§å…ƒç´ çš„ <strong>å’Œ</strong> å°äºæˆ–ç­‰äº <code>target</code> çš„ <strong>éç©º</strong> å­åºåˆ—çš„æ•°ç›®ã€‚</p>
<p>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ 10^9 + 7 å–ä½™åè¿”å›ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>], target = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæœ‰ <span class="number">4</span> ä¸ªå­åºåˆ—æ»¡è¶³è¯¥æ¡ä»¶ã€‚</span><br><span class="line">[<span class="number">3</span>] -&gt; æœ€å°å…ƒç´  + æœ€å¤§å…ƒç´  &lt;= target (<span class="number">3</span> + <span class="number">3</span> &lt;= <span class="number">9</span>)</span><br><span class="line">[<span class="number">3</span>,<span class="number">5</span>] -&gt; (<span class="number">3</span> + <span class="number">5</span> &lt;= <span class="number">9</span>)</span><br><span class="line">[<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>] -&gt; (<span class="number">3</span> + <span class="number">6</span> &lt;= <span class="number">9</span>)</span><br><span class="line">[<span class="number">3</span>,<span class="number">6</span>] -&gt; (<span class="number">3</span> + <span class="number">6</span> &lt;= <span class="number">9</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">3</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>], target = <span class="number">10</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šæœ‰ <span class="number">6</span> ä¸ªå­åºåˆ—æ»¡è¶³è¯¥æ¡ä»¶ã€‚ï¼ˆnums ä¸­å¯ä»¥æœ‰é‡å¤æ•°å­—ï¼‰</span><br><span class="line">[<span class="number">3</span>] , [<span class="number">3</span>] , [<span class="number">3</span>,<span class="number">3</span>], [<span class="number">3</span>,<span class="number">6</span>] , [<span class="number">3</span>,<span class="number">6</span>] , [<span class="number">3</span>,<span class="number">3</span>,<span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>], target = <span class="number">12</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">61</span></span><br><span class="line">è§£é‡Šï¼šå…±æœ‰ <span class="number">63</span> ä¸ªéç©ºå­åºåˆ—ï¼Œå…¶ä¸­ <span class="number">2</span> ä¸ªä¸æ»¡è¶³æ¡ä»¶ï¼ˆ[<span class="number">6</span>,<span class="number">7</span>], [<span class="number">7</span>]ï¼‰</span><br><span class="line">æœ‰æ•ˆåºåˆ—æ€»æ•°ä¸ºï¼ˆ<span class="number">63</span> - <span class="number">2</span> = <span class="number">61</span>ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">5</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>], target = <span class="number">16</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">127</span></span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰éç©ºå­åºåˆ—éƒ½æ»¡è¶³æ¡ä»¶ (<span class="number">2</span>^<span class="number">7</span> - <span class="number">1</span>) = <span class="number">127</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  <code>1 &lt;= nums.length &lt;= 10^5</code></li>
<li>  <code>1 &lt;= nums[i] &lt;= 10^6</code></li>
<li>  <code>1 &lt;= target &lt;= 10^6</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>åŒæŒ‡é’ˆæ»‘çª—ï¼Œå¾ˆå…³é”®çš„ä¸€æ­¥å°±æ˜¯æ’åºï¼Œå› ä¸ºæˆ‘ä»¬åªå…³å¿ƒæœ€å¤§æœ€å°å€¼ï¼Œè€Œä¸”æ˜¯å­åºåˆ—ï¼Œä¸é¡ºåºæ— å…³</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubseq</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> MOD = (<span class="keyword">int</span>)(<span class="number">1e9</span>+<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="comment">//é¢„å¤„ç†å‡ºå¹‚å€¼è¡¨</span></span><br><span class="line">    <span class="keyword">int</span>[] pow = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    pow[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">        pow[i] = (pow[i-<span class="number">1</span>] &lt;&lt; <span class="number">1</span>) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; nums[left] + nums[right] &gt; target) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="comment">//nums[left] + nums[right] &lt;&gt;= target </span></span><br><span class="line">            <span class="comment">//åŒ…å«leftçš„å­åºåˆ—ä¸ªæ•°: leftå›ºå®šï¼Œåœ¨[left+1,right]é€‰è‹¥å¹²ä¸ªï¼Œå°±æœ‰ 2^(right-left) ç§é€‰æ³•</span></span><br><span class="line">            count = (count + pow[right-left]) % MOD ;</span><br><span class="line">        &#125;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)count%MOD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>äºŒåˆ†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äºŒåˆ†</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubseq</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> MOD = (<span class="keyword">int</span>)(<span class="number">1e9</span>+<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="comment">//é¢„å¤„ç†å‡ºå¹‚å€¼è¡¨</span></span><br><span class="line">    <span class="keyword">int</span>[] pow = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    pow[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">        pow[i] = (pow[i-<span class="number">1</span>] &lt;&lt; <span class="number">1</span>) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target-nums[i] &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> right = search(nums, target-nums[i]);</span><br><span class="line">        <span class="keyword">if</span> (right &gt;= i)&#123;</span><br><span class="line">            count = (count + pow[right-i]) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>) count % MOD;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœç´¢æœ€åä¸€ä¸ªå°äºç­‰äºtargetçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right-left)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt;= target)&#123;</span><br><span class="line">            res = mid;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="904-æ°´æœæˆç¯®"><a href="#904-æ°´æœæˆç¯®" class="headerlink" title="904. æ°´æœæˆç¯®"></a><a href="https://leetcode-cn.com/problems/fruit-into-baskets/" target="_blank" rel="noopener">904. æ°´æœæˆç¯®</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>åœ¨ä¸€æ’æ ‘ä¸­ï¼Œç¬¬ <code>i</code> æ£µæ ‘äº§ç”ŸÂ <code>tree[i]</code> å‹çš„æ°´æœã€‚<br>ä½ å¯ä»¥<strong>ä»ä½ é€‰æ‹©çš„ä»»ä½•æ ‘å¼€å§‹</strong>ï¼Œç„¶åé‡å¤æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li> æŠŠè¿™æ£µæ ‘ä¸Šçš„æ°´æœæ”¾è¿›ä½ çš„ç¯®å­é‡Œã€‚å¦‚æœä½ åšä¸åˆ°ï¼Œå°±åœä¸‹æ¥ã€‚</li>
<li> ç§»åŠ¨åˆ°å½“å‰æ ‘å³ä¾§çš„ä¸‹ä¸€æ£µæ ‘ã€‚å¦‚æœå³è¾¹æ²¡æœ‰æ ‘ï¼Œå°±åœä¸‹æ¥ã€‚</li>
</ol>
<p>è¯·æ³¨æ„ï¼Œåœ¨é€‰æ‹©ä¸€é¢—æ ‘åï¼Œä½ æ²¡æœ‰ä»»ä½•é€‰æ‹©ï¼šä½ å¿…é¡»æ‰§è¡Œæ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œç„¶åè¿”å›æ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´è‡³åœæ­¢ã€‚</p>
<p>ä½ æœ‰ä¸¤ä¸ªç¯®å­ï¼Œæ¯ä¸ªç¯®å­å¯ä»¥æºå¸¦ä»»ä½•æ•°é‡çš„æ°´æœï¼Œä½†ä½ å¸Œæœ›æ¯ä¸ªç¯®å­åªæºå¸¦ä¸€ç§ç±»å‹çš„æ°´æœã€‚<br>ç”¨è¿™ä¸ªç¨‹åºä½ èƒ½æ”¶é›†çš„æ°´æœæ€»é‡æ˜¯å¤šå°‘ï¼Ÿ</p>
<blockquote>
<p>æ„Ÿè§‰è¿™é‡Œæƒ³è¡¨è¾¾çš„åº”è¯¥æ˜¯æ°´æœæ ‘çš„æ•°é‡<br><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
</blockquote>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>].</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [<span class="number">0</span>, <span class="number">1</span>]ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>].</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [<span class="number">1</span>, <span class="number">2</span>]ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>].</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘æˆ–ç¬¬å…«æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° <span class="number">4</span> ä¸ªæ°´æœã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> <code>1 &lt;= tree.length &lt;= 40000</code></li>
<li> <code>0 &lt;= tree[i] &lt; tree.length</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>é¢˜ç›®æ„æ€å…¶å®å°±æ˜¯æ±‚åªåŒ…å«2ä¸ªå…ƒç´ çš„æœ€é•¿å­ä¸²ï¼Œé¢˜ç›®è¡¨è¿°çš„ä¸å¤ªæ¸…æ¥šï¼Œå·²ç»åé¦ˆäº†</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">totalFruit</span><span class="params">(tree []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> Max = <span class="function"><span class="keyword">func</span> <span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;<span class="keyword">if</span> a&gt;b &#123;<span class="keyword">return</span> a&#125;;<span class="keyword">return</span> b&#125;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">len</span>(tree)</span><br><span class="line">    <span class="keyword">var</span> freq [<span class="number">40001</span>]<span class="keyword">int</span></span><br><span class="line">    <span class="keyword">var</span> res, count = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> right := <span class="number">0</span>; right &lt; n; right++ &#123;</span><br><span class="line">        <span class="keyword">if</span> freq[tree[right]] == <span class="number">0</span> &#123;</span><br><span class="line">            count++</span><br><span class="line">        &#125;</span><br><span class="line">        freq[tree[right]]++</span><br><span class="line">        <span class="keyword">for</span> count &gt; <span class="number">2</span> &#123;</span><br><span class="line">            freq[tree[left]]--</span><br><span class="line">            <span class="keyword">if</span> freq[tree[left]] == <span class="number">0</span> &#123;</span><br><span class="line">                count--</span><br><span class="line">            &#125;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        res = Max(res, right-left+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="NC562-ç‰›ç‰›çš„é­”æ³•å¡"><a href="#NC562-ç‰›ç‰›çš„é­”æ³•å¡" class="headerlink" title="NC562.ç‰›ç‰›çš„é­”æ³•å¡"></a><a href="https://www.nowcoder.com/practice/9b6fe52a68904c77aa81502f57ceac86" target="_blank" rel="noopener">NC562.ç‰›ç‰›çš„é­”æ³•å¡</a></h2><p>ç‰›ç‰›ä»å°å°±æœ‰æ”¶é›†é­”æ³•å¡çš„ä¹ æƒ¯ï¼Œä»–æœ€å¤§çš„æ„¿æœ›å°±æ˜¯èƒ½å¤Ÿé›†é½ k ç§ä¸åŒç§ç±»çš„é­”æ³•å¡ï¼Œç°åœ¨æœ‰ n å¼ é­”æ³•å¡ï¼Œè¿™ n å¼ é­”æ³•å¡å­˜åœ¨äºä¸€ç»´åæ ‡ç‚¹ä¸Šï¼Œ<br>æ¯å¼ é­”æ³•å¡å¯èƒ½å±äºæŸä¸€ç§ç±»ã€‚ç‰›ç‰›å¦‚æœæƒ³æ”¶é›†é­”æ³•å¡å°±éœ€è¦ä»å½“å‰åæ ‡ç‚¹è·³è·ƒåˆ°å¦å¤–ä¸€ä¸ªé­”æ³•å¡æ‰€åœ¨çš„åæ ‡ç‚¹ï¼ŒèŠ±è´¹çš„ä»£ä»·æ˜¯ä¸¤ä¸ªè·³è·ƒåæ ‡ç‚¹ä¹‹é—´çš„è·ç¦»å·®ã€‚<br>ç‰›ç‰›å¯ä»¥ä»ä»»æ„çš„åæ ‡ç‚¹å‡ºå‘ï¼Œç‰›ç‰›æƒ³çŸ¥é“ä»–é›†é½ k ç§é­”æ³•å¡æ‰€èŠ±è´¹çš„æœ€å°ä»£ä»·æ˜¯å¤šå°‘ï¼Œå¦‚æœé›†ä¸é½ k ç§é­”æ³•å¡ï¼Œè¾“å‡º-1ã€‚<br>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n,k, åˆ†åˆ«è¡¨ç¤ºé­”æ³•å¡çš„ä¸ªæ•°å’Œç§ç±»ä¸ªæ•°ã€‚<br>æ¥ä¸‹æ¥æœ‰nè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°xï¼Œy åˆ†åˆ«è¡¨ç¤ºå±äºå“ªä¸€ç§é­”æ³•å¡å’Œé­”æ³•å¡æ‰€åœ¨çš„åæ ‡</p>
<p><strong>ç¤ºä¾‹1</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">7</span>,<span class="number">3</span>,[[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">7</span>],[<span class="number">2</span>,<span class="number">8</span>],[<span class="number">1</span>,<span class="number">3</span>]]</span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è¯´æ˜: </span><br><span class="line">æ ·ä¾‹ä¸€ï¼šç‰›ç‰›ä»åæ ‡ç‚¹<span class="number">5</span>å‡ºå‘ï¼Œç»è¿‡<span class="number">7</span>ã€<span class="number">8</span>ä¸¤ä¸ªç‚¹å°±æ”¶é›†äº†<span class="number">3</span>å¼ ä¸åŒç§ç±»çš„é­”æ³•å¡ï¼Œè¾¾æˆæˆå°±ã€‚æ‰€éœ€ä»£ä»· ï¼ˆ<span class="number">7</span><span class="number">-5</span>ï¼‰+ï¼ˆ<span class="number">8</span><span class="number">-7</span>ï¼‰ = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>å¤‡æ³¨:</strong></p>
<ul>
<li>1&lt;=n&lt;=10^6</li>
<li>1&lt;=k&lt;=50 0&lt;=x&lt;k</li>
<li>0 &lt;= y &lt;= 1e9</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>tagæ˜¯äºŒåˆ†ï¼Œä½†æ˜¯æƒ³äº†ä¸€ä¼šå„¿æ„Ÿè§‰å¥½åƒæ²¡å•¥å¥½çš„äºŒåˆ†çš„æ€è·¯ï¼ŒäºŒåˆ†ç­”æ¡ˆè²Œä¼¼å¯è¡Œï¼Œä¸è¿‡è¿™é¢˜æ»‘çª—çš„æ€è·¯æ›´ç®€å•ï¼Œç±»ä¼¼<a href="#76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2">76-æœ€å°è¦†ç›–å­ä¸²</a>æ»‘å°±å®Œäº‹å„¿äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">solve</span> <span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span>[][] card)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// write code here</span></span><br><span class="line">    Arrays.sort(card, (c1,c2)-&gt;c1[<span class="number">1</span>]-c2[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">int</span> INF = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq = <span class="keyword">new</span> <span class="keyword">int</span>[k+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> res = INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; n; right++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (freq[card[right][<span class="number">0</span>]] == <span class="number">0</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        freq[card[right][<span class="number">0</span>]]++;</span><br><span class="line">        <span class="keyword">while</span>(left&lt;=right &amp;&amp; count == k)&#123;</span><br><span class="line">            res = Math.min(res, card[right][<span class="number">1</span>] - card[left][<span class="number">1</span>]);</span><br><span class="line">            freq[card[left][<span class="number">0</span>]]--;</span><br><span class="line">            <span class="keyword">if</span> (freq[card[left][<span class="number">0</span>]]==<span class="number">0</span>) &#123;</span><br><span class="line">                count--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res == INF) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1870-å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰"><a href="#1870-å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰" class="headerlink" title="1870. å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰"></a><a href="https://www.lintcode.com/problem/number-of-substrings-with-all-zeroes/description" target="_blank" rel="noopener">1870. å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰</a></h2><p>ç»™å‡ºä¸€ä¸ªåªåŒ…å«0æˆ–1çš„å­—ç¬¦ä¸²str,è¯·è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å…¨ä¸º0çš„å­å­—ç¬¦ä¸²çš„ä¸ªæ•° 1&lt;=|str|&lt;=30000</p>
<p><strong>ä¾‹1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:<span class="string">"00010011"</span></span><br><span class="line">è¾“å‡º:<span class="number">9</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line"><span class="string">"0"</span>å­å­—ç¬¦ä¸²æœ‰<span class="number">5</span>ä¸ª,</span><br><span class="line"><span class="string">"00"</span>å­å­—ç¬¦ä¸²æœ‰<span class="number">3</span>ä¸ª,</span><br><span class="line"><span class="string">"000"</span>å­å­—ç¬¦ä¸²æœ‰<span class="number">1</span>ä¸ªã€‚</span><br><span class="line">æ‰€ä»¥è¿”å›<span class="number">9</span></span><br></pre></td></tr></table></figure>
<p><strong>ä¾‹2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥:<span class="string">"010010"</span></span><br><span class="line">è¾“å‡º:<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›´æ¥æ»‘å°±è¡Œäº†ï¼Œç»Ÿè®¡æ‰€æœ‰0åŒºé—´çš„é•¿åº¦ï¼Œæ³¨æ„ç»„åˆæ•°çš„è®¡ç®—å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1 1 1 1 1 (5+4+3+2+1) = n(n-1)/2 + n or n(n+1)/2</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">stringCount</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (right &lt; str.length()) &#123;</span><br><span class="line">        <span class="keyword">while</span>(right &lt; str.length() &amp;&amp; str.charAt(right) == <span class="string">'0'</span>)&#123;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// (0  0  0) 1 1</span></span><br><span class="line">        <span class="comment">//  l  n     r</span></span><br><span class="line">        <span class="keyword">int</span> n = right-left;</span><br><span class="line">        <span class="comment">//C(n+1,2)/2</span></span><br><span class="line">        res += n*(n+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        right++;</span><br><span class="line">        left = right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1529-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCodeï¼‰"><a href="#1529-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCodeï¼‰" class="headerlink" title="1529. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCodeï¼‰"></a><a href="https://www.lintcode.com/problem/triplet-subarray-with-absolute-diff-less-than-or-equal-to-limit/description" target="_blank" rel="noopener">1529. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCode</a>ï¼‰</h2><p>ç»™å®šä¸€ä¸ªé€’å¢çš„æ•´æ•°æ•°ç»„numsï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•°limitï¼Œè¯·ä½ è¿”å›æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒå­æ•°ç»„çš„ä¸ªæ•°ï¼Œä½¿å¾—è¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å°äºæˆ–è€…ç­‰äºlimitã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› 0 ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´ï¼š</strong> 1 â‰¤â€‰len(nums) â‰¤â€‰1e4ï¼Œ1 â‰¤â€‰limit â‰¤â€‰1e6ï¼Œ0 â‰¤â€‰nums[i] â‰¤â€‰1e6<br>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¿”å›å®ƒå¯¹99997867å–ä½™åçš„ç»“æœã€‚</p>
<p><strong>æ ·ä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šå¯é€‰æ–¹æ¡ˆæœ‰(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>), (<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>), (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)ã€‚å› æ­¤ï¼Œæ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„æœ‰<span class="number">4</span>ä¸ªã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ ·ä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">50</span>], <span class="number">19</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€å¯è¡Œçš„ä¸‰å…ƒç»„æ˜¯(<span class="number">1</span>, <span class="number">10</span>, <span class="number">20</span>)ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º<span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>
<p><strong>æŒ‘æˆ˜</strong><br>ä½ å¯ä»¥åªç”¨O(n)çš„æ—¶é—´å¤æ‚åº¦è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æˆ‘ä¸€å¼€å§‹çœ‹è§æ˜¯Hardæƒ³çš„æŒºå¤æ‚çš„ï¼Œä»€ä¹ˆå•è°ƒæ ˆéƒ½æå‡ºæ¥äº†ï¼Œä½†æ˜¯ä»”ç»†çœ‹é¢˜ä¼šå‘ç°é¢˜ç›®ç»™çš„æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥ç›´æ¥æ»‘çª—ç„¶åç»Ÿè®¡å°±è¡Œäº†ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„è®¡ç®—çš„æ–¹å¼ï¼Œé¿å…ç®—é‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//LintCodeä¸Šå±…ç„¶æ˜¯Hardï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆéš¾</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">tripletSubarray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> limit)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// write your code here</span></span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°æœ€è¿œçš„åˆæ³•right</span></span><br><span class="line">        <span class="keyword">while</span> (right &lt; n &amp;&amp; nums[right]-nums[left] &lt;= limit) &#123;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//  1  (2 3 4)  5</span></span><br><span class="line">        <span class="comment">//left   len  right</span></span><br><span class="line">        <span class="keyword">int</span> len = right-left-<span class="number">1</span>;</span><br><span class="line">        left++;</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//C(len,2) æ±‚ä»¥leftå¼€å¤´ï¼ŒåŒ…å«leftçš„æ‰€æœ‰3å…ƒç»„ï¼Œè¿™æ ·ä¸ä¼šé‡å¤</span></span><br><span class="line">        res += len*(len-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ„Ÿè§‰è‡ªå·±é™ä¸‹å¿ƒæ¥æƒ³çš„è¯å¾ˆå¤šé¢˜ç›®è¿˜æ˜¯å¯ä»¥è‡ªå·±åšå‡ºæ¥çš„ï¼Œä½†æ˜¯å°±æ˜¯æƒ³çš„å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œç‰¹åˆ«æ˜¯ç«èµ›ä¸­ï¼Œè§„å®šäº†æ—¶é—´åä¸€æ…Œå°±æ›´æ…¢äº†ã€‚ã€‚çœ‹æ¥è¿˜æ˜¯ç»ƒå°‘äº†</p>
</blockquote>
<h2 id="1375-è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰"><a href="#1375-è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰" class="headerlink" title="1375. è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰"></a><a href="https://www.lintcode.com/problem/substring-with-at-least-k-distinct-characters/description" target="_blank" rel="noopener">1375. è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰</a></h2><p>ç»™å®šä¸€ä¸ªä»…åŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸² S.</p>
<p>è¿”å› S ä¸­è‡³å°‘åŒ…å« k ä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²çš„æ•°é‡.</p>
<ul>
<li>10 â‰¤ length(S) â‰¤ 1,000,000</li>
<li>1 â‰¤ k â‰¤ 26</li>
</ul>
<p><strong>æ ·ä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: S = <span class="string">"abcabcabca"</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡º: <span class="number">0</span></span><br><span class="line">è§£é‡Š: å­—ç¬¦ä¸²ä¸­ä¸€å…±å°±åªæœ‰ <span class="number">3</span> ä¸ªä¸åŒçš„å­—ç¬¦.</span><br></pre></td></tr></table></figure>
<p><strong>æ ·ä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: S = <span class="string">"abcabcabcabc"</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="number">55</span></span><br><span class="line">è§£é‡Š: ä»»æ„é•¿åº¦ä¸å°äº <span class="number">3</span> çš„å­ä¸²éƒ½å«æœ‰ a, b, c è¿™ä¸‰ä¸ªå­—ç¬¦.</span><br><span class="line">    æ¯”å¦‚,é•¿åº¦ä¸º <span class="number">3</span> çš„å­ä¸²å…±æœ‰ <span class="number">10</span> ä¸ª, <span class="string">"abc"</span>, <span class="string">"bca"</span>, <span class="string">"cab"</span> ... <span class="string">"abc"</span></span><br><span class="line">    é•¿åº¦ä¸º <span class="number">4</span> çš„å­ä¸²å…±æœ‰ <span class="number">9</span> ä¸ª, <span class="string">"abca"</span>, <span class="string">"bcab"</span>, <span class="string">"cabc"</span> ... <span class="string">"cabc"</span></span><br><span class="line">    ...</span><br><span class="line">    é•¿åº¦ä¸º <span class="number">12</span> çš„å­ä¸²æœ‰ <span class="number">1</span> ä¸ª, å°±æ˜¯ S æœ¬èº«.</span><br><span class="line">    æ‰€ä»¥ç­”æ¡ˆæ˜¯ <span class="number">1</span> + <span class="number">2</span> + ... + <span class="number">10</span> = <span class="number">55.</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç»å…¸æ»‘çª—ï¼Œéå¸¸å¥—è·¯ï¼Œæƒ³å¥½æ€ä¹ˆç»Ÿè®¡å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">kDistinctCharacters</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; n; right++) &#123;</span><br><span class="line">        <span class="keyword">char</span> cr = s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (freq[cr] == <span class="number">0</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        freq[cr]++;</span><br><span class="line">        <span class="keyword">while</span> (count &gt;= k &amp;&amp; left &lt;= right) &#123;</span><br><span class="line">            <span class="comment">// abc | abcabcabc</span></span><br><span class="line">            <span class="comment">// l r(2)          n(12)</span></span><br><span class="line">            <span class="comment">//ç»Ÿè®¡ä»¥s[left,right]å¼€å¤´çš„æ‰€æœ‰å­ä¸²</span></span><br><span class="line">            <span class="comment">//10+9+8+7+...+1</span></span><br><span class="line">            res += n-right;</span><br><span class="line">            <span class="keyword">char</span> cl = s.charAt(left);</span><br><span class="line">            freq[cl]--;</span><br><span class="line">            <span class="keyword">if</span> (freq[cl] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                count--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="386-æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²-LintCode"><a href="#386-æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²-LintCode" class="headerlink" title="386. æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²(LintCode)"></a><a href="https://www.lintcode.com/problem/longest-substring-with-at-most-k-distinct-characters/description" target="_blank" rel="noopener">386. æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²(LintCode)</a></h2><p>ç»™å®šå­—ç¬¦ä¸²Sï¼Œæ‰¾åˆ°æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²Tã€‚</p>
<p><strong>æ ·ä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: S = <span class="string">"eceba"</span> å¹¶ä¸” k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br><span class="line">è§£é‡Š: T = <span class="string">"eceb"</span></span><br></pre></td></tr></table></figure>
<p><strong>æ ·ä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: S = <span class="string">"WORLD"</span> å¹¶ä¸” k = <span class="number">4</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br><span class="line">è§£é‡Š: T = <span class="string">"WORL"</span> æˆ– <span class="string">"ORLD"</span></span><br></pre></td></tr></table></figure>
<p><strong>æŒ‘æˆ˜</strong>ï¼š O(n) æ—¶é—´å¤æ‚åº¦</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ— è„‘æ»‘çª—å°±è¡Œäº†ï¼Œå¤ªå¥—è·¯äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// write your code here</span></span><br><span class="line">    <span class="keyword">int</span> n = s.length();</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] freq = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; n; right++) &#123;</span><br><span class="line">        <span class="keyword">char</span> cr = s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (freq[cr] == <span class="number">0</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        freq[cr]++;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right &amp;&amp; count &gt; k) &#123;</span><br><span class="line">            <span class="keyword">char</span> cl = s.charAt(left);</span><br><span class="line">            freq[cl]--;</span><br><span class="line">            <span class="keyword">if</span> (freq[cl] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                count--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        res = Math.max(res, right-left+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1675-æ•°ç»„çš„æœ€å°åç§»é‡"><a href="#1675-æ•°ç»„çš„æœ€å°åç§»é‡" class="headerlink" title="1675. æ•°ç»„çš„æœ€å°åç§»é‡"></a><a href="https://leetcode-cn.com/problems/minimize-deviation-in-array/" target="_blank" rel="noopener">1675. æ•°ç»„çš„æœ€å°åç§»é‡</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ç»™ä½ ä¸€ä¸ªç”± <code>n</code> ä¸ªæ­£æ•´æ•°ç»„æˆçš„æ•°ç»„ <code>nums</code> ã€‚</p>
<p>ä½ å¯ä»¥å¯¹æ•°ç»„çš„ä»»æ„å…ƒç´ æ‰§è¡Œä»»æ„æ¬¡æ•°çš„ä¸¤ç±»æ“ä½œï¼š</p>
<ul>
<li>å¦‚æœå…ƒç´ æ˜¯å¶æ•° ï¼Œé™¤ä»¥ <code>2</code><ul>
<li>  ä¾‹å¦‚ï¼Œå¦‚æœæ•°ç»„æ˜¯ <code>[1,2,3,4]</code> ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¯¹æœ€åä¸€ä¸ªå…ƒç´ æ‰§è¡Œæ­¤æ“ä½œï¼Œä½¿å…¶å˜æˆ <code>[1,2,3,2]</code></li>
</ul>
</li>
<li>å¦‚æœå…ƒç´ æ˜¯å¥‡æ•° ï¼Œä¹˜ä¸Š <code>2</code><ul>
<li>  ä¾‹å¦‚ï¼Œå¦‚æœæ•°ç»„æ˜¯ <code>[1,2,3,4]</code> ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¯¹ç¬¬ä¸€ä¸ªå…ƒç´ æ‰§è¡Œæ­¤æ“ä½œï¼Œä½¿å…¶å˜æˆ <code>[2,2,3,4]</code></li>
</ul>
</li>
</ul>
<p>æ•°ç»„çš„ <strong>åç§»é‡</strong> æ˜¯æ•°ç»„ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ <strong>æœ€å¤§å·®å€¼</strong> ã€‚</p>
<p>è¿”å›æ•°ç»„åœ¨æ‰§è¡ŒæŸäº›æ“ä½œä¹‹åå¯ä»¥æ‹¥æœ‰çš„ <strong>æœ€å°åç§»é‡</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥å°†æ•°ç»„è½¬æ¢ä¸º [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]ï¼Œç„¶åè½¬æ¢æˆ [<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]ï¼Œåç§»é‡æ˜¯ <span class="number">3</span> - <span class="number">2</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">20</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šä¸¤æ¬¡æ“ä½œåï¼Œä½ å¯ä»¥å°†æ•°ç»„è½¬æ¢ä¸º [<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">3</span>]ï¼Œåç§»é‡æ˜¯ <span class="number">5</span> - <span class="number">2</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">2</span>,<span class="number">10</span>,<span class="number">8</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  n == nums.length</li>
<li>  2 &lt;= n &lt;= 10<sup><span style="display: inline;">5</span></sup></li>
<li>  1 &lt;= nums[i] &lt;= 10<sup>9</sup></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢<a href="#632-%E6%9C%80%E5%B0%8F%E5%8C%BA%E9%97%B4">632-æœ€å°åŒºé—´</a>ä¸€æ ·ï¼Œå°†æ•°æ®å˜æˆå’Œæœ€å°åŒºé—´ä¸€æ ·çš„å½¢å¼ï¼Œç„¶åç›´æ¥å¥—ç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumDeviation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b)-&gt;a[<span class="number">2</span>]-b[<span class="number">2</span>]);</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; lis = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums[i] % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            pq.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, <span class="number">0</span>, nums[i]&#125;);</span><br><span class="line">            max = Math.max(max, nums[i]);</span><br><span class="line">            tmp.add(nums[i]);</span><br><span class="line">            tmp.add(nums[i] * <span class="number">2</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tmp.add(nums[i]);</span><br><span class="line">            <span class="keyword">while</span> (nums[i] % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                tmp.add(nums[i]/<span class="number">2</span>);</span><br><span class="line">                nums[i]/=<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pq.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, <span class="number">0</span>, nums[i]&#125;);</span><br><span class="line">            max = Math.max(max, nums[i]);</span><br><span class="line">            Collections.reverse(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        lis.add(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] min = pq.poll();</span><br><span class="line">        res = Math.min(res, max-min[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">if</span> (min[<span class="number">1</span>]+<span class="number">1</span> &gt;= lis.get(min[<span class="number">0</span>]).size()) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> next = lis.get(min[<span class="number">0</span>]).get(min[<span class="number">1</span>]+<span class="number">1</span>);</span><br><span class="line">        pq.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;min[<span class="number">0</span>], min[<span class="number">1</span>]+<span class="number">1</span>, next&#125;);</span><br><span class="line">        max = Math.max(max, next);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumDeviation2</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b)-&gt;b-a);</span><br><span class="line">    <span class="keyword">int</span> min = INF;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((nums[i] &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">            nums[i] &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        min = Math.min(min, nums[i]);</span><br><span class="line">        pq.add(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = INF;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> max = pq.poll();</span><br><span class="line">        res = Math.min(res, max-min);</span><br><span class="line">        <span class="keyword">if</span> ((max&amp;<span class="number">1</span>)==<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pq.add(max/<span class="number">2</span>);</span><br><span class="line">        min = Math.min(min, max/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#LeetCode-æ»‘åŠ¨çª—å£"><span class="toc-text">LeetCode æ»‘åŠ¨çª—å£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><span class="toc-text">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5312-å¤§å°ä¸º-K-ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®"><span class="toc-text">5312. å¤§å°ä¸º K ä¸”å¹³å‡å€¼å¤§äºç­‰äºé˜ˆå€¼çš„å­æ•°ç»„æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><span class="toc-text">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#219-å­˜åœ¨é‡å¤å…ƒç´ -II"><span class="toc-text">219. å­˜åœ¨é‡å¤å…ƒç´  II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#209-é•¿åº¦æœ€å°çš„å­æ•°ç»„"><span class="toc-text">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜57-II-å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—"><span class="toc-text">é¢è¯•é¢˜57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#480-æ»‘åŠ¨çª—å£ä¸­ä½æ•°"><span class="toc-text">480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#76-æœ€å°è¦†ç›–å­ä¸²"><span class="toc-text">76. æœ€å°è¦†ç›–å­ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#632-æœ€å°åŒºé—´"><span class="toc-text">632. æœ€å°åŒºé—´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#438-æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯"><span class="toc-text">438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#567-å­—ç¬¦ä¸²çš„æ’åˆ—"><span class="toc-text">567. å­—ç¬¦ä¸²çš„æ’åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¢è¯•é¢˜-17-18-æœ€çŸ­è¶…ä¸²"><span class="toc-text">é¢è¯•é¢˜ 17.18. æœ€çŸ­è¶…ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1004-æœ€å¤§è¿ç»­1çš„ä¸ªæ•°-III"><span class="toc-text">1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5434-åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º-1-çš„æœ€é•¿å­æ•°ç»„"><span class="toc-text">5434. åˆ æ‰ä¸€ä¸ªå…ƒç´ ä»¥åå…¨ä¸º 1 çš„æœ€é•¿å­æ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#424-æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦"><span class="toc-text">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1234-æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²"><span class="toc-text">1234. æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1358-åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®"><span class="toc-text">1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1423-å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°"><span class="toc-text">1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1208-å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"><span class="toc-text">1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1052-çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿"><span class="toc-text">1052. çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1040-ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­-II"><span class="toc-text">1040. ç§»åŠ¨çŸ³å­ç›´åˆ°è¿ç»­ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1456-å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®"><span class="toc-text">1456. å®šé•¿å­ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1461-æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º-K-çš„äºŒè¿›åˆ¶å­ä¸²"><span class="toc-text">1461. æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ‰€æœ‰é•¿åº¦ä¸º K çš„äºŒè¿›åˆ¶å­ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1498-æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®"><span class="toc-text">1498. æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#904-æ°´æœæˆç¯®"><span class="toc-text">904. æ°´æœæˆç¯®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NC562-ç‰›ç‰›çš„é­”æ³•å¡"><span class="toc-text">NC562.ç‰›ç‰›çš„é­”æ³•å¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1870-å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰"><span class="toc-text">1870. å…¨é›¶å­ä¸²çš„æ•°é‡ï¼ˆLintCodeï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1529-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCodeï¼‰"><span class="toc-text">1529. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„ä¸‰å…ƒå­æ•°ç»„ï¼ˆLintCodeï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1375-è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰"><span class="toc-text">1375. è‡³å°‘Kä¸ªä¸åŒå­—ç¬¦çš„å­ä¸²ï¼ˆLintCodeï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#386-æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²-LintCode"><span class="toc-text">386. æœ€å¤šæœ‰kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²(LintCode)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1675-æ•°ç»„çš„æœ€å°åç§»é‡"><span class="toc-text">1675. æ•°ç»„çš„æœ€å°åç§»é‡</span></a></li></ol>
  </div>


  </div>
</div>

    <section id="comments" style="margin:10px;padding:10px;background:#fff;">
      
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'imlgw';
    
    var disqus_url = 'http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script id="dsq-count-scr" src="//imlgw.disqus.com/count.js" async></script>



    </section>
<div class="copyright">
    <span>æœ¬ä½œå“é‡‡ç”¨</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>
    <span>è¿›è¡Œè®¸å¯ã€‚ è½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ã€‚</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2019/07/19/socket-wang-luo-bian-cheng/" rel="next" title="Socketç½‘ç»œç¼–ç¨‹">
          Socketç½‘ç»œç¼–ç¨‹
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/07/24/bing-fa-gong-ju-bao/" rel="prev" title="JUCå¹¶å‘å·¥å…·åŒ…">
            JUCå¹¶å‘å·¥å…·åŒ…
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  

    </div>

    
  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/imlgw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="/links">å‹æƒ…é“¾æ¥</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://imlgw.avosapps.us/" target="_blank" rel="noopener">åšå®¢è¯„è®ºç®¡ç†</a>
    </div>
    <div id="bottom-inner">
        <a class="bottom-item" href="http://beian.miit.gov.cn/publish/query/indexFirst.action" target="_blank">é„‚ICPå¤‡18011208å·</a>
    </div>
</footer>

  
  
  <script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * ç»™logoè®¾ç½®ç‚¹å‡»äº‹ä»¶
     * 
     * - å›åˆ°é¡¶éƒ¨
     * - å‡ºç°çˆ±å¿ƒ
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>
  
  



  

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>
</html>
