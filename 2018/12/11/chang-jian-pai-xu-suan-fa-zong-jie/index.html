
<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="æ•°æ®ç»“æ„,æ’åº," />
  

  
    <meta name="description" content="å¤§æ‚²æ— æ³ªï¼Œå¤§æ‚Ÿæ— è¨€ï¼Œå¤§ç¬‘æ— å£°ã€‚" />
  
  
  
  <link rel="icon" type="image/x-icon" href="/img/cat.ico">
  
  <title>å¸¸è§çš„æ’åºç®—æ³•æ€»ç»“ [ iM1Gw0 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    
    <span class="title" style="text-transform:none">iM1Gw0</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            
              <li class="pure-menu-item"><a href="/" class="pure-menu-link">é¦–é¡µ</a></li>
            
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="post" class="pure-menu-link">æ–‡ç« </a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="/categories" style="color:#202020;" class="pure-menu-link">åˆ†ç±»</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/archives" style="color:#202020;" class="pure-menu-link">å½’æ¡£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/tags" style="color:#202020;" class="pure-menu-link">æ ‡ç­¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="/music" style="color:#202020;" class="pure-menu-link">éŸ³ä¹</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            
              <a href="#" id="ç®—æ³•" class="pure-menu-link">ç®—æ³•</a>
              <ul class="pure-menu-children">
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/05/04/leetcode-shu-zu/" style="color:#202020;" class="pure-menu-link">æ•°ç»„</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/02/27/leetcode-lian-biao/" style="color:#202020;" class="pure-menu-link">é“¾è¡¨</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/01/leetcode-zhan-dui-lie/" style="color:#202020;" class="pure-menu-link">æ ˆ&amp;é˜Ÿåˆ—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/15/leetcode-cha-zhao/" style="color:#202020;" class="pure-menu-link">æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/07/20/leetcode-hua-dong-chuang-kou/" style="color:#202020;" class="pure-menu-link">æ»‘åŠ¨çª—å£</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/" style="color:#202020;" class="pure-menu-link">åŠ¨æ€è§„åˆ’</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/12/06/leetcode-er-fen-cha-zhao/" style="color:#202020;" class="pure-menu-link">äºŒåˆ†æŸ¥æ‰¾</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/06/leetcode-er-cha-shu/" style="color:#202020;" class="pure-menu-link">äºŒå‰æ ‘</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/11/29/leetcode-bei-bao-wen-ti/" style="color:#202020;" class="pure-menu-link">èƒŒåŒ…é—®é¢˜</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2019/10/10/leetcode-hui-su/" style="color:#202020;" class="pure-menu-link">å›æº¯</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/01/21/leetcode-tan-xin/" style="color:#202020;" class="pure-menu-link">è´ªå¿ƒ</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/07/03/leetcode-wei-yun-suan/" style="color:#202020;" class="pure-menu-link">ä½è¿ç®—</a></li>
                  
              
                  
                    <li class="pure-menu-item"><a href="http://imlgw.top/2020/08/28/leetcode-dan-diao-zhan/" style="color:#202020;" class="pure-menu-link">å•è°ƒæ ˆ</a></li>
                  
              
              </ul>
            </li>
          
      
          
            
              <li class="pure-menu-item"><a href="/project" class="pure-menu-link">Github</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/search" class="pure-menu-link">æœç´¢</a></li>
            
          
      
          
            
              <li class="pure-menu-item"><a href="/about" class="pure-menu-link">å…³äº</a></li>
            
          
      
  </ul>
   
</nav>

  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        å¸¸è§çš„æ’åºç®—æ³•æ€»ç»“
      </h1>
      <span>
        
        <time class="time" datetime="2018-12-10T16:00:00.000Z">
        2018-12-11
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F/" rel="tag">æ’åº</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> ç‚¹å‡»
    </span>
      <span class="slash">/</span>
      <span class="read">é˜…è¯»è€—æ—¶ 32 åˆ†é’Ÿ</span>
    </header>

    <div class="post-content">
      <h2 id="å¸¸è§æ’åºç®—æ³•æ€»ç»“"><a href="#å¸¸è§æ’åºç®—æ³•æ€»ç»“" class="headerlink" title="å¸¸è§æ’åºç®—æ³•æ€»ç»“"></a>å¸¸è§æ’åºç®—æ³•æ€»ç»“</h2><p>å…³äºæ’åºçš„éƒ¨åˆ†ä¸€ç›´æƒ³æ€»ç»“ä¸‹ä¸€ç›´æ²¡æ—¶é—´ï¼Œç°åœ¨æ¥æ€»ç»“ä¸‹å§ã€‚gifå›¾æ¥è‡ªå¾®ä¿¡ä¸Šçš„æ–‡ç«  (<strong>äº”åˆ†é’Ÿå­¦ç®—æ³•</strong>çš„å…¬ä¼—å·ï¼ŒæŒºä¸é”™å¹²è´§æŒºå¤šçš„)ï¼ŒåŸç†æ€§çš„ä¸œè¥¿å°±ä¸è®²äº†ï¼Œå›¾è®²çš„æ¯”æˆ‘å¥½ã€‚å¦‚æœè¿˜æ˜¯ä¸æ‡‚å¯ä»¥çœ‹çœ‹ã€Šç®—æ³•ã€‹é‡Œé¢çš„è½¨è¿¹å›¾ï¼Œé‚£ä¸ªä¹Ÿå¾ˆç›´è§‚ </p>
<h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p>  <img src="http://static.imlgw.top/f02ace7b7fb9b810274e683c2be54a02_640_wx_fmt=gif&tp=webp&wxfrom=5&wx_lazy=1.gif" alt="weixin"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MaoPaoSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=nums.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j]&gt;nums[j+<span class="number">1</span>])&#123;</span><br><span class="line">                swap(nums,j,j+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p><img src="http://static.imlgw.top/640.gif" alt="weixin"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€‰æ‹©æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SelectSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> min=nums[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;nums.length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j]&lt;min)&#123;</span><br><span class="line">                min=nums[j];</span><br><span class="line">                swap(nums,j,i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç›´æ¥æ’å…¥æ’åº"><a href="#ç›´æ¥æ’å…¥æ’åº" class="headerlink" title="ç›´æ¥æ’å…¥æ’åº"></a>ç›´æ¥æ’å…¥æ’åº</h3><p><img src="http://static.imlgw.top/640%20%281%29.gif" alt="weixin"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=i;j&gt;<span class="number">0</span>&amp;&amp;nums[j]&lt;nums[j-<span class="number">1</span>];j--)&#123;</span><br><span class="line">            swap(nums,j,j-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><p><img src="http://static.imlgw.top/640%20%282%29.gif" alt="weixin"></p>
<h4 id="å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹"><a href="#å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹" class="headerlink" title="å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹"></a>å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å½’å¹¶æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    help=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    MergerSort(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSort</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left&gt;=right)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸èƒ½ç›´æ¥åœ¨è¿™é‡Œåˆ›å»ºæ•°ç»„ï¼Œä¸¥é‡å½±å“æ€§èƒ½ï¼Œå¯ä»¥åœ¨ä¸Šé¢å†å¥—ä¸€å±‚æ–¹æ³•ï¼Œæˆ–è€…é‡‡ç”¨merger2çš„æ–¹å¼(ä¹Ÿä¸å¥½ï¼Œåº”è¯¥ä¿è¯è¾…åŠ©æ•°ç»„åªåˆå§‹åŒ–ä¸€æ¬¡)</span></span><br><span class="line">    <span class="comment">//help=new int[nums.length];</span></span><br><span class="line">    <span class="keyword">int</span> mid=left+((right-left)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    MergerSort(nums,left,mid);</span><br><span class="line">    MergerSort(nums,mid+<span class="number">1</span>,right);</span><br><span class="line">    merger(nums,left,mid,right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾…åŠ©æ•°ç»„</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> []help;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½’å¹¶æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merger</span><span class="params">(<span class="keyword">int</span> []nums ,<span class="keyword">int</span> left,<span class="keyword">int</span> mid,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=left,j=mid+<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//å…¶å®æ²¡åŒºåˆ«ç©ºé—´å¤æ‚åº¦ï¼Œéƒ½æ˜¯O(N) åé¢è¿™ä¸ªä¼šæ›´åŠ è€—è´¹æ—¶é—´</span></span><br><span class="line">    <span class="comment">//int []help=new int[right-left+1];</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=left;k&lt;=right;k++)&#123;</span><br><span class="line">        <span class="comment">//ä¸€è¾¹çš„åˆ°è¾¾å°½å¤´,å…ˆåˆ¤æ–­ä¸¤ä¸ªè¾¹ç•Œ,ä¸ç„¶å°±è¦æƒ³ä¸‹é¢é‚£æ ·å†™</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;mid)&#123;</span><br><span class="line">            help[k]=nums[j++];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(j&gt;right)&#123;</span><br><span class="line">            help[k]=nums[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[i]&gt;nums[j])&#123;</span><br><span class="line">            help[k]=nums[j++];</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//ç›¸ç­‰çš„æ—¶å€™å·¦è¾¹å…ˆè¿›æ ˆä¿è¯ç¨³å®šæ€§</span></span><br><span class="line">            help[k]=nums[i++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*// 2 </span></span><br><span class="line"><span class="comment">            if( i&lt;=mid &amp;&amp;j&lt;=right &amp;&amp; nums[i]&gt;nums[j])&#123;</span></span><br><span class="line"><span class="comment">                help[k]=nums[j++];</span></span><br><span class="line"><span class="comment">            &#125;else if( i&lt;=mid &amp;&amp;j&lt;=right &amp;&amp; nums[i]&lt;=nums[j])&#123;</span></span><br><span class="line"><span class="comment">                //ç›¸ç­‰çš„æ—¶å€™å·¦è¾¹å…ˆè¿›æ ˆä¿è¯ç¨³å®šæ€§</span></span><br><span class="line"><span class="comment">                help[k]=nums[i++];</span></span><br><span class="line"><span class="comment">            &#125;else if(i&gt;mid)&#123;</span></span><br><span class="line"><span class="comment">                help[k]=nums[j++];</span></span><br><span class="line"><span class="comment">            &#125;else if(j&gt;right)&#123; </span></span><br><span class="line"><span class="comment">                help[k]=nums[i++];</span></span><br><span class="line"><span class="comment">            &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¤åˆ¶</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=left;k&lt;=right;k++)&#123;</span><br><span class="line">        nums[k]=help[k];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*while (p1 &lt;= m &amp;&amp; p2 &lt;= r) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p1] &lt; arr[p2] ? arr[p1++] : arr[p2++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        while (p1 &lt;= m) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p1++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        while (p2 &lt;= r) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p2++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        for (i = 0; i &lt; help.length; i++) &#123;</span></span><br><span class="line"><span class="comment">            arr[l + i] = help[i];</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="éé€’å½’ç‰ˆæœ¬"><a href="#éé€’å½’ç‰ˆæœ¬" class="headerlink" title="éé€’å½’ç‰ˆæœ¬"></a>éé€’å½’ç‰ˆæœ¬</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å½’å¹¶æ’åºï¼ˆéé€’å½’ï¼Œæ–¹å‘ä¸ä¸€æ ·ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€æ ·éƒ½ä¸ºO(NlogN)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSortNoRecurse</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    help=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">    <span class="comment">//æ§åˆ¶åˆå¹¶çš„é•¿åº¦ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> sz=<span class="number">1</span>;sz&lt;nums.length;sz*=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="comment">//æ§åˆ¶åˆå¹¶çš„å‘åç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length-sz;i+=<span class="number">2</span>*sz)&#123;</span><br><span class="line">            <span class="keyword">int</span> r=i+<span class="number">2</span>*sz-<span class="number">1</span>&lt;nums.length-<span class="number">1</span>?i+<span class="number">2</span>*sz-<span class="number">1</span>:nums.length-<span class="number">1</span>;</span><br><span class="line">            merger(nums,i,i+sz-<span class="number">1</span>,r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’-è·å…°å›½æ——é—®é¢˜"><a href="#ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’-è·å…°å›½æ——é—®é¢˜" class="headerlink" title="ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’(è·å…°å›½æ——é—®é¢˜)"></a>ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’(è·å…°å›½æ——é—®é¢˜)</h3><p><img src="http://static.imlgw.top/640%20%283%29.gif" alt="weixin"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¿«æ’ (ä¸å…·æœ‰ç¨³å®šæ€§æˆ–è€…éš¾ä»¥å®ç°)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;r)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éšæœºä¸€ä¸ªæ•°å’Œräº¤æ¢ ---éšæœºå¿«æ’</span></span><br><span class="line">    swap(nums, l + (<span class="keyword">int</span>) (Math.random() * (r - l + <span class="number">1</span>)), r);</span><br><span class="line">    <span class="keyword">int</span> []index=partition2(nums,l,r);</span><br><span class="line">    QuickSort(nums,l,index[<span class="number">0</span>]-<span class="number">1</span>);</span><br><span class="line">    QuickSort(nums,index[<span class="number">1</span>]+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition1</span><span class="params">(<span class="keyword">int</span> []nums ,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> base = l;</span><br><span class="line">    <span class="comment">//åŒæŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">int</span> lo = l, hi = r;</span><br><span class="line">    <span class="comment">//è¿™ç§partitionçš„å®ç°ç»†èŠ‚æœ‰ç‚¹ä¸å¥½ç†è§£</span></span><br><span class="line">    <span class="comment">//è¿™ç§partitionä¸èƒ½éšæœºåŸºå‡†å…ƒç´ ã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line">    <span class="comment">//å‚ç…§äº†å·¦ç¥çš„ä»£ç å‘ç°å…¶å®å¯ä»¥åœ¨partitionä¹‹å‰éšæœºä¸€ä¸ªå˜é‡å’Œloäº¤æ¢ï¼Œä¹Ÿæœ‰åŒæ ·çš„æ•ˆæœä¹Ÿæ¶ˆé™¤äº†è¾“å…¥çš„å½±å“</span></span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="comment">//å¿…é¡»å…ˆä»å³å¾€å·¦,ä¸»è¦æ˜¯ä¸ºäº†å½’ä½çš„æ—¶å€™ä¸å‡ºç°é—®é¢˜</span></span><br><span class="line">        <span class="comment">//æ¯”å¦‚è¿™é‡Œé€‰å–çš„åŸºå‡†å…ƒç´ æ˜¯ lo ä¹Ÿå°±æ˜¯å­æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå…ˆä»å·¦å¾€å³æœ€åäº¤æ¢çš„å°±æ˜¯loå’Œä¸€ä¸ªæ¯”loå¤§çš„æ•°ç„¶è€Œæ¯”loå¤§çš„æ•°åº”è¯¥æ”¾åœ¨å³è¾¹</span></span><br><span class="line">        <span class="comment">//åä¹‹å¦‚æœé€‰çš„æ˜¯hiä¸ºåŸºå‡†å°±è¦å…ˆä»å·¦å¾€å³</span></span><br><span class="line">        <span class="comment">// 7  0  1  2    10  11  22</span></span><br><span class="line">        <span class="keyword">while</span> (nums[hi] &gt;= nums[base] &amp;&amp; lo &lt; hi) &#123;</span><br><span class="line">            hi--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (nums[lo] &lt;= nums[base] &amp;&amp; lo &lt; hi) &#123;</span><br><span class="line">            lo++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (lo &lt; hi) &#123;</span><br><span class="line">            swap(nums, lo, hi);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½’ä½ lo==hi</span></span><br><span class="line">    swap(nums, hi, base);</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å…°å›½æ——ä¼˜åŒ–çš„å¿«æ’</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] partition2(<span class="keyword">int</span> []arr ,<span class="keyword">int</span> l,<span class="keyword">int</span> r)&#123;</span><br><span class="line">    <span class="comment">// 7  0  1  2    10  11  22        </span></span><br><span class="line">    <span class="comment">//å°äºåŒºä¸ºç©º</span></span><br><span class="line">    <span class="keyword">int</span> less=l-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//l ----&gt; more ä¸ºå¾…å®šåŒº</span></span><br><span class="line">    <span class="keyword">int</span> more=r;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;more)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[l]&lt;arr[r])&#123;</span><br><span class="line">            swap(arr,++less,l++);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(arr[l]&gt;arr[r])&#123;</span><br><span class="line">            <span class="comment">//å¤§äºåŸºå‡†æ—¶ , å¤§äºåŒºæ‰©å¤§(å¤§äºåŒºçš„å‰ä¸€ä¸ªå…ƒç´ å’Œå½“å‰å…ƒç´ äº¤æ¢ï¼Œä½†æ˜¯ä¸çŸ¥é“å¤§äºåŒºçš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œæ‰€ä»¥ä¸èƒ½l++)</span></span><br><span class="line">            swap(arr,--more,l);</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            l++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å’Œå¤§äºåŒºé—´çš„ç¬¬ä¸€ä¸ªäº¤æ¢ ä¿è¯å½’ä½æ­£ç¡®,å¦‚æœé€‰å–çš„æ˜¯ä»¥æœ€å·¦è¾¹ä¸ºåŸºå‡†å…ƒç´  è¿™é‡Œå°±åº”è¯¥å’Œlessäº¤æ¢</span></span><br><span class="line">    <span class="comment">//åˆ°è¿™é‡Œ  [less+1,more-1]ä¹‹é—´éƒ½æ˜¯ç­‰äº åŸºå‡†å…ƒç´  arrã€rã€‘ çš„</span></span><br><span class="line">    swap(arr,more,r);</span><br><span class="line">    <span class="comment">//åˆ°è¿™  [less+1,more]ä¹‹é—´éƒ½æ˜¯ç­‰äº åŸºå‡†å…ƒç´  arrã€rã€‘ çš„</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;less+<span class="number">1</span>,more&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><p><img src="http://static.imlgw.top/640%20%284%29.gif" alt="weixin"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å †æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">HeapSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ„å»ºå¤§æ ¹å †</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++) &#123;</span><br><span class="line">        heapInsert(nums,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//äº¤æ¢å †é¡¶å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> size= nums.length;</span><br><span class="line">    swap(nums,size-<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    size--;</span><br><span class="line">    <span class="keyword">while</span>(size&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//è°ƒæ•´</span></span><br><span class="line">        heapIfy(nums,<span class="number">0</span>,size);</span><br><span class="line">        <span class="comment">//æ¯æ¬¡éƒ½å’Œæœ€åä¸€ä¸ªå­©å­èŠ‚ç‚¹äº¤æ¢ï¼Œç„¶åsize--</span></span><br><span class="line">        swap(nums,--size,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘ä¸Šçˆ¬</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span> []nums, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è¿­ä»£æ¯”è¾ƒå½“å‰èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹çš„å€¼çš„å¤§å°</span></span><br><span class="line">    <span class="keyword">while</span>(nums[index]&gt;nums[(index-<span class="number">1</span>)/<span class="number">2</span>])&#123;</span><br><span class="line">        swap(nums,index,(index-<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">        index=(index-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘ä¸‹çˆ¬</span></span><br><span class="line"><span class="comment">//indexä½ç½®çš„å€¼å˜å°åç»§ç»­è°ƒæ•´ä¸ºå¤§æ ¹å †</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapIfy</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> index,<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">    <span class="comment">//å·¦å­©å­</span></span><br><span class="line">    <span class="keyword">int</span> left=index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//èŠ‚ç‚¹æœ‰å·¦å­©å­</span></span><br><span class="line">    <span class="keyword">while</span>(left&lt;size)&#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰å³å­©å­.....</span></span><br><span class="line">        <span class="comment">//å·¦å³å­©å­é‡Œçš„æœ€å¤§å€¼ æœ‰å³å­©å­ä¸”å³å­©å­å¤§äºå·¦å­©å­</span></span><br><span class="line">        <span class="keyword">int</span> largest=left+<span class="number">1</span>&lt;size &amp;&amp; nums[left]&lt;nums[left+<span class="number">1</span>] ?left+<span class="number">1</span>:left;</span><br><span class="line">        largest=nums[largest]&gt;nums[index]?largest:index;</span><br><span class="line">        <span class="comment">//æœ€å¤§å€¼ç­‰äºè‡ªå·±</span></span><br><span class="line">        <span class="keyword">if</span>(largest==index)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢å¤§å­©å­èŠ‚ç‚¹å’Œè‡ªå·±</span></span><br><span class="line">        swap(nums,largest,index);</span><br><span class="line">        <span class="comment">//è®¾ç½®å¤§å­©å­çš„indexå’Œå·¦å­©å­</span></span><br><span class="line">        index=largest;</span><br><span class="line">        left=index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å †æ’åºæ›´ä¼˜çš„åšæ³•"><a href="#å †æ’åºæ›´ä¼˜çš„åšæ³•" class="headerlink" title="å †æ’åºæ›´ä¼˜çš„åšæ³•"></a>å †æ’åºæ›´ä¼˜çš„åšæ³•</h3><p>ä¸Šé¢çš„åšæ³•å¹¶ä¸æ˜¯æœ€ä¼˜çš„å †æ’åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> last=nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//Næ„å»ºå¤§æ ¹å †</span></span><br><span class="line">    <span class="comment">//ä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=nums.length/<span class="number">2</span>-<span class="number">1</span> ;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        heapIfy(nums,i,last);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//printArray(nums);</span></span><br><span class="line">    <span class="keyword">while</span>(last&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">        swap(nums,<span class="number">0</span>,last--);</span><br><span class="line">        heapIfy(nums,<span class="number">0</span>,last);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//i å¤§æ ¹å †è°ƒæ•´</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapIfy</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> i,<span class="keyword">int</span> last)</span></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æœ‰æ²¡æœ‰å­èŠ‚ç‚¹ï¼ˆå·¦å­©å­ï¼‰</span></span><br><span class="line">    <span class="keyword">int</span> left=i*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left&lt;=last)&#123;</span><br><span class="line">        <span class="keyword">int</span> right=left+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//å·¦å³èŠ‚ç‚¹æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">int</span> larger=right&lt;=last &amp;&amp; nums[right] &gt; nums[left]?right:left;</span><br><span class="line">        <span class="keyword">if</span>(nums[larger]&gt;nums[i])&#123;</span><br><span class="line">            swap(nums,larger,i);</span><br><span class="line">            i=larger;</span><br><span class="line">            left=larger*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span>  <span class="title">swap</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp=nums[a];</span><br><span class="line">    nums[a]=nums[b];</span><br><span class="line">    nums[b]=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”ä¹‹å‰çš„æ–¹æ³•ï¼Œæ„é€ å †çš„æ–¹å¼å‘ç”Ÿäº†å˜åŒ–ï¼Œä¸Šé¢é‚£ç§é€šè¿‡è‡ªä¸Šè€Œä¸‹çš„<code>insert</code>æ–¹å¼æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(NlogN)</code>ï¼Œå…¶å®ä»”ç»†æƒ³æƒ³ï¼Œè¿™ä¸¤ç§æ–¹å¼æ˜¯å®Œå…¨ç›¸åçš„ï¼Œinsertçš„æ–¹å¼ï¼Œæœ€åä¸€å±‚æ¯ä¸ªå…ƒç´ æœ€åéƒ½å¯èƒ½è°ƒæ•´<code>logN</code>æ¬¡ï¼Œè€Œæœ€åä¸€å±‚ä¹Ÿæ˜¯å…ƒç´ æœ€å¤šçš„ä¸€å±‚ï¼Œè¿™æ ·ä¸€æ¥å¤æ‚åº¦å°±ä¼šå¤§å¤§å¢åŠ ï¼Œç›¸åå¦‚æœé‡‡ç”¨ä»åº•å‘ä¸Šçš„<code>heapIfy</code>æ–¹å¼æœ€åä¸€å±‚éƒ½åªéœ€è¦è°ƒæ•´<code>1</code>æ¬¡ï¼Œè€Œæ ¹èŠ‚ç‚¹éœ€è¦è°ƒæ•´<code>logN</code>æ¬¡ï¼Œè€Œæ ¹èŠ‚ç‚¹<strong>åªæœ‰ä¸€ä¸ª</strong>æ—¶é—´å¤æ‚åº¦å°±ä¼šå¤§å¤§é™ä½ï¼Œæœ€ç»ˆçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(N)ï¼Œ<a href="https://www.zhihu.com/question/20729324" target="_blank" rel="noopener">å…·ä½“æ¨ç®—è¿‡ç¨‹å¯ä»¥çœ‹è¿™äº›å›ç­”</a> </p>
<p><strong>æ‰‹æ¨è¿‡ç¨‹</strong></p>
<p><img src="http://static.imlgw.top/image/20190617/kVuvnMfjuSns.png?imageslim" alt="img"></p>
<p>æœ€åæ¨å¾—åˆ°å¾—å¤æ‚åº¦æ˜¯å°äº<code>O(2N)</code>ï¼Œä¹Ÿå°±æ˜¯<code>O(N)</code>çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚æœä¸æ˜¯åˆ·<code>leetCode</code> çœ‹åˆ°äº†ç±»ä¼¼çš„é¢˜å¯èƒ½ä¼šä¸€ç›´è¢«é‚£æ ·å»å†™ğŸ˜‚</p>
<p><strong>å†å›é¦–</strong></p>
<p>æ—¶éš”å¤šå¹´ï¼Œåˆå›å¤´å†™äº†ä¸€ä¸ªï¼Œå†™äº†å¤§æ¦‚åŠä¸ªå°æ—¶å·¦å³ï¼Œè¾¹å†™è¾¹å›å¿†ï¼Œæ„Ÿè§‰è¿™ä¸ªå†™æ³•æ¯”ä¸Šé¢å¥½ä¸€ç‚¹ç‚¹ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> N=sc.nextInt();</span><br><span class="line">        <span class="keyword">int</span>[] nums=<span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)nums[i]=sc.nextInt();</span><br><span class="line">        heapSort(nums);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)System.out.print(nums[i]+<span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] nums)</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ±‚å·¦å³å­©å­</span></span><br><span class="line">        <span class="comment">//       0 </span></span><br><span class="line">        <span class="comment">//   1       2</span></span><br><span class="line">        <span class="comment">// 3   4   5   6 </span></span><br><span class="line">        <span class="comment">//7                 7/2=3  4/2=1 8/2=4</span></span><br><span class="line">        <span class="comment">//O(N)æ„å»ºå †</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=nums.length/<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--)&#123; <span class="comment">//ä»2/nå¼€å§‹downæ„å»ºäºŒå‰æ ‘,ä¸ä¸€å®šè¦ç²¾ç¡®,å¤šä¸€ä¸¤ä¸ªæ— æ‰€è°“</span></span><br><span class="line">            down(nums,i,nums.length);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> index=<span class="number">0</span>,tail=nums.length;</span><br><span class="line">        <span class="comment">//å †æ’,å°†å †å¤´æ”¾åˆ°å°¾éƒ¨</span></span><br><span class="line">        <span class="keyword">while</span>(tail&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            swap(nums,index,--tail);</span><br><span class="line">            down(nums,index,tail);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">down</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> index,<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ±‚å·¦å³å­©å­</span></span><br><span class="line">        <span class="comment">//      0 </span></span><br><span class="line">        <span class="comment">//  1       2</span></span><br><span class="line">        <span class="comment">//3   4   5   6</span></span><br><span class="line">        <span class="keyword">while</span>(index*<span class="number">2</span>+<span class="number">1</span> &lt; size)&#123; <span class="comment">//è¿˜æœ‰å­©å­</span></span><br><span class="line">            <span class="keyword">int</span> left=index*<span class="number">2</span>+<span class="number">1</span>,right=left+<span class="number">1</span>;</span><br><span class="line">            <span class="comment">//å·¦å³å­æ ‘ä¸­çš„è¾ƒå¤§</span></span><br><span class="line">            <span class="keyword">int</span> largeIndex = right&lt;size &amp;&amp; nums[left]&lt;nums[right] ? right:left;</span><br><span class="line">            <span class="keyword">if</span>(nums[index] &gt;= nums[largeIndex])&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums,index,largeIndex);</span><br><span class="line">            index=largeIndex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp=nums[a];</span><br><span class="line">        nums[a]=nums[b];</span><br><span class="line">        nums[b]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><p>å®é™…ä¸Šå†™æ’åºå°±æ˜¯åŸºäºæ’å…¥æ’åºçš„ï¼Œåœ¨å®ƒä¹‹ä¸Šè¿›è¡Œäº†æ•°å­¦ä¸Šçš„ä¼˜åŒ–ã€‚</p>
<p><img src="http://static.imlgw.top/640%20%285%29.gif" alt="image"><br>    å®é™…ä¸Šä»é€†åºå¯¹çš„è§’åº¦æ¥çœ‹ï¼ŒåŸºäºæ¯”è¾ƒçš„æ’åºå°±æ˜¯ä¸ºäº†æ¶ˆé™¤é€†åºå¯¹çš„ä¸ªæ•°ï¼Œè€Œè¯¸å¦‚å†’æ³¡é€‰æ‹©æ¯æ¬¡éƒ½åªæ˜¯äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡äº¤æ¢æœ€å¤šåªå‡å°‘ä¸€ä¸ªé€†åºå¯¹ï¼Œè€Œå¸Œå°”æ’åºæ‰©å¤§äº†è¿™ä¸ªé—´è·ï¼Œå°±å¢å¤§äº†å‡å°‘é€†åºå¯¹çš„å¯èƒ½ã€‚ä¸è¿‡è¦ç ”ç©¶ä»–çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯æ•°å­¦ä¸Šçš„ç ”ç©¶çš„é—®é¢˜äº†ï¼Œè‡³äºæ¯æ¬¡é—´è·éƒ½å‡åŠè¿™ä¸ªä¹Ÿæ˜¯æ ¹æ®å¤§æ ·æœ¬æµ‹è¯•ä¸‹è¿™ç§é€’å¢åºåˆ—æ€§èƒ½ä¼šæ›´å¥½ O(âˆ©_âˆ©)O</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ’å…¥æ’åºçš„æ”¹è¿›</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShellSort</span><span class="params">(<span class="keyword">int</span> [] nums)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h=nums.length&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(h&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=h;i&lt;nums.length;i++)&#123;</span><br><span class="line">            <span class="comment">//å®é™…ä¸Šæ˜¯å¢å¤§äº†æ’å…¥æ’åºçš„é—´éš™ï¼Œæœ€åè¿˜æ˜¯å¯¹è¿›è¡Œä¸€æ¬¡æ’å…¥æ’åº,ä¸è¿‡é‚£ä¸ªæ—¶å€™çš„æ•°æ®å·²ç»æ˜¯é«˜åº¦æœ‰åºäº†</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i;j-h&gt;=<span class="number">0</span>&amp;&amp;nums[j]&lt;nums[j-h];j-=h) &#123;</span><br><span class="line">                swap(nums,j,j-h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        h=h&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h3><p>æ’ä¸ªåºè¿˜èƒ½æ’å‡ºBugï¼Ÿå¯¹çš„æ²¡é”™å°±æ˜¯æ’å‡ºäº†BugğŸ¤£ çœ‹çœ‹æˆ‘æœ€å¼€å§‹å†™çš„äº¤æ¢å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    nums[a]=nums[a]^nums[b];</span><br><span class="line">    nums[b]=nums[a]^nums[b];</span><br><span class="line">    nums[a]=nums[a]^nums[b];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†æŠ–è¿™ä¸ªæœºçµä»˜å‡ºäº†æƒ¨ç—›çš„ä»£ä»·ï¼Œä¹‹å‰ç”¨ &gt;&gt; æ‹¿æ¥å½“é™¤2æ“ä½œçš„æ—¶å€™å°±å¿½ç•¥äº†<code>ä¼˜å…ˆçº§</code>çš„é—®é¢˜ã€‚ã€‚ã€‚é‚£è¿™é‡Œçš„æœºçµæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿä¸€ä¸ªæ•°å¼‚æˆ–åŒä¸€ä¸ªæ•°ä¸¤æ¬¡å°±è¿˜åŸæ²¡æ¯›ç—…å•Šï¼ŸButå¦‚æœäº¤æ¢çš„ä¸¤ä¸ªæ•°æ˜¯åŒä¸€ä¸ªå…ƒç´ æ¯”å¦‚ä¸Šé¢åœ¨æ•°ç»„ä¸­ a==bæ—¶ nums[a]å¼‚æˆ–äº†3æ¬¡è‡ªå·±ç›¸å½“äº<code>nums[a]^nums[a]^nums[a]^nums[a]=0^0=0</code>ï¼Œæœ€åå°±ä¼šå‡ºé—®é¢˜,å…¶å®å¼€å§‹å‰é¢çš„æ’åºéƒ½æ²¡æœ‰å‡ºç°é—®é¢˜ï¼Œä¸»è¦æ˜¯åé¢çš„å¿«æ’æ—¶å‘ç°äº†è¿™ä¸ªBugå› ä¸ºå¿«æ’ä¸ºäº†é¿å…æ•°æ®åˆ†å¸ƒçš„å½±å“éšæœºé€‰å–åŸºå‡†å€¼ï¼Œå¯èƒ½éšæœºçš„æ˜¯æœ€åä¸€ä¸ªï¼Œè€Œä¸”å¿«æ’çš„partitionè¿‡ç¨‹ä¸­ä¹Ÿä¼šæœ‰æ—¶ä¹Ÿä¼šè‡ªå·±å’Œè‡ªå·±äº¤æ¢ï¼Œæœ€å¼€å§‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯è‡ªå·±å’Œç›´æ¥äº¤æ¢ï¼Œè®©å°äºåŒºæ‰©å¤§ã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä»…ä»…åªèƒ½ç”¨æ¥æŠ–ä¸€æŠ–æœºçµï¼Œæ²¡å•¥å®é™…æ„ä¹‰ï¼Œä»¥åè¿˜æ˜¯è¦è€è€å®å®å†™ï¼Œä¸ç„¶å’‹æ­»çš„éƒ½ä¸çŸ¥é“ğŸ˜</p>
<blockquote>
<p> æœªå®Œå¾…ç»­â€¦â€¦è¿˜æœ‰ä¸€ç±»éåŸºäºæ¯”è¾ƒçš„æ’åº æ¡¶æ’åºä¹‹ç±»çš„ç­‰åé¢å†æ¥æ€»ç»“åŠ ä¸Šå».</p>
</blockquote>
<h3 id="å¯¹æ•°å™¨"><a href="#å¯¹æ•°å™¨" class="headerlink" title="å¯¹æ•°å™¨"></a>å¯¹æ•°å™¨</h3><p>ç›´æ¥æ‹¿çš„å·¦ç¥çš„å¯¹æ•°å™¨ğŸ˜„ï¼Œæ‰€æœ‰æ’åºéƒ½æ˜¯ç»è¿‡å¯¹æ•°å™¨æµ‹è¯•çš„ã€‚ <em>talk is cheap show me the code</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sorts</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*int []nums=&#123;1,0,-1,-22,213,4,535,-112,99999&#125;;</span></span><br><span class="line"><span class="comment">        //ShellSort(nums);</span></span><br><span class="line"><span class="comment">        //MaoPaoSort(nums);</span></span><br><span class="line"><span class="comment">        //SelectSort(nums);</span></span><br><span class="line"><span class="comment">        //MergerSort(nums,0,nums.length-1);</span></span><br><span class="line"><span class="comment">        QuickSort(nums,0,nums.length-1);</span></span><br><span class="line"><span class="comment">        printArray(nums);*/</span></span><br><span class="line">        <span class="keyword">int</span> testTime = <span class="number">10000</span>;</span><br><span class="line">        <span class="keyword">int</span> maxSize = <span class="number">10000</span>;</span><br><span class="line">        <span class="keyword">int</span> maxValue = <span class="number">100</span>;</span><br><span class="line">        Boolean succeed = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; testTime; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] arr1 = generateRandomArray(maxSize, maxValue);</span><br><span class="line">            <span class="keyword">int</span>[] arr2 = copyArray(arr1);</span><br><span class="line">            <span class="keyword">long</span> time=System.currentTimeMillis();</span><br><span class="line">            <span class="comment">//å†’æ³¡</span></span><br><span class="line">            <span class="comment">//MaoPaoSort(arr1);</span></span><br><span class="line">            <span class="comment">//é€‰æ‹©</span></span><br><span class="line">            <span class="comment">//SelectSort(arr1);</span></span><br><span class="line">            <span class="comment">//æ’å…¥</span></span><br><span class="line">            <span class="comment">//InsertSort(arr1);</span></span><br><span class="line">            <span class="comment">//å½’å¹¶</span></span><br><span class="line">            <span class="comment">//MergerSort(arr1);</span></span><br><span class="line">            <span class="comment">//éé€’å½’å½’å¹¶</span></span><br><span class="line">            <span class="comment">//MergerSortNoRecurse(arr1);</span></span><br><span class="line">            <span class="comment">//å¸Œå°”</span></span><br><span class="line">            <span class="comment">//ShellSort(arr1);</span></span><br><span class="line">            <span class="comment">//å¿«æ’</span></span><br><span class="line">            <span class="comment">//QuickSort(arr1,0,arr1.length-1);</span></span><br><span class="line">            <span class="comment">//å †æ’åº</span></span><br><span class="line">            HeapSort(arr1);</span><br><span class="line">            <span class="keyword">long</span> time2=System.currentTimeMillis();</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(time2-time);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ç³»ç»Ÿæ’åº</span></span><br><span class="line">            comparator(arr2);</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(System.currentTimeMillis()-time2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!isEqual(arr1, arr2)) &#123;</span><br><span class="line">                succeed = <span class="keyword">false</span>;</span><br><span class="line">                printArray(arr1);</span><br><span class="line">                printArray(arr2);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(succeed ? <span class="string">"Nice!"</span> : <span class="string">"Fucking fucked!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆçº§æ’åºç®—æ³•</span></span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MaoPaoSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=nums.length-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j]&gt;nums[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    swap(nums,j,j+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//é€‰æ‹©æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SelectSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> min=nums[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;nums.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[j]&lt;min)&#123;</span><br><span class="line">                    min=nums[j];</span><br><span class="line">                    swap(nums,j,i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i;j&gt;<span class="number">0</span>&amp;&amp;nums[j]&lt;nums[j-<span class="number">1</span>];j--)&#123;</span><br><span class="line">                swap(nums,j,j-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//æ’å…¥æ’åºçš„æ”¹è¿›</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ShellSort</span><span class="params">(<span class="keyword">int</span> [] nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h=nums.length&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(h&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=h;i&lt;nums.length;i++)&#123;</span><br><span class="line">                <span class="comment">//å®é™…ä¸Šæ˜¯å¢å¤§äº†æ’å…¥æ’åºçš„é—´éš™ï¼Œæœ€åè¿˜æ˜¯å¯¹è¿›è¡Œä¸€æ¬¡æ’å…¥æ’åº,ä¸è¿‡é‚£ä¸ªæ—¶å€™çš„æ•°æ®å·²ç»æ˜¯é«˜åº¦æœ‰åºäº†</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j=i;j-h&gt;=<span class="number">0</span>&amp;&amp;nums[j]&lt;nums[j-h];j-=h) &#123;</span><br><span class="line">                    swap(nums,j,j-h);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            h=h&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//å½’å¹¶æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        help=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        MergerSort(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSort</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(left&gt;=right)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸èƒ½ç›´æ¥åœ¨è¿™é‡Œåˆ›å»ºæ•°ç»„ï¼Œä¸¥é‡å½±å“æ€§èƒ½ï¼Œå¯ä»¥åœ¨ä¸Šé¢å†å¥—ä¸€å±‚æ–¹æ³•ï¼Œæˆ–è€…é‡‡ç”¨merger2çš„æ–¹å¼(ä¹Ÿä¸å¥½ï¼Œåº”è¯¥ä¿è¯è¾…åŠ©æ•°ç»„åªåˆå§‹åŒ–ä¸€æ¬¡)</span></span><br><span class="line">        <span class="comment">//help=new int[nums.length];</span></span><br><span class="line">        <span class="keyword">int</span> mid=left+((right-left)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">        MergerSort(nums,left,mid);</span><br><span class="line">        MergerSort(nums,mid+<span class="number">1</span>,right);</span><br><span class="line">        merger(nums,left,mid,right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¾…åŠ©æ•°ç»„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> []help;</span><br><span class="line">    <span class="comment">//å½’å¹¶æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merger</span><span class="params">(<span class="keyword">int</span> []nums ,<span class="keyword">int</span> left,<span class="keyword">int</span> mid,<span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i=left,j=mid+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//å…¶å®æ²¡åŒºåˆ«ç©ºé—´å¤æ‚åº¦ï¼Œéƒ½æ˜¯O(N) åé¢è¿™ä¸ªä¼šæ›´åŠ è€—è´¹æ—¶é—´</span></span><br><span class="line">        <span class="comment">//int []help=new int[right-left+1];</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k=left;k&lt;=right;k++)&#123;</span><br><span class="line">            <span class="comment">//ä¸€è¾¹çš„åˆ°è¾¾å°½å¤´,å…ˆåˆ¤æ–­ä¸¤ä¸ªè¾¹ç•Œ,ä¸ç„¶å°±è¦æƒ³ä¸‹é¢é‚£æ ·å†™</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;mid)&#123;</span><br><span class="line">                help[k]=nums[j++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(j&gt;right)&#123;</span><br><span class="line">                help[k]=nums[i++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[i]&gt;nums[j])&#123;</span><br><span class="line">                help[k]=nums[j++];</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ç›¸ç­‰çš„æ—¶å€™å·¦è¾¹å…ˆè¿›æ ˆä¿è¯ç¨³å®šæ€§</span></span><br><span class="line">                help[k]=nums[i++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">/*// 2 </span></span><br><span class="line"><span class="comment">            if( i&lt;=mid &amp;&amp;j&lt;=right &amp;&amp; nums[i]&gt;nums[j])&#123;</span></span><br><span class="line"><span class="comment">                help[k]=nums[j++];</span></span><br><span class="line"><span class="comment">            &#125;else if( i&lt;=mid &amp;&amp;j&lt;=right &amp;&amp; nums[i]&lt;=nums[j])&#123;</span></span><br><span class="line"><span class="comment">                //ç›¸ç­‰çš„æ—¶å€™å·¦è¾¹å…ˆè¿›æ ˆä¿è¯ç¨³å®šæ€§</span></span><br><span class="line"><span class="comment">                help[k]=nums[i++];</span></span><br><span class="line"><span class="comment">            &#125;else if(i&gt;mid)&#123;</span></span><br><span class="line"><span class="comment">                help[k]=nums[j++];</span></span><br><span class="line"><span class="comment">            &#125;else if(j&gt;right)&#123; </span></span><br><span class="line"><span class="comment">                help[k]=nums[i++];</span></span><br><span class="line"><span class="comment">            &#125;*/</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¤åˆ¶</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k=left;k&lt;=right;k++)&#123;</span><br><span class="line">            nums[k]=help[k];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//asddsdasdasdasd</span></span><br><span class="line">        <span class="comment">/*while (p1 &lt;= m &amp;&amp; p2 &lt;= r) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p1] &lt; arr[p2] ? arr[p1++] : arr[p2++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        while (p1 &lt;= m) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p1++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        while (p2 &lt;= r) &#123;</span></span><br><span class="line"><span class="comment">            help[i++] = arr[p2++];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        for (i = 0; i &lt; help.length; i++) &#123;</span></span><br><span class="line"><span class="comment">            arr[l + i] = help[i];</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½’å¹¶æ’åºï¼ˆéé€’å½’ï¼Œæ–¹å‘ä¸ä¸€æ ·ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€æ ·éƒ½ä¸ºO(NlogN)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">MergerSortNoRecurse</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        help=<span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        <span class="comment">//æ§åˆ¶åˆå¹¶çš„é•¿åº¦ </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> sz=<span class="number">1</span>;sz&lt;nums.length;sz*=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">//æ§åˆ¶åˆå¹¶çš„å‘åç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.length-sz;i+=<span class="number">2</span>*sz)&#123;</span><br><span class="line">                <span class="keyword">int</span> r=i+<span class="number">2</span>*sz-<span class="number">1</span>&lt;nums.length-<span class="number">1</span>?i+<span class="number">2</span>*sz-<span class="number">1</span>:nums.length-<span class="number">1</span>;</span><br><span class="line">                merger(nums,i,i+sz-<span class="number">1</span>,r);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//å¿«æ’ (ä¸å…·æœ‰ç¨³å®šæ€§æˆ–è€…éš¾ä»¥å®ç°)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l&gt;r)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//éšæœºä¸€ä¸ªæ•°å’Œräº¤æ¢ ---éšæœºå¿«æ’</span></span><br><span class="line">        swap(nums, l + (<span class="keyword">int</span>) (Math.random() * (r - l + <span class="number">1</span>)), r);</span><br><span class="line">        <span class="keyword">int</span> []index=partition2(nums,l,r);</span><br><span class="line">        QuickSort(nums,l,index[<span class="number">0</span>]-<span class="number">1</span>);</span><br><span class="line">        QuickSort(nums,index[<span class="number">1</span>]+<span class="number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition1</span><span class="params">(<span class="keyword">int</span> []nums ,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> base = l;</span><br><span class="line">        <span class="comment">//åŒæŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">int</span> lo = l, hi = r;</span><br><span class="line">        <span class="comment">//è¿™ç§partitionçš„å®ç°ç»†èŠ‚æœ‰ç‚¹ä¸å¥½ç†è§£</span></span><br><span class="line">        <span class="comment">//è¿™ç§partitionä¸èƒ½éšæœºåŸºå‡†å…ƒç´ ã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line">        <span class="comment">//å‚ç…§äº†å·¦ç¥çš„ä»£ç å‘ç°å…¶å®å¯ä»¥åœ¨partitionä¹‹å‰éšæœºä¸€ä¸ªå˜é‡å’Œloäº¤æ¢ï¼Œä¹Ÿæœ‰åŒæ ·çš„æ•ˆæœä¹Ÿæ¶ˆé™¤äº†è¾“å…¥çš„å½±å“</span></span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="comment">//å¿…é¡»å…ˆä»å³å¾€å·¦,ä¸»è¦æ˜¯ä¸ºäº†å½’ä½çš„æ—¶å€™ä¸å‡ºç°é—®é¢˜</span></span><br><span class="line">            <span class="comment">//æ¯”å¦‚è¿™é‡Œé€‰å–çš„åŸºå‡†å…ƒç´ æ˜¯ lo ä¹Ÿå°±æ˜¯å­æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå…ˆä»å·¦å¾€å³æœ€åäº¤æ¢çš„å°±æ˜¯loå’Œä¸€ä¸ªæ¯”loå¤§çš„æ•°ç„¶è€Œæ¯”loå¤§çš„æ•°åº”è¯¥æ”¾åœ¨å³è¾¹</span></span><br><span class="line">            <span class="comment">//åä¹‹å¦‚æœé€‰çš„æ˜¯hiä¸ºåŸºå‡†å°±è¦å…ˆä»å·¦å¾€å³</span></span><br><span class="line">            <span class="comment">// 7  0  1  2    10  11  22</span></span><br><span class="line">            <span class="keyword">while</span> (nums[hi] &gt;= nums[base] &amp;&amp; lo &lt; hi) &#123;</span><br><span class="line">                hi--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (nums[lo] &lt;= nums[base] &amp;&amp; lo &lt; hi) &#123;</span><br><span class="line">                lo++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (lo &lt; hi) &#123;</span><br><span class="line">                swap(nums, lo, hi);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å½’ä½ lo==hi</span></span><br><span class="line">        swap(nums, hi, base);</span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å…°å›½æ——ä¼˜åŒ–çš„å¿«æ’</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] partition2(<span class="keyword">int</span> []arr ,<span class="keyword">int</span> l,<span class="keyword">int</span> r)&#123;</span><br><span class="line">        <span class="comment">// 7  0  1  2    10  11  22        </span></span><br><span class="line">        <span class="comment">//å°äºåŒºä¸ºç©º</span></span><br><span class="line">        <span class="keyword">int</span> less=l-<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//l ----&gt; more ä¸ºå¾…å®šåŒº</span></span><br><span class="line">        <span class="keyword">int</span> more=r;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;more)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[l]&lt;arr[r])&#123;</span><br><span class="line">                swap(arr,++less,l++);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(arr[l]&gt;arr[r])&#123;</span><br><span class="line">                <span class="comment">//å¤§äºåŸºå‡†æ—¶ , å¤§äºåŒºæ‰©å¤§(å¤§äºåŒºçš„å‰ä¸€ä¸ªå…ƒç´ å’Œå½“å‰å…ƒç´ äº¤æ¢ï¼Œä½†æ˜¯ä¸çŸ¥é“å¤§äºåŒºçš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆæƒ…å†µï¼Œæ‰€ä»¥ä¸èƒ½l++)</span></span><br><span class="line">                swap(arr,--more,l);</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                l++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å’Œå¤§äºåŒºé—´çš„ç¬¬ä¸€ä¸ªäº¤æ¢ ä¿è¯å½’ä½æ­£ç¡®,å¦‚æœé€‰å–çš„æ˜¯ä»¥æœ€å·¦è¾¹ä¸ºåŸºå‡†å…ƒç´  è¿™é‡Œå°±åº”è¯¥å’Œlessäº¤æ¢</span></span><br><span class="line">        <span class="comment">//åˆ°è¿™é‡Œ  [less+1,more-1]ä¹‹é—´éƒ½æ˜¯ç­‰äº åŸºå‡†å…ƒç´  arrã€rã€‘ çš„</span></span><br><span class="line">        swap(arr,more,r);</span><br><span class="line">        <span class="comment">//åˆ°è¿™  [less+1,more]ä¹‹é—´éƒ½æ˜¯ç­‰äº åŸºå‡†å…ƒç´  arrã€rã€‘ çš„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;less+<span class="number">1</span>,more&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="comment">//å †æ’åº</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">HeapSort</span><span class="params">(<span class="keyword">int</span> []nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ„å»ºå¤§æ ¹å †</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; i++) &#123;</span><br><span class="line">            heapInsert(nums,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢å †é¡¶å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> size= nums.length;</span><br><span class="line">        swap(nums,size-<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">while</span>(size&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//è°ƒæ•´</span></span><br><span class="line">            heapIfy(nums,<span class="number">0</span>,size);</span><br><span class="line">            <span class="comment">//æ¯æ¬¡éƒ½å’Œæœ€åä¸€ä¸ªå­©å­èŠ‚ç‚¹äº¤æ¢ï¼Œç„¶åsize--</span></span><br><span class="line">            swap(nums,--size,<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‘ä¸Šçˆ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span> []nums, <span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">        <span class="comment">//è¿­ä»£æ¯”è¾ƒå½“å‰èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹çš„å€¼çš„å¤§å°</span></span><br><span class="line">        <span class="keyword">while</span>(nums[index]&gt;nums[(index-<span class="number">1</span>)/<span class="number">2</span>])&#123;</span><br><span class="line">            swap(nums,index,(index-<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">            index=(index-<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‘ä¸‹çˆ¬</span></span><br><span class="line">    <span class="comment">//indexä½ç½®çš„å€¼å˜å°åç»§ç»­è°ƒæ•´ä¸ºå¤§æ ¹å †</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapIfy</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> index,<span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="comment">//å·¦å­©å­</span></span><br><span class="line">        <span class="keyword">int</span> left=index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//èŠ‚ç‚¹æœ‰å·¦å­©å­</span></span><br><span class="line">        <span class="keyword">while</span>(left&lt;size)&#123;</span><br><span class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰å³å­©å­.....</span></span><br><span class="line">            <span class="comment">//å·¦å³å­©å­é‡Œçš„æœ€å¤§å€¼ æœ‰å³å­©å­ä¸”å³å­©å­å¤§äºå·¦å­©å­</span></span><br><span class="line">            <span class="keyword">int</span> largest=left+<span class="number">1</span>&lt;size &amp;&amp; nums[left]&lt;nums[left+<span class="number">1</span>] ?left+<span class="number">1</span>:left;</span><br><span class="line">            largest=nums[largest]&gt;nums[index]?largest:index;</span><br><span class="line">            <span class="comment">//æœ€å¤§å€¼ç­‰äºè‡ªå·±</span></span><br><span class="line">            <span class="keyword">if</span>(largest==index)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//äº¤æ¢å¤§å­©å­èŠ‚ç‚¹å’Œè‡ªå·±</span></span><br><span class="line">            swap(nums,largest,index);</span><br><span class="line">            <span class="comment">//è®¾ç½®å¤§å­©å­çš„indexå’Œå·¦å­©å­</span></span><br><span class="line">            index=largest;</span><br><span class="line">            left=index*<span class="number">2</span>+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//************************************************************************</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> []nums,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="comment">//ä¸çŸ¥é“ä¸ºå•¥å¿«æ’äº¤æ¢çš„æ—¶å€™è¿™æ ·å†™ä¼šå‡ºç°å¾ˆå¤š0</span></span><br><span class="line">        <span class="comment">//æŸ¥è¯¢çŸ¥é“ï¼Œå½“a==bæ—¶è‡ªå·±å’Œç›´æ¥äº¤æ¢ï¼Œaå¼‚æˆ–è‡ªå·±4æ¬¡åa==0.....</span></span><br><span class="line">        nums[a]=nums[a]^nums[b];</span><br><span class="line">        nums[b]=nums[a]^nums[b];</span><br><span class="line">        nums[a]=nums[a]^nums[b];</span><br><span class="line">        <span class="comment">/*int temp=nums[a];</span></span><br><span class="line"><span class="comment">        nums[a]=nums[b];</span></span><br><span class="line"><span class="comment">        nums[b]=temp;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test  å¯¹æ•°å™¨</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">comparator</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] generateRandomArray(<span class="keyword">int</span> maxSize, <span class="keyword">int</span> maxValue) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[(<span class="keyword">int</span>) ((maxSize + <span class="number">1</span>) * Math.random())];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            arr[i] = (<span class="keyword">int</span>) ((maxValue + <span class="number">1</span>) * Math.random()) - (<span class="keyword">int</span>) (maxValue * Math.random());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] copyArray(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            res[i] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">isEqual</span><span class="params">(<span class="keyword">int</span>[] arr1, <span class="keyword">int</span>[] arr2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((arr1 == <span class="keyword">null</span> &amp;&amp; arr2 != <span class="keyword">null</span>) || (arr1 != <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr1 == <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr1.length != arr2.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr1.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr1[i] != arr2[i]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (arr == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            System.out.print(arr[i] + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>â€‹        </p>

    </div>

  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å¸¸è§æ’åºç®—æ³•æ€»ç»“"><span class="toc-text">å¸¸è§æ’åºç®—æ³•æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å†’æ³¡æ’åº"><span class="toc-text">å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#é€‰æ‹©æ’åº"><span class="toc-text">é€‰æ‹©æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç›´æ¥æ’å…¥æ’åº"><span class="toc-text">ç›´æ¥æ’å…¥æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å½’å¹¶æ’åº"><span class="toc-text">å½’å¹¶æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹"><span class="toc-text">å›¾ä¸Šé¢çš„æ˜¯é€’å½’ç‰ˆæœ¬çš„å½’å¹¶ï¼Œå®ç°å¦‚ä¸‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#éé€’å½’ç‰ˆæœ¬"><span class="toc-text">éé€’å½’ç‰ˆæœ¬</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’-è·å…°å›½æ——é—®é¢˜"><span class="toc-text">ä¸‰å‘åˆ‡åˆ†çš„å¿«æ’(è·å…°å›½æ——é—®é¢˜)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å †æ’åº"><span class="toc-text">å †æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å †æ’åºæ›´ä¼˜çš„åšæ³•"><span class="toc-text">å †æ’åºæ›´ä¼˜çš„åšæ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¸Œå°”æ’åº"><span class="toc-text">å¸Œå°”æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BUG"><span class="toc-text">BUG</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¯¹æ•°å™¨"><span class="toc-text">å¯¹æ•°å™¨</span></a></li></ol></li></ol>
  </div>


  </div>
</div>

    <section id="comments" style="margin:10px;padding:10px;background:#fff;">
      
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'imlgw';
    
    var disqus_url = 'http://imlgw.top/2018/12/11/chang-jian-pai-xu-suan-fa-zong-jie/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script id="dsq-count-scr" src="//imlgw.disqus.com/count.js" async></script>



    </section>
<div class="copyright">
    <span>æœ¬ä½œå“é‡‡ç”¨</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®</a>
    <span>è¿›è¡Œè®¸å¯ã€‚ è½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ã€‚</span>
</div>


  
    <div class="post-nav">
      <div class="post-nav-item post-nav-next">
        
          <span>ã€ˆ </span>
          <a href="/2018/12/03/nodejs-mo-fang-express-feng-zhuang-lu-you/" rel="next" title="NodeJSæ¨¡ä»¿Expresså°è£…è·¯ç”±">
          NodeJSæ¨¡ä»¿Expresså°è£…è·¯ç”±
          </a>
        
      </div>
  
      <div class="post-nav-item post-nav-prev">
          
          <a href="/2019/02/27/leetcode-lian-biao/" rel="prev" title="LeetCodeé“¾è¡¨">
            LeetCodeé“¾è¡¨
          </a>
          <span>ã€‰</span>
        
      </div>
    </div>
  

    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/imlgw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="/links">å‹æƒ…é“¾æ¥</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://imlgw.avosapps.us/" target="_blank" rel="noopener">åšå®¢è¯„è®ºç®¡ç†</a>
    </div>
    <div id="bottom-inner">
        <a class="bottom-item" href="http://beian.miit.gov.cn/publish/query/indexFirst.action" target="_blank">é„‚ICPå¤‡18011208å·</a>
    </div>
</footer>

  

<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * ç»™logoè®¾ç½®ç‚¹å‡»äº‹ä»¶
     * 
     * - å›åˆ°é¡¶éƒ¨
     * - å‡ºç°çˆ±å¿ƒ
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



  

<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>
</html>
